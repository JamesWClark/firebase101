function lB(n,e){for(var t=0;t<e.length;t++){const i=e[t];if(typeof i!="string"&&!Array.isArray(i)){for(const r in i)if(r!=="default"&&!(r in n)){const s=Object.getOwnPropertyDescriptor(i,r);s&&Object.defineProperty(n,r,s.get?s:{enumerable:!0,get:()=>i[r]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&i(o)}).observe(document,{childList:!0,subtree:!0});function t(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerPolicy&&(s.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?s.credentials="include":r.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(r){if(r.ep)return;r.ep=!0;const s=t(r);fetch(r.href,s)}})();var Fu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function aB(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var bA={exports:{}},Re={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Uh=Symbol.for("react.element"),uB=Symbol.for("react.portal"),cB=Symbol.for("react.fragment"),hB=Symbol.for("react.strict_mode"),fB=Symbol.for("react.profiler"),dB=Symbol.for("react.provider"),pB=Symbol.for("react.context"),gB=Symbol.for("react.forward_ref"),mB=Symbol.for("react.suspense"),OB=Symbol.for("react.memo"),yB=Symbol.for("react.lazy"),jk=Symbol.iterator;function vB(n){return n===null||typeof n!="object"?null:(n=jk&&n[jk]||n["@@iterator"],typeof n=="function"?n:null)}var CA={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},AA=Object.assign,IA={};function ou(n,e,t){this.props=n,this.context=e,this.refs=IA,this.updater=t||CA}ou.prototype.isReactComponent={};ou.prototype.setState=function(n,e){if(typeof n!="object"&&typeof n!="function"&&n!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,n,e,"setState")};ou.prototype.forceUpdate=function(n){this.updater.enqueueForceUpdate(this,n,"forceUpdate")};function RA(){}RA.prototype=ou.prototype;function bw(n,e,t){this.props=n,this.context=e,this.refs=IA,this.updater=t||CA}var Cw=bw.prototype=new RA;Cw.constructor=bw;AA(Cw,ou.prototype);Cw.isPureReactComponent=!0;var qk=Array.isArray,$A=Object.prototype.hasOwnProperty,Aw={current:null},QA={key:!0,ref:!0,__self:!0,__source:!0};function DA(n,e,t){var i,r={},s=null,o=null;if(e!=null)for(i in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)$A.call(e,i)&&!QA.hasOwnProperty(i)&&(r[i]=e[i]);var l=arguments.length-2;if(l===1)r.children=t;else if(1<l){for(var u=Array(l),h=0;h<l;h++)u[h]=arguments[h+2];r.children=u}if(n&&n.defaultProps)for(i in l=n.defaultProps,l)r[i]===void 0&&(r[i]=l[i]);return{$$typeof:Uh,type:n,key:s,ref:o,props:r,_owner:Aw.current}}function wB(n,e){return{$$typeof:Uh,type:n.type,key:e,ref:n.ref,props:n.props,_owner:n._owner}}function Iw(n){return typeof n=="object"&&n!==null&&n.$$typeof===Uh}function SB(n){var e={"=":"=0",":":"=2"};return"$"+n.replace(/[=:]/g,function(t){return e[t]})}var Gk=/\/+/g;function Z0(n,e){return typeof n=="object"&&n!==null&&n.key!=null?SB(""+n.key):e.toString(36)}function cp(n,e,t,i,r){var s=typeof n;(s==="undefined"||s==="boolean")&&(n=null);var o=!1;if(n===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(n.$$typeof){case Uh:case uB:o=!0}}if(o)return o=n,r=r(o),n=i===""?"."+Z0(o,0):i,qk(r)?(t="",n!=null&&(t=n.replace(Gk,"$&/")+"/"),cp(r,e,t,"",function(h){return h})):r!=null&&(Iw(r)&&(r=wB(r,t+(!r.key||o&&o.key===r.key?"":(""+r.key).replace(Gk,"$&/")+"/")+n)),e.push(r)),1;if(o=0,i=i===""?".":i+":",qk(n))for(var l=0;l<n.length;l++){s=n[l];var u=i+Z0(s,l);o+=cp(s,e,t,u,r)}else if(u=vB(n),typeof u=="function")for(n=u.call(n),l=0;!(s=n.next()).done;)s=s.value,u=i+Z0(s,l++),o+=cp(s,e,t,u,r);else if(s==="object")throw e=String(n),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Od(n,e,t){if(n==null)return n;var i=[],r=0;return cp(n,i,"","",function(s){return e.call(t,s,r++)}),i}function _B(n){if(n._status===-1){var e=n._result;e=e(),e.then(function(t){(n._status===0||n._status===-1)&&(n._status=1,n._result=t)},function(t){(n._status===0||n._status===-1)&&(n._status=2,n._result=t)}),n._status===-1&&(n._status=0,n._result=e)}if(n._status===1)return n._result.default;throw n._result}var Vn={current:null},hp={transition:null},xB={ReactCurrentDispatcher:Vn,ReactCurrentBatchConfig:hp,ReactCurrentOwner:Aw};Re.Children={map:Od,forEach:function(n,e,t){Od(n,function(){e.apply(this,arguments)},t)},count:function(n){var e=0;return Od(n,function(){e++}),e},toArray:function(n){return Od(n,function(e){return e})||[]},only:function(n){if(!Iw(n))throw Error("React.Children.only expected to receive a single React element child.");return n}};Re.Component=ou;Re.Fragment=cB;Re.Profiler=fB;Re.PureComponent=bw;Re.StrictMode=hB;Re.Suspense=mB;Re.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=xB;Re.cloneElement=function(n,e,t){if(n==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+n+".");var i=AA({},n.props),r=n.key,s=n.ref,o=n._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=Aw.current),e.key!==void 0&&(r=""+e.key),n.type&&n.type.defaultProps)var l=n.type.defaultProps;for(u in e)$A.call(e,u)&&!QA.hasOwnProperty(u)&&(i[u]=e[u]===void 0&&l!==void 0?l[u]:e[u])}var u=arguments.length-2;if(u===1)i.children=t;else if(1<u){l=Array(u);for(var h=0;h<u;h++)l[h]=arguments[h+2];i.children=l}return{$$typeof:Uh,type:n.type,key:r,ref:s,props:i,_owner:o}};Re.createContext=function(n){return n={$$typeof:pB,_currentValue:n,_currentValue2:n,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},n.Provider={$$typeof:dB,_context:n},n.Consumer=n};Re.createElement=DA;Re.createFactory=function(n){var e=DA.bind(null,n);return e.type=n,e};Re.createRef=function(){return{current:null}};Re.forwardRef=function(n){return{$$typeof:gB,render:n}};Re.isValidElement=Iw;Re.lazy=function(n){return{$$typeof:yB,_payload:{_status:-1,_result:n},_init:_B}};Re.memo=function(n,e){return{$$typeof:OB,type:n,compare:e===void 0?null:e}};Re.startTransition=function(n){var e=hp.transition;hp.transition={};try{n()}finally{hp.transition=e}};Re.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};Re.useCallback=function(n,e){return Vn.current.useCallback(n,e)};Re.useContext=function(n){return Vn.current.useContext(n)};Re.useDebugValue=function(){};Re.useDeferredValue=function(n){return Vn.current.useDeferredValue(n)};Re.useEffect=function(n,e){return Vn.current.useEffect(n,e)};Re.useId=function(){return Vn.current.useId()};Re.useImperativeHandle=function(n,e,t){return Vn.current.useImperativeHandle(n,e,t)};Re.useInsertionEffect=function(n,e){return Vn.current.useInsertionEffect(n,e)};Re.useLayoutEffect=function(n,e){return Vn.current.useLayoutEffect(n,e)};Re.useMemo=function(n,e){return Vn.current.useMemo(n,e)};Re.useReducer=function(n,e,t){return Vn.current.useReducer(n,e,t)};Re.useRef=function(n){return Vn.current.useRef(n)};Re.useState=function(n){return Vn.current.useState(n)};Re.useSyncExternalStore=function(n,e,t){return Vn.current.useSyncExternalStore(n,e,t)};Re.useTransition=function(){return Vn.current.useTransition()};Re.version="18.2.0";bA.exports=Re;var X=bA.exports;const K=aB(X),TB=lB({__proto__:null,default:K},[X]);var MA={exports:{}},wi={},NA={exports:{}},LA={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(n){function e(z,ie){var oe=z.length;z.push(ie);e:for(;0<oe;){var Te=oe-1>>>1,Xe=z[Te];if(0<r(Xe,ie))z[Te]=ie,z[oe]=Xe,oe=Te;else break e}}function t(z){return z.length===0?null:z[0]}function i(z){if(z.length===0)return null;var ie=z[0],oe=z.pop();if(oe!==ie){z[0]=oe;e:for(var Te=0,Xe=z.length,Fi=Xe>>>1;Te<Fi;){var _i=2*(Te+1)-1,fr=z[_i],xi=_i+1,Rl=z[xi];if(0>r(fr,oe))xi<Xe&&0>r(Rl,fr)?(z[Te]=Rl,z[xi]=oe,Te=xi):(z[Te]=fr,z[_i]=oe,Te=_i);else if(xi<Xe&&0>r(Rl,oe))z[Te]=Rl,z[xi]=oe,Te=xi;else break e}}return ie}function r(z,ie){var oe=z.sortIndex-ie.sortIndex;return oe!==0?oe:z.id-ie.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;n.unstable_now=function(){return s.now()}}else{var o=Date,l=o.now();n.unstable_now=function(){return o.now()-l}}var u=[],h=[],f=1,p=null,g=3,O=!1,v=!1,x=!1,k=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function E(z){for(var ie=t(h);ie!==null;){if(ie.callback===null)i(h);else if(ie.startTime<=z)i(h),ie.sortIndex=ie.expirationTime,e(u,ie);else break;ie=t(h)}}function b(z){if(x=!1,E(z),!v)if(t(u)!==null)v=!0,Ot(I);else{var ie=t(h);ie!==null&&yt(b,ie.startTime-z)}}function I(z,ie){v=!1,x&&(x=!1,w(W),W=-1),O=!0;var oe=g;try{for(E(ie),p=t(u);p!==null&&(!(p.expirationTime>ie)||z&&!Ee());){var Te=p.callback;if(typeof Te=="function"){p.callback=null,g=p.priorityLevel;var Xe=Te(p.expirationTime<=ie);ie=n.unstable_now(),typeof Xe=="function"?p.callback=Xe:p===t(u)&&i(u),E(ie)}else i(u);p=t(u)}if(p!==null)var Fi=!0;else{var _i=t(h);_i!==null&&yt(b,_i.startTime-ie),Fi=!1}return Fi}finally{p=null,g=oe,O=!1}}var Q=!1,M=null,W=-1,J=5,j=-1;function Ee(){return!(n.unstable_now()-j<J)}function ze(){if(M!==null){var z=n.unstable_now();j=z;var ie=!0;try{ie=M(!0,z)}finally{ie?lt():(Q=!1,M=null)}}else Q=!1}var lt;if(typeof _=="function")lt=function(){_(ze)};else if(typeof MessageChannel<"u"){var bt=new MessageChannel,_t=bt.port2;bt.port1.onmessage=ze,lt=function(){_t.postMessage(null)}}else lt=function(){k(ze,0)};function Ot(z){M=z,Q||(Q=!0,lt())}function yt(z,ie){W=k(function(){z(n.unstable_now())},ie)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(z){z.callback=null},n.unstable_continueExecution=function(){v||O||(v=!0,Ot(I))},n.unstable_forceFrameRate=function(z){0>z||125<z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):J=0<z?Math.floor(1e3/z):5},n.unstable_getCurrentPriorityLevel=function(){return g},n.unstable_getFirstCallbackNode=function(){return t(u)},n.unstable_next=function(z){switch(g){case 1:case 2:case 3:var ie=3;break;default:ie=g}var oe=g;g=ie;try{return z()}finally{g=oe}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(z,ie){switch(z){case 1:case 2:case 3:case 4:case 5:break;default:z=3}var oe=g;g=z;try{return ie()}finally{g=oe}},n.unstable_scheduleCallback=function(z,ie,oe){var Te=n.unstable_now();switch(typeof oe=="object"&&oe!==null?(oe=oe.delay,oe=typeof oe=="number"&&0<oe?Te+oe:Te):oe=Te,z){case 1:var Xe=-1;break;case 2:Xe=250;break;case 5:Xe=1073741823;break;case 4:Xe=1e4;break;default:Xe=5e3}return Xe=oe+Xe,z={id:f++,callback:ie,priorityLevel:z,startTime:oe,expirationTime:Xe,sortIndex:-1},oe>Te?(z.sortIndex=oe,e(h,z),t(u)===null&&z===t(h)&&(x?(w(W),W=-1):x=!0,yt(b,oe-Te))):(z.sortIndex=Xe,e(u,z),v||O||(v=!0,Ot(I))),z},n.unstable_shouldYield=Ee,n.unstable_wrapCallback=function(z){var ie=g;return function(){var oe=g;g=ie;try{return z.apply(this,arguments)}finally{g=oe}}}})(LA);NA.exports=LA;var kB=NA.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var VA=X,Oi=kB;function F(n){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+n,t=1;t<arguments.length;t++)e+="&args[]="+encodeURIComponent(arguments[t]);return"Minified React error #"+n+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var ZA=new Set,Yc={};function Tl(n,e){Na(n,e),Na(n+"Capture",e)}function Na(n,e){for(Yc[n]=e,n=0;n<e.length;n++)ZA.add(e[n])}var fs=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),lv=Object.prototype.hasOwnProperty,EB=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Hk={},Kk={};function PB(n){return lv.call(Kk,n)?!0:lv.call(Hk,n)?!1:EB.test(n)?Kk[n]=!0:(Hk[n]=!0,!1)}function bB(n,e,t,i){if(t!==null&&t.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return i?!1:t!==null?!t.acceptsBooleans:(n=n.toLowerCase().slice(0,5),n!=="data-"&&n!=="aria-");default:return!1}}function CB(n,e,t,i){if(e===null||typeof e>"u"||bB(n,e,t,i))return!0;if(i)return!1;if(t!==null)switch(t.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Zn(n,e,t,i,r,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=i,this.attributeNamespace=r,this.mustUseProperty=t,this.propertyName=n,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var fn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(n){fn[n]=new Zn(n,0,!1,n,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(n){var e=n[0];fn[e]=new Zn(e,1,!1,n[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(n){fn[n]=new Zn(n,2,!1,n.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(n){fn[n]=new Zn(n,2,!1,n,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(n){fn[n]=new Zn(n,3,!1,n.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(n){fn[n]=new Zn(n,3,!0,n,null,!1,!1)});["capture","download"].forEach(function(n){fn[n]=new Zn(n,4,!1,n,null,!1,!1)});["cols","rows","size","span"].forEach(function(n){fn[n]=new Zn(n,6,!1,n,null,!1,!1)});["rowSpan","start"].forEach(function(n){fn[n]=new Zn(n,5,!1,n.toLowerCase(),null,!1,!1)});var Rw=/[\-:]([a-z])/g;function $w(n){return n[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(n){var e=n.replace(Rw,$w);fn[e]=new Zn(e,1,!1,n,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(n){var e=n.replace(Rw,$w);fn[e]=new Zn(e,1,!1,n,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(n){var e=n.replace(Rw,$w);fn[e]=new Zn(e,1,!1,n,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(n){fn[n]=new Zn(n,1,!1,n.toLowerCase(),null,!1,!1)});fn.xlinkHref=new Zn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(n){fn[n]=new Zn(n,1,!1,n.toLowerCase(),null,!0,!0)});function Qw(n,e,t,i){var r=fn.hasOwnProperty(e)?fn[e]:null;(r!==null?r.type!==0:i||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(CB(e,t,r,i)&&(t=null),i||r===null?PB(e)&&(t===null?n.removeAttribute(e):n.setAttribute(e,""+t)):r.mustUseProperty?n[r.propertyName]=t===null?r.type===3?!1:"":t:(e=r.attributeName,i=r.attributeNamespace,t===null?n.removeAttribute(e):(r=r.type,t=r===3||r===4&&t===!0?"":""+t,i?n.setAttributeNS(i,e,t):n.setAttribute(e,t))))}var Ts=VA.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,yd=Symbol.for("react.element"),na=Symbol.for("react.portal"),ia=Symbol.for("react.fragment"),Dw=Symbol.for("react.strict_mode"),av=Symbol.for("react.profiler"),UA=Symbol.for("react.provider"),BA=Symbol.for("react.context"),Mw=Symbol.for("react.forward_ref"),uv=Symbol.for("react.suspense"),cv=Symbol.for("react.suspense_list"),Nw=Symbol.for("react.memo"),Ls=Symbol.for("react.lazy"),WA=Symbol.for("react.offscreen"),Jk=Symbol.iterator;function zu(n){return n===null||typeof n!="object"?null:(n=Jk&&n[Jk]||n["@@iterator"],typeof n=="function"?n:null)}var gt=Object.assign,U0;function cc(n){if(U0===void 0)try{throw Error()}catch(t){var e=t.stack.trim().match(/\n( *(at )?)/);U0=e&&e[1]||""}return`
`+U0+n}var B0=!1;function W0(n,e){if(!n||B0)return"";B0=!0;var t=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(h){var i=h}Reflect.construct(n,[],e)}else{try{e.call()}catch(h){i=h}n.call(e.prototype)}else{try{throw Error()}catch(h){i=h}n()}}catch(h){if(h&&i&&typeof h.stack=="string"){for(var r=h.stack.split(`
`),s=i.stack.split(`
`),o=r.length-1,l=s.length-1;1<=o&&0<=l&&r[o]!==s[l];)l--;for(;1<=o&&0<=l;o--,l--)if(r[o]!==s[l]){if(o!==1||l!==1)do if(o--,l--,0>l||r[o]!==s[l]){var u=`
`+r[o].replace(" at new "," at ");return n.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",n.displayName)),u}while(1<=o&&0<=l);break}}}finally{B0=!1,Error.prepareStackTrace=t}return(n=n?n.displayName||n.name:"")?cc(n):""}function AB(n){switch(n.tag){case 5:return cc(n.type);case 16:return cc("Lazy");case 13:return cc("Suspense");case 19:return cc("SuspenseList");case 0:case 2:case 15:return n=W0(n.type,!1),n;case 11:return n=W0(n.type.render,!1),n;case 1:return n=W0(n.type,!0),n;default:return""}}function hv(n){if(n==null)return null;if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case ia:return"Fragment";case na:return"Portal";case av:return"Profiler";case Dw:return"StrictMode";case uv:return"Suspense";case cv:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case BA:return(n.displayName||"Context")+".Consumer";case UA:return(n._context.displayName||"Context")+".Provider";case Mw:var e=n.render;return n=n.displayName,n||(n=e.displayName||e.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case Nw:return e=n.displayName||null,e!==null?e:hv(n.type)||"Memo";case Ls:e=n._payload,n=n._init;try{return hv(n(e))}catch{}}return null}function IB(n){var e=n.type;switch(n.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return n=e.render,n=n.displayName||n.name||"",e.displayName||(n!==""?"ForwardRef("+n+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return hv(e);case 8:return e===Dw?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function vo(n){switch(typeof n){case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function YA(n){var e=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function RB(n){var e=YA(n)?"checked":"value",t=Object.getOwnPropertyDescriptor(n.constructor.prototype,e),i=""+n[e];if(!n.hasOwnProperty(e)&&typeof t<"u"&&typeof t.get=="function"&&typeof t.set=="function"){var r=t.get,s=t.set;return Object.defineProperty(n,e,{configurable:!0,get:function(){return r.call(this)},set:function(o){i=""+o,s.call(this,o)}}),Object.defineProperty(n,e,{enumerable:t.enumerable}),{getValue:function(){return i},setValue:function(o){i=""+o},stopTracking:function(){n._valueTracker=null,delete n[e]}}}}function vd(n){n._valueTracker||(n._valueTracker=RB(n))}function FA(n){if(!n)return!1;var e=n._valueTracker;if(!e)return!0;var t=e.getValue(),i="";return n&&(i=YA(n)?n.checked?"true":"false":n.value),n=i,n!==t?(e.setValue(n),!0):!1}function Bp(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}function fv(n,e){var t=e.checked;return gt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:t??n._wrapperState.initialChecked})}function eE(n,e){var t=e.defaultValue==null?"":e.defaultValue,i=e.checked!=null?e.checked:e.defaultChecked;t=vo(e.value!=null?e.value:t),n._wrapperState={initialChecked:i,initialValue:t,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function zA(n,e){e=e.checked,e!=null&&Qw(n,"checked",e,!1)}function dv(n,e){zA(n,e);var t=vo(e.value),i=e.type;if(t!=null)i==="number"?(t===0&&n.value===""||n.value!=t)&&(n.value=""+t):n.value!==""+t&&(n.value=""+t);else if(i==="submit"||i==="reset"){n.removeAttribute("value");return}e.hasOwnProperty("value")?pv(n,e.type,t):e.hasOwnProperty("defaultValue")&&pv(n,e.type,vo(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(n.defaultChecked=!!e.defaultChecked)}function tE(n,e,t){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var i=e.type;if(!(i!=="submit"&&i!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+n._wrapperState.initialValue,t||e===n.value||(n.value=e),n.defaultValue=e}t=n.name,t!==""&&(n.name=""),n.defaultChecked=!!n._wrapperState.initialChecked,t!==""&&(n.name=t)}function pv(n,e,t){(e!=="number"||Bp(n.ownerDocument)!==n)&&(t==null?n.defaultValue=""+n._wrapperState.initialValue:n.defaultValue!==""+t&&(n.defaultValue=""+t))}var hc=Array.isArray;function ya(n,e,t,i){if(n=n.options,e){e={};for(var r=0;r<t.length;r++)e["$"+t[r]]=!0;for(t=0;t<n.length;t++)r=e.hasOwnProperty("$"+n[t].value),n[t].selected!==r&&(n[t].selected=r),r&&i&&(n[t].defaultSelected=!0)}else{for(t=""+vo(t),e=null,r=0;r<n.length;r++){if(n[r].value===t){n[r].selected=!0,i&&(n[r].defaultSelected=!0);return}e!==null||n[r].disabled||(e=n[r])}e!==null&&(e.selected=!0)}}function gv(n,e){if(e.dangerouslySetInnerHTML!=null)throw Error(F(91));return gt({},e,{value:void 0,defaultValue:void 0,children:""+n._wrapperState.initialValue})}function nE(n,e){var t=e.value;if(t==null){if(t=e.children,e=e.defaultValue,t!=null){if(e!=null)throw Error(F(92));if(hc(t)){if(1<t.length)throw Error(F(93));t=t[0]}e=t}e==null&&(e=""),t=e}n._wrapperState={initialValue:vo(t)}}function XA(n,e){var t=vo(e.value),i=vo(e.defaultValue);t!=null&&(t=""+t,t!==n.value&&(n.value=t),e.defaultValue==null&&n.defaultValue!==t&&(n.defaultValue=t)),i!=null&&(n.defaultValue=""+i)}function iE(n){var e=n.textContent;e===n._wrapperState.initialValue&&e!==""&&e!==null&&(n.value=e)}function jA(n){switch(n){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function mv(n,e){return n==null||n==="http://www.w3.org/1999/xhtml"?jA(e):n==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":n}var wd,qA=function(n){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,t,i,r){MSApp.execUnsafeLocalFunction(function(){return n(e,t,i,r)})}:n}(function(n,e){if(n.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in n)n.innerHTML=e;else{for(wd=wd||document.createElement("div"),wd.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=wd.firstChild;n.firstChild;)n.removeChild(n.firstChild);for(;e.firstChild;)n.appendChild(e.firstChild)}});function Fc(n,e){if(e){var t=n.firstChild;if(t&&t===n.lastChild&&t.nodeType===3){t.nodeValue=e;return}}n.textContent=e}var kc={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},$B=["Webkit","ms","Moz","O"];Object.keys(kc).forEach(function(n){$B.forEach(function(e){e=e+n.charAt(0).toUpperCase()+n.substring(1),kc[e]=kc[n]})});function GA(n,e,t){return e==null||typeof e=="boolean"||e===""?"":t||typeof e!="number"||e===0||kc.hasOwnProperty(n)&&kc[n]?(""+e).trim():e+"px"}function HA(n,e){n=n.style;for(var t in e)if(e.hasOwnProperty(t)){var i=t.indexOf("--")===0,r=GA(t,e[t],i);t==="float"&&(t="cssFloat"),i?n.setProperty(t,r):n[t]=r}}var QB=gt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ov(n,e){if(e){if(QB[n]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(F(137,n));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(F(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(F(61))}if(e.style!=null&&typeof e.style!="object")throw Error(F(62))}}function yv(n,e){if(n.indexOf("-")===-1)return typeof e.is=="string";switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var vv=null;function Lw(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var wv=null,va=null,wa=null;function rE(n){if(n=Yh(n)){if(typeof wv!="function")throw Error(F(280));var e=n.stateNode;e&&(e=gm(e),wv(n.stateNode,n.type,e))}}function KA(n){va?wa?wa.push(n):wa=[n]:va=n}function JA(){if(va){var n=va,e=wa;if(wa=va=null,rE(n),e)for(n=0;n<e.length;n++)rE(e[n])}}function eI(n,e){return n(e)}function tI(){}var Y0=!1;function nI(n,e,t){if(Y0)return n(e,t);Y0=!0;try{return eI(n,e,t)}finally{Y0=!1,(va!==null||wa!==null)&&(tI(),JA())}}function zc(n,e){var t=n.stateNode;if(t===null)return null;var i=gm(t);if(i===null)return null;t=i[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(n=n.type,i=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!i;break e;default:n=!1}if(n)return null;if(t&&typeof t!="function")throw Error(F(231,e,typeof t));return t}var Sv=!1;if(fs)try{var Xu={};Object.defineProperty(Xu,"passive",{get:function(){Sv=!0}}),window.addEventListener("test",Xu,Xu),window.removeEventListener("test",Xu,Xu)}catch{Sv=!1}function DB(n,e,t,i,r,s,o,l,u){var h=Array.prototype.slice.call(arguments,3);try{e.apply(t,h)}catch(f){this.onError(f)}}var Ec=!1,Wp=null,Yp=!1,_v=null,MB={onError:function(n){Ec=!0,Wp=n}};function NB(n,e,t,i,r,s,o,l,u){Ec=!1,Wp=null,DB.apply(MB,arguments)}function LB(n,e,t,i,r,s,o,l,u){if(NB.apply(this,arguments),Ec){if(Ec){var h=Wp;Ec=!1,Wp=null}else throw Error(F(198));Yp||(Yp=!0,_v=h)}}function kl(n){var e=n,t=n;if(n.alternate)for(;e.return;)e=e.return;else{n=e;do e=n,e.flags&4098&&(t=e.return),n=e.return;while(n)}return e.tag===3?t:null}function iI(n){if(n.tag===13){var e=n.memoizedState;if(e===null&&(n=n.alternate,n!==null&&(e=n.memoizedState)),e!==null)return e.dehydrated}return null}function sE(n){if(kl(n)!==n)throw Error(F(188))}function VB(n){var e=n.alternate;if(!e){if(e=kl(n),e===null)throw Error(F(188));return e!==n?null:n}for(var t=n,i=e;;){var r=t.return;if(r===null)break;var s=r.alternate;if(s===null){if(i=r.return,i!==null){t=i;continue}break}if(r.child===s.child){for(s=r.child;s;){if(s===t)return sE(r),n;if(s===i)return sE(r),e;s=s.sibling}throw Error(F(188))}if(t.return!==i.return)t=r,i=s;else{for(var o=!1,l=r.child;l;){if(l===t){o=!0,t=r,i=s;break}if(l===i){o=!0,i=r,t=s;break}l=l.sibling}if(!o){for(l=s.child;l;){if(l===t){o=!0,t=s,i=r;break}if(l===i){o=!0,i=s,t=r;break}l=l.sibling}if(!o)throw Error(F(189))}}if(t.alternate!==i)throw Error(F(190))}if(t.tag!==3)throw Error(F(188));return t.stateNode.current===t?n:e}function rI(n){return n=VB(n),n!==null?sI(n):null}function sI(n){if(n.tag===5||n.tag===6)return n;for(n=n.child;n!==null;){var e=sI(n);if(e!==null)return e;n=n.sibling}return null}var oI=Oi.unstable_scheduleCallback,oE=Oi.unstable_cancelCallback,ZB=Oi.unstable_shouldYield,UB=Oi.unstable_requestPaint,Et=Oi.unstable_now,BB=Oi.unstable_getCurrentPriorityLevel,Vw=Oi.unstable_ImmediatePriority,lI=Oi.unstable_UserBlockingPriority,Fp=Oi.unstable_NormalPriority,WB=Oi.unstable_LowPriority,aI=Oi.unstable_IdlePriority,hm=null,Rr=null;function YB(n){if(Rr&&typeof Rr.onCommitFiberRoot=="function")try{Rr.onCommitFiberRoot(hm,n,void 0,(n.current.flags&128)===128)}catch{}}var rr=Math.clz32?Math.clz32:XB,FB=Math.log,zB=Math.LN2;function XB(n){return n>>>=0,n===0?32:31-(FB(n)/zB|0)|0}var Sd=64,_d=4194304;function fc(n){switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return n&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return n}}function zp(n,e){var t=n.pendingLanes;if(t===0)return 0;var i=0,r=n.suspendedLanes,s=n.pingedLanes,o=t&268435455;if(o!==0){var l=o&~r;l!==0?i=fc(l):(s&=o,s!==0&&(i=fc(s)))}else o=t&~r,o!==0?i=fc(o):s!==0&&(i=fc(s));if(i===0)return 0;if(e!==0&&e!==i&&!(e&r)&&(r=i&-i,s=e&-e,r>=s||r===16&&(s&4194240)!==0))return e;if(i&4&&(i|=t&16),e=n.entangledLanes,e!==0)for(n=n.entanglements,e&=i;0<e;)t=31-rr(e),r=1<<t,i|=n[t],e&=~r;return i}function jB(n,e){switch(n){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function qB(n,e){for(var t=n.suspendedLanes,i=n.pingedLanes,r=n.expirationTimes,s=n.pendingLanes;0<s;){var o=31-rr(s),l=1<<o,u=r[o];u===-1?(!(l&t)||l&i)&&(r[o]=jB(l,e)):u<=e&&(n.expiredLanes|=l),s&=~l}}function xv(n){return n=n.pendingLanes&-1073741825,n!==0?n:n&1073741824?1073741824:0}function uI(){var n=Sd;return Sd<<=1,!(Sd&4194240)&&(Sd=64),n}function F0(n){for(var e=[],t=0;31>t;t++)e.push(n);return e}function Bh(n,e,t){n.pendingLanes|=e,e!==536870912&&(n.suspendedLanes=0,n.pingedLanes=0),n=n.eventTimes,e=31-rr(e),n[e]=t}function GB(n,e){var t=n.pendingLanes&~e;n.pendingLanes=e,n.suspendedLanes=0,n.pingedLanes=0,n.expiredLanes&=e,n.mutableReadLanes&=e,n.entangledLanes&=e,e=n.entanglements;var i=n.eventTimes;for(n=n.expirationTimes;0<t;){var r=31-rr(t),s=1<<r;e[r]=0,i[r]=-1,n[r]=-1,t&=~s}}function Zw(n,e){var t=n.entangledLanes|=e;for(n=n.entanglements;t;){var i=31-rr(t),r=1<<i;r&e|n[i]&e&&(n[i]|=e),t&=~r}}var Ye=0;function cI(n){return n&=-n,1<n?4<n?n&268435455?16:536870912:4:1}var hI,Uw,fI,dI,pI,Tv=!1,xd=[],to=null,no=null,io=null,Xc=new Map,jc=new Map,Bs=[],HB="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function lE(n,e){switch(n){case"focusin":case"focusout":to=null;break;case"dragenter":case"dragleave":no=null;break;case"mouseover":case"mouseout":io=null;break;case"pointerover":case"pointerout":Xc.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":jc.delete(e.pointerId)}}function ju(n,e,t,i,r,s){return n===null||n.nativeEvent!==s?(n={blockedOn:e,domEventName:t,eventSystemFlags:i,nativeEvent:s,targetContainers:[r]},e!==null&&(e=Yh(e),e!==null&&Uw(e)),n):(n.eventSystemFlags|=i,e=n.targetContainers,r!==null&&e.indexOf(r)===-1&&e.push(r),n)}function KB(n,e,t,i,r){switch(e){case"focusin":return to=ju(to,n,e,t,i,r),!0;case"dragenter":return no=ju(no,n,e,t,i,r),!0;case"mouseover":return io=ju(io,n,e,t,i,r),!0;case"pointerover":var s=r.pointerId;return Xc.set(s,ju(Xc.get(s)||null,n,e,t,i,r)),!0;case"gotpointercapture":return s=r.pointerId,jc.set(s,ju(jc.get(s)||null,n,e,t,i,r)),!0}return!1}function gI(n){var e=Go(n.target);if(e!==null){var t=kl(e);if(t!==null){if(e=t.tag,e===13){if(e=iI(t),e!==null){n.blockedOn=e,pI(n.priority,function(){fI(t)});return}}else if(e===3&&t.stateNode.current.memoizedState.isDehydrated){n.blockedOn=t.tag===3?t.stateNode.containerInfo:null;return}}}n.blockedOn=null}function fp(n){if(n.blockedOn!==null)return!1;for(var e=n.targetContainers;0<e.length;){var t=kv(n.domEventName,n.eventSystemFlags,e[0],n.nativeEvent);if(t===null){t=n.nativeEvent;var i=new t.constructor(t.type,t);vv=i,t.target.dispatchEvent(i),vv=null}else return e=Yh(t),e!==null&&Uw(e),n.blockedOn=t,!1;e.shift()}return!0}function aE(n,e,t){fp(n)&&t.delete(e)}function JB(){Tv=!1,to!==null&&fp(to)&&(to=null),no!==null&&fp(no)&&(no=null),io!==null&&fp(io)&&(io=null),Xc.forEach(aE),jc.forEach(aE)}function qu(n,e){n.blockedOn===e&&(n.blockedOn=null,Tv||(Tv=!0,Oi.unstable_scheduleCallback(Oi.unstable_NormalPriority,JB)))}function qc(n){function e(r){return qu(r,n)}if(0<xd.length){qu(xd[0],n);for(var t=1;t<xd.length;t++){var i=xd[t];i.blockedOn===n&&(i.blockedOn=null)}}for(to!==null&&qu(to,n),no!==null&&qu(no,n),io!==null&&qu(io,n),Xc.forEach(e),jc.forEach(e),t=0;t<Bs.length;t++)i=Bs[t],i.blockedOn===n&&(i.blockedOn=null);for(;0<Bs.length&&(t=Bs[0],t.blockedOn===null);)gI(t),t.blockedOn===null&&Bs.shift()}var Sa=Ts.ReactCurrentBatchConfig,Xp=!0;function eW(n,e,t,i){var r=Ye,s=Sa.transition;Sa.transition=null;try{Ye=1,Bw(n,e,t,i)}finally{Ye=r,Sa.transition=s}}function tW(n,e,t,i){var r=Ye,s=Sa.transition;Sa.transition=null;try{Ye=4,Bw(n,e,t,i)}finally{Ye=r,Sa.transition=s}}function Bw(n,e,t,i){if(Xp){var r=kv(n,e,t,i);if(r===null)ty(n,e,i,jp,t),lE(n,i);else if(KB(r,n,e,t,i))i.stopPropagation();else if(lE(n,i),e&4&&-1<HB.indexOf(n)){for(;r!==null;){var s=Yh(r);if(s!==null&&hI(s),s=kv(n,e,t,i),s===null&&ty(n,e,i,jp,t),s===r)break;r=s}r!==null&&i.stopPropagation()}else ty(n,e,i,null,t)}}var jp=null;function kv(n,e,t,i){if(jp=null,n=Lw(i),n=Go(n),n!==null)if(e=kl(n),e===null)n=null;else if(t=e.tag,t===13){if(n=iI(e),n!==null)return n;n=null}else if(t===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;n=null}else e!==n&&(n=null);return jp=n,null}function mI(n){switch(n){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(BB()){case Vw:return 1;case lI:return 4;case Fp:case WB:return 16;case aI:return 536870912;default:return 16}default:return 16}}var js=null,Ww=null,dp=null;function OI(){if(dp)return dp;var n,e=Ww,t=e.length,i,r="value"in js?js.value:js.textContent,s=r.length;for(n=0;n<t&&e[n]===r[n];n++);var o=t-n;for(i=1;i<=o&&e[t-i]===r[s-i];i++);return dp=r.slice(n,1<i?1-i:void 0)}function pp(n){var e=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&e===13&&(n=13)):n=e,n===10&&(n=13),32<=n||n===13?n:0}function Td(){return!0}function uE(){return!1}function Si(n){function e(t,i,r,s,o){this._reactName=t,this._targetInst=r,this.type=i,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var l in n)n.hasOwnProperty(l)&&(t=n[l],this[l]=t?t(s):s[l]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Td:uE,this.isPropagationStopped=uE,this}return gt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var t=this.nativeEvent;t&&(t.preventDefault?t.preventDefault():typeof t.returnValue!="unknown"&&(t.returnValue=!1),this.isDefaultPrevented=Td)},stopPropagation:function(){var t=this.nativeEvent;t&&(t.stopPropagation?t.stopPropagation():typeof t.cancelBubble!="unknown"&&(t.cancelBubble=!0),this.isPropagationStopped=Td)},persist:function(){},isPersistent:Td}),e}var lu={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Yw=Si(lu),Wh=gt({},lu,{view:0,detail:0}),nW=Si(Wh),z0,X0,Gu,fm=gt({},Wh,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Fw,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==Gu&&(Gu&&n.type==="mousemove"?(z0=n.screenX-Gu.screenX,X0=n.screenY-Gu.screenY):X0=z0=0,Gu=n),z0)},movementY:function(n){return"movementY"in n?n.movementY:X0}}),cE=Si(fm),iW=gt({},fm,{dataTransfer:0}),rW=Si(iW),sW=gt({},Wh,{relatedTarget:0}),j0=Si(sW),oW=gt({},lu,{animationName:0,elapsedTime:0,pseudoElement:0}),lW=Si(oW),aW=gt({},lu,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),uW=Si(aW),cW=gt({},lu,{data:0}),hE=Si(cW),hW={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},fW={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},dW={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function pW(n){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(n):(n=dW[n])?!!e[n]:!1}function Fw(){return pW}var gW=gt({},Wh,{key:function(n){if(n.key){var e=hW[n.key]||n.key;if(e!=="Unidentified")return e}return n.type==="keypress"?(n=pp(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?fW[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Fw,charCode:function(n){return n.type==="keypress"?pp(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?pp(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),mW=Si(gW),OW=gt({},fm,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),fE=Si(OW),yW=gt({},Wh,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Fw}),vW=Si(yW),wW=gt({},lu,{propertyName:0,elapsedTime:0,pseudoElement:0}),SW=Si(wW),_W=gt({},fm,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),xW=Si(_W),TW=[9,13,27,32],zw=fs&&"CompositionEvent"in window,Pc=null;fs&&"documentMode"in document&&(Pc=document.documentMode);var kW=fs&&"TextEvent"in window&&!Pc,yI=fs&&(!zw||Pc&&8<Pc&&11>=Pc),dE=String.fromCharCode(32),pE=!1;function vI(n,e){switch(n){case"keyup":return TW.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function wI(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var ra=!1;function EW(n,e){switch(n){case"compositionend":return wI(e);case"keypress":return e.which!==32?null:(pE=!0,dE);case"textInput":return n=e.data,n===dE&&pE?null:n;default:return null}}function PW(n,e){if(ra)return n==="compositionend"||!zw&&vI(n,e)?(n=OI(),dp=Ww=js=null,ra=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return yI&&e.locale!=="ko"?null:e.data;default:return null}}var bW={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function gE(n){var e=n&&n.nodeName&&n.nodeName.toLowerCase();return e==="input"?!!bW[n.type]:e==="textarea"}function SI(n,e,t,i){KA(i),e=qp(e,"onChange"),0<e.length&&(t=new Yw("onChange","change",null,t,i),n.push({event:t,listeners:e}))}var bc=null,Gc=null;function CW(n){RI(n,0)}function dm(n){var e=la(n);if(FA(e))return n}function AW(n,e){if(n==="change")return e}var _I=!1;if(fs){var q0;if(fs){var G0="oninput"in document;if(!G0){var mE=document.createElement("div");mE.setAttribute("oninput","return;"),G0=typeof mE.oninput=="function"}q0=G0}else q0=!1;_I=q0&&(!document.documentMode||9<document.documentMode)}function OE(){bc&&(bc.detachEvent("onpropertychange",xI),Gc=bc=null)}function xI(n){if(n.propertyName==="value"&&dm(Gc)){var e=[];SI(e,Gc,n,Lw(n)),nI(CW,e)}}function IW(n,e,t){n==="focusin"?(OE(),bc=e,Gc=t,bc.attachEvent("onpropertychange",xI)):n==="focusout"&&OE()}function RW(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return dm(Gc)}function $W(n,e){if(n==="click")return dm(e)}function QW(n,e){if(n==="input"||n==="change")return dm(e)}function DW(n,e){return n===e&&(n!==0||1/n===1/e)||n!==n&&e!==e}var or=typeof Object.is=="function"?Object.is:DW;function Hc(n,e){if(or(n,e))return!0;if(typeof n!="object"||n===null||typeof e!="object"||e===null)return!1;var t=Object.keys(n),i=Object.keys(e);if(t.length!==i.length)return!1;for(i=0;i<t.length;i++){var r=t[i];if(!lv.call(e,r)||!or(n[r],e[r]))return!1}return!0}function yE(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function vE(n,e){var t=yE(n);n=0;for(var i;t;){if(t.nodeType===3){if(i=n+t.textContent.length,n<=e&&i>=e)return{node:t,offset:e-n};n=i}e:{for(;t;){if(t.nextSibling){t=t.nextSibling;break e}t=t.parentNode}t=void 0}t=yE(t)}}function TI(n,e){return n&&e?n===e?!0:n&&n.nodeType===3?!1:e&&e.nodeType===3?TI(n,e.parentNode):"contains"in n?n.contains(e):n.compareDocumentPosition?!!(n.compareDocumentPosition(e)&16):!1:!1}function kI(){for(var n=window,e=Bp();e instanceof n.HTMLIFrameElement;){try{var t=typeof e.contentWindow.location.href=="string"}catch{t=!1}if(t)n=e.contentWindow;else break;e=Bp(n.document)}return e}function Xw(n){var e=n&&n.nodeName&&n.nodeName.toLowerCase();return e&&(e==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||e==="textarea"||n.contentEditable==="true")}function MW(n){var e=kI(),t=n.focusedElem,i=n.selectionRange;if(e!==t&&t&&t.ownerDocument&&TI(t.ownerDocument.documentElement,t)){if(i!==null&&Xw(t)){if(e=i.start,n=i.end,n===void 0&&(n=e),"selectionStart"in t)t.selectionStart=e,t.selectionEnd=Math.min(n,t.value.length);else if(n=(e=t.ownerDocument||document)&&e.defaultView||window,n.getSelection){n=n.getSelection();var r=t.textContent.length,s=Math.min(i.start,r);i=i.end===void 0?s:Math.min(i.end,r),!n.extend&&s>i&&(r=i,i=s,s=r),r=vE(t,s);var o=vE(t,i);r&&o&&(n.rangeCount!==1||n.anchorNode!==r.node||n.anchorOffset!==r.offset||n.focusNode!==o.node||n.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(r.node,r.offset),n.removeAllRanges(),s>i?(n.addRange(e),n.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),n.addRange(e)))}}for(e=[],n=t;n=n.parentNode;)n.nodeType===1&&e.push({element:n,left:n.scrollLeft,top:n.scrollTop});for(typeof t.focus=="function"&&t.focus(),t=0;t<e.length;t++)n=e[t],n.element.scrollLeft=n.left,n.element.scrollTop=n.top}}var NW=fs&&"documentMode"in document&&11>=document.documentMode,sa=null,Ev=null,Cc=null,Pv=!1;function wE(n,e,t){var i=t.window===t?t.document:t.nodeType===9?t:t.ownerDocument;Pv||sa==null||sa!==Bp(i)||(i=sa,"selectionStart"in i&&Xw(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),Cc&&Hc(Cc,i)||(Cc=i,i=qp(Ev,"onSelect"),0<i.length&&(e=new Yw("onSelect","select",null,e,t),n.push({event:e,listeners:i}),e.target=sa)))}function kd(n,e){var t={};return t[n.toLowerCase()]=e.toLowerCase(),t["Webkit"+n]="webkit"+e,t["Moz"+n]="moz"+e,t}var oa={animationend:kd("Animation","AnimationEnd"),animationiteration:kd("Animation","AnimationIteration"),animationstart:kd("Animation","AnimationStart"),transitionend:kd("Transition","TransitionEnd")},H0={},EI={};fs&&(EI=document.createElement("div").style,"AnimationEvent"in window||(delete oa.animationend.animation,delete oa.animationiteration.animation,delete oa.animationstart.animation),"TransitionEvent"in window||delete oa.transitionend.transition);function pm(n){if(H0[n])return H0[n];if(!oa[n])return n;var e=oa[n],t;for(t in e)if(e.hasOwnProperty(t)&&t in EI)return H0[n]=e[t];return n}var PI=pm("animationend"),bI=pm("animationiteration"),CI=pm("animationstart"),AI=pm("transitionend"),II=new Map,SE="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Co(n,e){II.set(n,e),Tl(e,[n])}for(var K0=0;K0<SE.length;K0++){var J0=SE[K0],LW=J0.toLowerCase(),VW=J0[0].toUpperCase()+J0.slice(1);Co(LW,"on"+VW)}Co(PI,"onAnimationEnd");Co(bI,"onAnimationIteration");Co(CI,"onAnimationStart");Co("dblclick","onDoubleClick");Co("focusin","onFocus");Co("focusout","onBlur");Co(AI,"onTransitionEnd");Na("onMouseEnter",["mouseout","mouseover"]);Na("onMouseLeave",["mouseout","mouseover"]);Na("onPointerEnter",["pointerout","pointerover"]);Na("onPointerLeave",["pointerout","pointerover"]);Tl("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Tl("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Tl("onBeforeInput",["compositionend","keypress","textInput","paste"]);Tl("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Tl("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Tl("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var dc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ZW=new Set("cancel close invalid load scroll toggle".split(" ").concat(dc));function _E(n,e,t){var i=n.type||"unknown-event";n.currentTarget=t,LB(i,e,void 0,n),n.currentTarget=null}function RI(n,e){e=(e&4)!==0;for(var t=0;t<n.length;t++){var i=n[t],r=i.event;i=i.listeners;e:{var s=void 0;if(e)for(var o=i.length-1;0<=o;o--){var l=i[o],u=l.instance,h=l.currentTarget;if(l=l.listener,u!==s&&r.isPropagationStopped())break e;_E(r,l,h),s=u}else for(o=0;o<i.length;o++){if(l=i[o],u=l.instance,h=l.currentTarget,l=l.listener,u!==s&&r.isPropagationStopped())break e;_E(r,l,h),s=u}}}if(Yp)throw n=_v,Yp=!1,_v=null,n}function et(n,e){var t=e[Rv];t===void 0&&(t=e[Rv]=new Set);var i=n+"__bubble";t.has(i)||($I(e,n,2,!1),t.add(i))}function ey(n,e,t){var i=0;e&&(i|=4),$I(t,n,i,e)}var Ed="_reactListening"+Math.random().toString(36).slice(2);function Kc(n){if(!n[Ed]){n[Ed]=!0,ZA.forEach(function(t){t!=="selectionchange"&&(ZW.has(t)||ey(t,!1,n),ey(t,!0,n))});var e=n.nodeType===9?n:n.ownerDocument;e===null||e[Ed]||(e[Ed]=!0,ey("selectionchange",!1,e))}}function $I(n,e,t,i){switch(mI(e)){case 1:var r=eW;break;case 4:r=tW;break;default:r=Bw}t=r.bind(null,e,t,n),r=void 0,!Sv||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(r=!0),i?r!==void 0?n.addEventListener(e,t,{capture:!0,passive:r}):n.addEventListener(e,t,!0):r!==void 0?n.addEventListener(e,t,{passive:r}):n.addEventListener(e,t,!1)}function ty(n,e,t,i,r){var s=i;if(!(e&1)&&!(e&2)&&i!==null)e:for(;;){if(i===null)return;var o=i.tag;if(o===3||o===4){var l=i.stateNode.containerInfo;if(l===r||l.nodeType===8&&l.parentNode===r)break;if(o===4)for(o=i.return;o!==null;){var u=o.tag;if((u===3||u===4)&&(u=o.stateNode.containerInfo,u===r||u.nodeType===8&&u.parentNode===r))return;o=o.return}for(;l!==null;){if(o=Go(l),o===null)return;if(u=o.tag,u===5||u===6){i=s=o;continue e}l=l.parentNode}}i=i.return}nI(function(){var h=s,f=Lw(t),p=[];e:{var g=II.get(n);if(g!==void 0){var O=Yw,v=n;switch(n){case"keypress":if(pp(t)===0)break e;case"keydown":case"keyup":O=mW;break;case"focusin":v="focus",O=j0;break;case"focusout":v="blur",O=j0;break;case"beforeblur":case"afterblur":O=j0;break;case"click":if(t.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":O=cE;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":O=rW;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":O=vW;break;case PI:case bI:case CI:O=lW;break;case AI:O=SW;break;case"scroll":O=nW;break;case"wheel":O=xW;break;case"copy":case"cut":case"paste":O=uW;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":O=fE}var x=(e&4)!==0,k=!x&&n==="scroll",w=x?g!==null?g+"Capture":null:g;x=[];for(var _=h,E;_!==null;){E=_;var b=E.stateNode;if(E.tag===5&&b!==null&&(E=b,w!==null&&(b=zc(_,w),b!=null&&x.push(Jc(_,b,E)))),k)break;_=_.return}0<x.length&&(g=new O(g,v,null,t,f),p.push({event:g,listeners:x}))}}if(!(e&7)){e:{if(g=n==="mouseover"||n==="pointerover",O=n==="mouseout"||n==="pointerout",g&&t!==vv&&(v=t.relatedTarget||t.fromElement)&&(Go(v)||v[ds]))break e;if((O||g)&&(g=f.window===f?f:(g=f.ownerDocument)?g.defaultView||g.parentWindow:window,O?(v=t.relatedTarget||t.toElement,O=h,v=v?Go(v):null,v!==null&&(k=kl(v),v!==k||v.tag!==5&&v.tag!==6)&&(v=null)):(O=null,v=h),O!==v)){if(x=cE,b="onMouseLeave",w="onMouseEnter",_="mouse",(n==="pointerout"||n==="pointerover")&&(x=fE,b="onPointerLeave",w="onPointerEnter",_="pointer"),k=O==null?g:la(O),E=v==null?g:la(v),g=new x(b,_+"leave",O,t,f),g.target=k,g.relatedTarget=E,b=null,Go(f)===h&&(x=new x(w,_+"enter",v,t,f),x.target=E,x.relatedTarget=k,b=x),k=b,O&&v)t:{for(x=O,w=v,_=0,E=x;E;E=jl(E))_++;for(E=0,b=w;b;b=jl(b))E++;for(;0<_-E;)x=jl(x),_--;for(;0<E-_;)w=jl(w),E--;for(;_--;){if(x===w||w!==null&&x===w.alternate)break t;x=jl(x),w=jl(w)}x=null}else x=null;O!==null&&xE(p,g,O,x,!1),v!==null&&k!==null&&xE(p,k,v,x,!0)}}e:{if(g=h?la(h):window,O=g.nodeName&&g.nodeName.toLowerCase(),O==="select"||O==="input"&&g.type==="file")var I=AW;else if(gE(g))if(_I)I=QW;else{I=RW;var Q=IW}else(O=g.nodeName)&&O.toLowerCase()==="input"&&(g.type==="checkbox"||g.type==="radio")&&(I=$W);if(I&&(I=I(n,h))){SI(p,I,t,f);break e}Q&&Q(n,g,h),n==="focusout"&&(Q=g._wrapperState)&&Q.controlled&&g.type==="number"&&pv(g,"number",g.value)}switch(Q=h?la(h):window,n){case"focusin":(gE(Q)||Q.contentEditable==="true")&&(sa=Q,Ev=h,Cc=null);break;case"focusout":Cc=Ev=sa=null;break;case"mousedown":Pv=!0;break;case"contextmenu":case"mouseup":case"dragend":Pv=!1,wE(p,t,f);break;case"selectionchange":if(NW)break;case"keydown":case"keyup":wE(p,t,f)}var M;if(zw)e:{switch(n){case"compositionstart":var W="onCompositionStart";break e;case"compositionend":W="onCompositionEnd";break e;case"compositionupdate":W="onCompositionUpdate";break e}W=void 0}else ra?vI(n,t)&&(W="onCompositionEnd"):n==="keydown"&&t.keyCode===229&&(W="onCompositionStart");W&&(yI&&t.locale!=="ko"&&(ra||W!=="onCompositionStart"?W==="onCompositionEnd"&&ra&&(M=OI()):(js=f,Ww="value"in js?js.value:js.textContent,ra=!0)),Q=qp(h,W),0<Q.length&&(W=new hE(W,n,null,t,f),p.push({event:W,listeners:Q}),M?W.data=M:(M=wI(t),M!==null&&(W.data=M)))),(M=kW?EW(n,t):PW(n,t))&&(h=qp(h,"onBeforeInput"),0<h.length&&(f=new hE("onBeforeInput","beforeinput",null,t,f),p.push({event:f,listeners:h}),f.data=M))}RI(p,e)})}function Jc(n,e,t){return{instance:n,listener:e,currentTarget:t}}function qp(n,e){for(var t=e+"Capture",i=[];n!==null;){var r=n,s=r.stateNode;r.tag===5&&s!==null&&(r=s,s=zc(n,t),s!=null&&i.unshift(Jc(n,s,r)),s=zc(n,e),s!=null&&i.push(Jc(n,s,r))),n=n.return}return i}function jl(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5);return n||null}function xE(n,e,t,i,r){for(var s=e._reactName,o=[];t!==null&&t!==i;){var l=t,u=l.alternate,h=l.stateNode;if(u!==null&&u===i)break;l.tag===5&&h!==null&&(l=h,r?(u=zc(t,s),u!=null&&o.unshift(Jc(t,u,l))):r||(u=zc(t,s),u!=null&&o.push(Jc(t,u,l)))),t=t.return}o.length!==0&&n.push({event:e,listeners:o})}var UW=/\r\n?/g,BW=/\u0000|\uFFFD/g;function TE(n){return(typeof n=="string"?n:""+n).replace(UW,`
`).replace(BW,"")}function Pd(n,e,t){if(e=TE(e),TE(n)!==e&&t)throw Error(F(425))}function Gp(){}var bv=null,Cv=null;function Av(n,e){return n==="textarea"||n==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Iv=typeof setTimeout=="function"?setTimeout:void 0,WW=typeof clearTimeout=="function"?clearTimeout:void 0,kE=typeof Promise=="function"?Promise:void 0,YW=typeof queueMicrotask=="function"?queueMicrotask:typeof kE<"u"?function(n){return kE.resolve(null).then(n).catch(FW)}:Iv;function FW(n){setTimeout(function(){throw n})}function ny(n,e){var t=e,i=0;do{var r=t.nextSibling;if(n.removeChild(t),r&&r.nodeType===8)if(t=r.data,t==="/$"){if(i===0){n.removeChild(r),qc(e);return}i--}else t!=="$"&&t!=="$?"&&t!=="$!"||i++;t=r}while(t);qc(e)}function ro(n){for(;n!=null;n=n.nextSibling){var e=n.nodeType;if(e===1||e===3)break;if(e===8){if(e=n.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return n}function EE(n){n=n.previousSibling;for(var e=0;n;){if(n.nodeType===8){var t=n.data;if(t==="$"||t==="$!"||t==="$?"){if(e===0)return n;e--}else t==="/$"&&e++}n=n.previousSibling}return null}var au=Math.random().toString(36).slice(2),xr="__reactFiber$"+au,eh="__reactProps$"+au,ds="__reactContainer$"+au,Rv="__reactEvents$"+au,zW="__reactListeners$"+au,XW="__reactHandles$"+au;function Go(n){var e=n[xr];if(e)return e;for(var t=n.parentNode;t;){if(e=t[ds]||t[xr]){if(t=e.alternate,e.child!==null||t!==null&&t.child!==null)for(n=EE(n);n!==null;){if(t=n[xr])return t;n=EE(n)}return e}n=t,t=n.parentNode}return null}function Yh(n){return n=n[xr]||n[ds],!n||n.tag!==5&&n.tag!==6&&n.tag!==13&&n.tag!==3?null:n}function la(n){if(n.tag===5||n.tag===6)return n.stateNode;throw Error(F(33))}function gm(n){return n[eh]||null}var $v=[],aa=-1;function Ao(n){return{current:n}}function st(n){0>aa||(n.current=$v[aa],$v[aa]=null,aa--)}function Ke(n,e){aa++,$v[aa]=n.current,n.current=e}var wo={},Pn=Ao(wo),Gn=Ao(!1),cl=wo;function La(n,e){var t=n.type.contextTypes;if(!t)return wo;var i=n.stateNode;if(i&&i.__reactInternalMemoizedUnmaskedChildContext===e)return i.__reactInternalMemoizedMaskedChildContext;var r={},s;for(s in t)r[s]=e[s];return i&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=e,n.__reactInternalMemoizedMaskedChildContext=r),r}function Hn(n){return n=n.childContextTypes,n!=null}function Hp(){st(Gn),st(Pn)}function PE(n,e,t){if(Pn.current!==wo)throw Error(F(168));Ke(Pn,e),Ke(Gn,t)}function QI(n,e,t){var i=n.stateNode;if(e=e.childContextTypes,typeof i.getChildContext!="function")return t;i=i.getChildContext();for(var r in i)if(!(r in e))throw Error(F(108,IB(n)||"Unknown",r));return gt({},t,i)}function Kp(n){return n=(n=n.stateNode)&&n.__reactInternalMemoizedMergedChildContext||wo,cl=Pn.current,Ke(Pn,n),Ke(Gn,Gn.current),!0}function bE(n,e,t){var i=n.stateNode;if(!i)throw Error(F(169));t?(n=QI(n,e,cl),i.__reactInternalMemoizedMergedChildContext=n,st(Gn),st(Pn),Ke(Pn,n)):st(Gn),Ke(Gn,t)}var ts=null,mm=!1,iy=!1;function DI(n){ts===null?ts=[n]:ts.push(n)}function jW(n){mm=!0,DI(n)}function Io(){if(!iy&&ts!==null){iy=!0;var n=0,e=Ye;try{var t=ts;for(Ye=1;n<t.length;n++){var i=t[n];do i=i(!0);while(i!==null)}ts=null,mm=!1}catch(r){throw ts!==null&&(ts=ts.slice(n+1)),oI(Vw,Io),r}finally{Ye=e,iy=!1}}return null}var ua=[],ca=0,Jp=null,eg=0,Ri=[],$i=0,hl=null,rs=1,ss="";function Fo(n,e){ua[ca++]=eg,ua[ca++]=Jp,Jp=n,eg=e}function MI(n,e,t){Ri[$i++]=rs,Ri[$i++]=ss,Ri[$i++]=hl,hl=n;var i=rs;n=ss;var r=32-rr(i)-1;i&=~(1<<r),t+=1;var s=32-rr(e)+r;if(30<s){var o=r-r%5;s=(i&(1<<o)-1).toString(32),i>>=o,r-=o,rs=1<<32-rr(e)+r|t<<r|i,ss=s+n}else rs=1<<s|t<<r|i,ss=n}function jw(n){n.return!==null&&(Fo(n,1),MI(n,1,0))}function qw(n){for(;n===Jp;)Jp=ua[--ca],ua[ca]=null,eg=ua[--ca],ua[ca]=null;for(;n===hl;)hl=Ri[--$i],Ri[$i]=null,ss=Ri[--$i],Ri[$i]=null,rs=Ri[--$i],Ri[$i]=null}var gi=null,di=null,ut=!1,tr=null;function NI(n,e){var t=Ni(5,null,null,0);t.elementType="DELETED",t.stateNode=e,t.return=n,e=n.deletions,e===null?(n.deletions=[t],n.flags|=16):e.push(t)}function CE(n,e){switch(n.tag){case 5:var t=n.type;return e=e.nodeType!==1||t.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(n.stateNode=e,gi=n,di=ro(e.firstChild),!0):!1;case 6:return e=n.pendingProps===""||e.nodeType!==3?null:e,e!==null?(n.stateNode=e,gi=n,di=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(t=hl!==null?{id:rs,overflow:ss}:null,n.memoizedState={dehydrated:e,treeContext:t,retryLane:1073741824},t=Ni(18,null,null,0),t.stateNode=e,t.return=n,n.child=t,gi=n,di=null,!0):!1;default:return!1}}function Qv(n){return(n.mode&1)!==0&&(n.flags&128)===0}function Dv(n){if(ut){var e=di;if(e){var t=e;if(!CE(n,e)){if(Qv(n))throw Error(F(418));e=ro(t.nextSibling);var i=gi;e&&CE(n,e)?NI(i,t):(n.flags=n.flags&-4097|2,ut=!1,gi=n)}}else{if(Qv(n))throw Error(F(418));n.flags=n.flags&-4097|2,ut=!1,gi=n}}}function AE(n){for(n=n.return;n!==null&&n.tag!==5&&n.tag!==3&&n.tag!==13;)n=n.return;gi=n}function bd(n){if(n!==gi)return!1;if(!ut)return AE(n),ut=!0,!1;var e;if((e=n.tag!==3)&&!(e=n.tag!==5)&&(e=n.type,e=e!=="head"&&e!=="body"&&!Av(n.type,n.memoizedProps)),e&&(e=di)){if(Qv(n))throw LI(),Error(F(418));for(;e;)NI(n,e),e=ro(e.nextSibling)}if(AE(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(F(317));e:{for(n=n.nextSibling,e=0;n;){if(n.nodeType===8){var t=n.data;if(t==="/$"){if(e===0){di=ro(n.nextSibling);break e}e--}else t!=="$"&&t!=="$!"&&t!=="$?"||e++}n=n.nextSibling}di=null}}else di=gi?ro(n.stateNode.nextSibling):null;return!0}function LI(){for(var n=di;n;)n=ro(n.nextSibling)}function Va(){di=gi=null,ut=!1}function Gw(n){tr===null?tr=[n]:tr.push(n)}var qW=Ts.ReactCurrentBatchConfig;function Ji(n,e){if(n&&n.defaultProps){e=gt({},e),n=n.defaultProps;for(var t in n)e[t]===void 0&&(e[t]=n[t]);return e}return e}var tg=Ao(null),ng=null,ha=null,Hw=null;function Kw(){Hw=ha=ng=null}function Jw(n){var e=tg.current;st(tg),n._currentValue=e}function Mv(n,e,t){for(;n!==null;){var i=n.alternate;if((n.childLanes&e)!==e?(n.childLanes|=e,i!==null&&(i.childLanes|=e)):i!==null&&(i.childLanes&e)!==e&&(i.childLanes|=e),n===t)break;n=n.return}}function _a(n,e){ng=n,Hw=ha=null,n=n.dependencies,n!==null&&n.firstContext!==null&&(n.lanes&e&&(jn=!0),n.firstContext=null)}function Bi(n){var e=n._currentValue;if(Hw!==n)if(n={context:n,memoizedValue:e,next:null},ha===null){if(ng===null)throw Error(F(308));ha=n,ng.dependencies={lanes:0,firstContext:n}}else ha=ha.next=n;return e}var Ho=null;function eS(n){Ho===null?Ho=[n]:Ho.push(n)}function VI(n,e,t,i){var r=e.interleaved;return r===null?(t.next=t,eS(e)):(t.next=r.next,r.next=t),e.interleaved=t,ps(n,i)}function ps(n,e){n.lanes|=e;var t=n.alternate;for(t!==null&&(t.lanes|=e),t=n,n=n.return;n!==null;)n.childLanes|=e,t=n.alternate,t!==null&&(t.childLanes|=e),t=n,n=n.return;return t.tag===3?t.stateNode:null}var Vs=!1;function tS(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function ZI(n,e){n=n.updateQueue,e.updateQueue===n&&(e.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,effects:n.effects})}function us(n,e){return{eventTime:n,lane:e,tag:0,payload:null,callback:null,next:null}}function so(n,e,t){var i=n.updateQueue;if(i===null)return null;if(i=i.shared,Ne&2){var r=i.pending;return r===null?e.next=e:(e.next=r.next,r.next=e),i.pending=e,ps(n,t)}return r=i.interleaved,r===null?(e.next=e,eS(i)):(e.next=r.next,r.next=e),i.interleaved=e,ps(n,t)}function gp(n,e,t){if(e=e.updateQueue,e!==null&&(e=e.shared,(t&4194240)!==0)){var i=e.lanes;i&=n.pendingLanes,t|=i,e.lanes=t,Zw(n,t)}}function IE(n,e){var t=n.updateQueue,i=n.alternate;if(i!==null&&(i=i.updateQueue,t===i)){var r=null,s=null;if(t=t.firstBaseUpdate,t!==null){do{var o={eventTime:t.eventTime,lane:t.lane,tag:t.tag,payload:t.payload,callback:t.callback,next:null};s===null?r=s=o:s=s.next=o,t=t.next}while(t!==null);s===null?r=s=e:s=s.next=e}else r=s=e;t={baseState:i.baseState,firstBaseUpdate:r,lastBaseUpdate:s,shared:i.shared,effects:i.effects},n.updateQueue=t;return}n=t.lastBaseUpdate,n===null?t.firstBaseUpdate=e:n.next=e,t.lastBaseUpdate=e}function ig(n,e,t,i){var r=n.updateQueue;Vs=!1;var s=r.firstBaseUpdate,o=r.lastBaseUpdate,l=r.shared.pending;if(l!==null){r.shared.pending=null;var u=l,h=u.next;u.next=null,o===null?s=h:o.next=h,o=u;var f=n.alternate;f!==null&&(f=f.updateQueue,l=f.lastBaseUpdate,l!==o&&(l===null?f.firstBaseUpdate=h:l.next=h,f.lastBaseUpdate=u))}if(s!==null){var p=r.baseState;o=0,f=h=u=null,l=s;do{var g=l.lane,O=l.eventTime;if((i&g)===g){f!==null&&(f=f.next={eventTime:O,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var v=n,x=l;switch(g=e,O=t,x.tag){case 1:if(v=x.payload,typeof v=="function"){p=v.call(O,p,g);break e}p=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=x.payload,g=typeof v=="function"?v.call(O,p,g):v,g==null)break e;p=gt({},p,g);break e;case 2:Vs=!0}}l.callback!==null&&l.lane!==0&&(n.flags|=64,g=r.effects,g===null?r.effects=[l]:g.push(l))}else O={eventTime:O,lane:g,tag:l.tag,payload:l.payload,callback:l.callback,next:null},f===null?(h=f=O,u=p):f=f.next=O,o|=g;if(l=l.next,l===null){if(l=r.shared.pending,l===null)break;g=l,l=g.next,g.next=null,r.lastBaseUpdate=g,r.shared.pending=null}}while(1);if(f===null&&(u=p),r.baseState=u,r.firstBaseUpdate=h,r.lastBaseUpdate=f,e=r.shared.interleaved,e!==null){r=e;do o|=r.lane,r=r.next;while(r!==e)}else s===null&&(r.shared.lanes=0);dl|=o,n.lanes=o,n.memoizedState=p}}function RE(n,e,t){if(n=e.effects,e.effects=null,n!==null)for(e=0;e<n.length;e++){var i=n[e],r=i.callback;if(r!==null){if(i.callback=null,i=t,typeof r!="function")throw Error(F(191,r));r.call(i)}}}var UI=new VA.Component().refs;function Nv(n,e,t,i){e=n.memoizedState,t=t(i,e),t=t==null?e:gt({},e,t),n.memoizedState=t,n.lanes===0&&(n.updateQueue.baseState=t)}var Om={isMounted:function(n){return(n=n._reactInternals)?kl(n)===n:!1},enqueueSetState:function(n,e,t){n=n._reactInternals;var i=Mn(),r=lo(n),s=us(i,r);s.payload=e,t!=null&&(s.callback=t),e=so(n,s,r),e!==null&&(sr(e,n,r,i),gp(e,n,r))},enqueueReplaceState:function(n,e,t){n=n._reactInternals;var i=Mn(),r=lo(n),s=us(i,r);s.tag=1,s.payload=e,t!=null&&(s.callback=t),e=so(n,s,r),e!==null&&(sr(e,n,r,i),gp(e,n,r))},enqueueForceUpdate:function(n,e){n=n._reactInternals;var t=Mn(),i=lo(n),r=us(t,i);r.tag=2,e!=null&&(r.callback=e),e=so(n,r,i),e!==null&&(sr(e,n,i,t),gp(e,n,i))}};function $E(n,e,t,i,r,s,o){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(i,s,o):e.prototype&&e.prototype.isPureReactComponent?!Hc(t,i)||!Hc(r,s):!0}function BI(n,e,t){var i=!1,r=wo,s=e.contextType;return typeof s=="object"&&s!==null?s=Bi(s):(r=Hn(e)?cl:Pn.current,i=e.contextTypes,s=(i=i!=null)?La(n,r):wo),e=new e(t,s),n.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Om,n.stateNode=e,e._reactInternals=n,i&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=r,n.__reactInternalMemoizedMaskedChildContext=s),e}function QE(n,e,t,i){n=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(t,i),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(t,i),e.state!==n&&Om.enqueueReplaceState(e,e.state,null)}function Lv(n,e,t,i){var r=n.stateNode;r.props=t,r.state=n.memoizedState,r.refs=UI,tS(n);var s=e.contextType;typeof s=="object"&&s!==null?r.context=Bi(s):(s=Hn(e)?cl:Pn.current,r.context=La(n,s)),r.state=n.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(Nv(n,e,s,t),r.state=n.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof r.getSnapshotBeforeUpdate=="function"||typeof r.UNSAFE_componentWillMount!="function"&&typeof r.componentWillMount!="function"||(e=r.state,typeof r.componentWillMount=="function"&&r.componentWillMount(),typeof r.UNSAFE_componentWillMount=="function"&&r.UNSAFE_componentWillMount(),e!==r.state&&Om.enqueueReplaceState(r,r.state,null),ig(n,t,r,i),r.state=n.memoizedState),typeof r.componentDidMount=="function"&&(n.flags|=4194308)}function Hu(n,e,t){if(n=t.ref,n!==null&&typeof n!="function"&&typeof n!="object"){if(t._owner){if(t=t._owner,t){if(t.tag!==1)throw Error(F(309));var i=t.stateNode}if(!i)throw Error(F(147,n));var r=i,s=""+n;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var l=r.refs;l===UI&&(l=r.refs={}),o===null?delete l[s]:l[s]=o},e._stringRef=s,e)}if(typeof n!="string")throw Error(F(284));if(!t._owner)throw Error(F(290,n))}return n}function Cd(n,e){throw n=Object.prototype.toString.call(e),Error(F(31,n==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":n))}function DE(n){var e=n._init;return e(n._payload)}function WI(n){function e(w,_){if(n){var E=w.deletions;E===null?(w.deletions=[_],w.flags|=16):E.push(_)}}function t(w,_){if(!n)return null;for(;_!==null;)e(w,_),_=_.sibling;return null}function i(w,_){for(w=new Map;_!==null;)_.key!==null?w.set(_.key,_):w.set(_.index,_),_=_.sibling;return w}function r(w,_){return w=ao(w,_),w.index=0,w.sibling=null,w}function s(w,_,E){return w.index=E,n?(E=w.alternate,E!==null?(E=E.index,E<_?(w.flags|=2,_):E):(w.flags|=2,_)):(w.flags|=1048576,_)}function o(w){return n&&w.alternate===null&&(w.flags|=2),w}function l(w,_,E,b){return _===null||_.tag!==6?(_=cy(E,w.mode,b),_.return=w,_):(_=r(_,E),_.return=w,_)}function u(w,_,E,b){var I=E.type;return I===ia?f(w,_,E.props.children,b,E.key):_!==null&&(_.elementType===I||typeof I=="object"&&I!==null&&I.$$typeof===Ls&&DE(I)===_.type)?(b=r(_,E.props),b.ref=Hu(w,_,E),b.return=w,b):(b=Sp(E.type,E.key,E.props,null,w.mode,b),b.ref=Hu(w,_,E),b.return=w,b)}function h(w,_,E,b){return _===null||_.tag!==4||_.stateNode.containerInfo!==E.containerInfo||_.stateNode.implementation!==E.implementation?(_=hy(E,w.mode,b),_.return=w,_):(_=r(_,E.children||[]),_.return=w,_)}function f(w,_,E,b,I){return _===null||_.tag!==7?(_=ol(E,w.mode,b,I),_.return=w,_):(_=r(_,E),_.return=w,_)}function p(w,_,E){if(typeof _=="string"&&_!==""||typeof _=="number")return _=cy(""+_,w.mode,E),_.return=w,_;if(typeof _=="object"&&_!==null){switch(_.$$typeof){case yd:return E=Sp(_.type,_.key,_.props,null,w.mode,E),E.ref=Hu(w,null,_),E.return=w,E;case na:return _=hy(_,w.mode,E),_.return=w,_;case Ls:var b=_._init;return p(w,b(_._payload),E)}if(hc(_)||zu(_))return _=ol(_,w.mode,E,null),_.return=w,_;Cd(w,_)}return null}function g(w,_,E,b){var I=_!==null?_.key:null;if(typeof E=="string"&&E!==""||typeof E=="number")return I!==null?null:l(w,_,""+E,b);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case yd:return E.key===I?u(w,_,E,b):null;case na:return E.key===I?h(w,_,E,b):null;case Ls:return I=E._init,g(w,_,I(E._payload),b)}if(hc(E)||zu(E))return I!==null?null:f(w,_,E,b,null);Cd(w,E)}return null}function O(w,_,E,b,I){if(typeof b=="string"&&b!==""||typeof b=="number")return w=w.get(E)||null,l(_,w,""+b,I);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case yd:return w=w.get(b.key===null?E:b.key)||null,u(_,w,b,I);case na:return w=w.get(b.key===null?E:b.key)||null,h(_,w,b,I);case Ls:var Q=b._init;return O(w,_,E,Q(b._payload),I)}if(hc(b)||zu(b))return w=w.get(E)||null,f(_,w,b,I,null);Cd(_,b)}return null}function v(w,_,E,b){for(var I=null,Q=null,M=_,W=_=0,J=null;M!==null&&W<E.length;W++){M.index>W?(J=M,M=null):J=M.sibling;var j=g(w,M,E[W],b);if(j===null){M===null&&(M=J);break}n&&M&&j.alternate===null&&e(w,M),_=s(j,_,W),Q===null?I=j:Q.sibling=j,Q=j,M=J}if(W===E.length)return t(w,M),ut&&Fo(w,W),I;if(M===null){for(;W<E.length;W++)M=p(w,E[W],b),M!==null&&(_=s(M,_,W),Q===null?I=M:Q.sibling=M,Q=M);return ut&&Fo(w,W),I}for(M=i(w,M);W<E.length;W++)J=O(M,w,W,E[W],b),J!==null&&(n&&J.alternate!==null&&M.delete(J.key===null?W:J.key),_=s(J,_,W),Q===null?I=J:Q.sibling=J,Q=J);return n&&M.forEach(function(Ee){return e(w,Ee)}),ut&&Fo(w,W),I}function x(w,_,E,b){var I=zu(E);if(typeof I!="function")throw Error(F(150));if(E=I.call(E),E==null)throw Error(F(151));for(var Q=I=null,M=_,W=_=0,J=null,j=E.next();M!==null&&!j.done;W++,j=E.next()){M.index>W?(J=M,M=null):J=M.sibling;var Ee=g(w,M,j.value,b);if(Ee===null){M===null&&(M=J);break}n&&M&&Ee.alternate===null&&e(w,M),_=s(Ee,_,W),Q===null?I=Ee:Q.sibling=Ee,Q=Ee,M=J}if(j.done)return t(w,M),ut&&Fo(w,W),I;if(M===null){for(;!j.done;W++,j=E.next())j=p(w,j.value,b),j!==null&&(_=s(j,_,W),Q===null?I=j:Q.sibling=j,Q=j);return ut&&Fo(w,W),I}for(M=i(w,M);!j.done;W++,j=E.next())j=O(M,w,W,j.value,b),j!==null&&(n&&j.alternate!==null&&M.delete(j.key===null?W:j.key),_=s(j,_,W),Q===null?I=j:Q.sibling=j,Q=j);return n&&M.forEach(function(ze){return e(w,ze)}),ut&&Fo(w,W),I}function k(w,_,E,b){if(typeof E=="object"&&E!==null&&E.type===ia&&E.key===null&&(E=E.props.children),typeof E=="object"&&E!==null){switch(E.$$typeof){case yd:e:{for(var I=E.key,Q=_;Q!==null;){if(Q.key===I){if(I=E.type,I===ia){if(Q.tag===7){t(w,Q.sibling),_=r(Q,E.props.children),_.return=w,w=_;break e}}else if(Q.elementType===I||typeof I=="object"&&I!==null&&I.$$typeof===Ls&&DE(I)===Q.type){t(w,Q.sibling),_=r(Q,E.props),_.ref=Hu(w,Q,E),_.return=w,w=_;break e}t(w,Q);break}else e(w,Q);Q=Q.sibling}E.type===ia?(_=ol(E.props.children,w.mode,b,E.key),_.return=w,w=_):(b=Sp(E.type,E.key,E.props,null,w.mode,b),b.ref=Hu(w,_,E),b.return=w,w=b)}return o(w);case na:e:{for(Q=E.key;_!==null;){if(_.key===Q)if(_.tag===4&&_.stateNode.containerInfo===E.containerInfo&&_.stateNode.implementation===E.implementation){t(w,_.sibling),_=r(_,E.children||[]),_.return=w,w=_;break e}else{t(w,_);break}else e(w,_);_=_.sibling}_=hy(E,w.mode,b),_.return=w,w=_}return o(w);case Ls:return Q=E._init,k(w,_,Q(E._payload),b)}if(hc(E))return v(w,_,E,b);if(zu(E))return x(w,_,E,b);Cd(w,E)}return typeof E=="string"&&E!==""||typeof E=="number"?(E=""+E,_!==null&&_.tag===6?(t(w,_.sibling),_=r(_,E),_.return=w,w=_):(t(w,_),_=cy(E,w.mode,b),_.return=w,w=_),o(w)):t(w,_)}return k}var Za=WI(!0),YI=WI(!1),Fh={},$r=Ao(Fh),th=Ao(Fh),nh=Ao(Fh);function Ko(n){if(n===Fh)throw Error(F(174));return n}function nS(n,e){switch(Ke(nh,e),Ke(th,n),Ke($r,Fh),n=e.nodeType,n){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:mv(null,"");break;default:n=n===8?e.parentNode:e,e=n.namespaceURI||null,n=n.tagName,e=mv(e,n)}st($r),Ke($r,e)}function Ua(){st($r),st(th),st(nh)}function FI(n){Ko(nh.current);var e=Ko($r.current),t=mv(e,n.type);e!==t&&(Ke(th,n),Ke($r,t))}function iS(n){th.current===n&&(st($r),st(th))}var ft=Ao(0);function rg(n){for(var e=n;e!==null;){if(e.tag===13){var t=e.memoizedState;if(t!==null&&(t=t.dehydrated,t===null||t.data==="$?"||t.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break;for(;e.sibling===null;){if(e.return===null||e.return===n)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var ry=[];function rS(){for(var n=0;n<ry.length;n++)ry[n]._workInProgressVersionPrimary=null;ry.length=0}var mp=Ts.ReactCurrentDispatcher,sy=Ts.ReactCurrentBatchConfig,fl=0,pt=null,Vt=null,jt=null,sg=!1,Ac=!1,ih=0,GW=0;function gn(){throw Error(F(321))}function sS(n,e){if(e===null)return!1;for(var t=0;t<e.length&&t<n.length;t++)if(!or(n[t],e[t]))return!1;return!0}function oS(n,e,t,i,r,s){if(fl=s,pt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,mp.current=n===null||n.memoizedState===null?eY:tY,n=t(i,r),Ac){s=0;do{if(Ac=!1,ih=0,25<=s)throw Error(F(301));s+=1,jt=Vt=null,e.updateQueue=null,mp.current=nY,n=t(i,r)}while(Ac)}if(mp.current=og,e=Vt!==null&&Vt.next!==null,fl=0,jt=Vt=pt=null,sg=!1,e)throw Error(F(300));return n}function lS(){var n=ih!==0;return ih=0,n}function Sr(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return jt===null?pt.memoizedState=jt=n:jt=jt.next=n,jt}function Wi(){if(Vt===null){var n=pt.alternate;n=n!==null?n.memoizedState:null}else n=Vt.next;var e=jt===null?pt.memoizedState:jt.next;if(e!==null)jt=e,Vt=n;else{if(n===null)throw Error(F(310));Vt=n,n={memoizedState:Vt.memoizedState,baseState:Vt.baseState,baseQueue:Vt.baseQueue,queue:Vt.queue,next:null},jt===null?pt.memoizedState=jt=n:jt=jt.next=n}return jt}function rh(n,e){return typeof e=="function"?e(n):e}function oy(n){var e=Wi(),t=e.queue;if(t===null)throw Error(F(311));t.lastRenderedReducer=n;var i=Vt,r=i.baseQueue,s=t.pending;if(s!==null){if(r!==null){var o=r.next;r.next=s.next,s.next=o}i.baseQueue=r=s,t.pending=null}if(r!==null){s=r.next,i=i.baseState;var l=o=null,u=null,h=s;do{var f=h.lane;if((fl&f)===f)u!==null&&(u=u.next={lane:0,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null}),i=h.hasEagerState?h.eagerState:n(i,h.action);else{var p={lane:f,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null};u===null?(l=u=p,o=i):u=u.next=p,pt.lanes|=f,dl|=f}h=h.next}while(h!==null&&h!==s);u===null?o=i:u.next=l,or(i,e.memoizedState)||(jn=!0),e.memoizedState=i,e.baseState=o,e.baseQueue=u,t.lastRenderedState=i}if(n=t.interleaved,n!==null){r=n;do s=r.lane,pt.lanes|=s,dl|=s,r=r.next;while(r!==n)}else r===null&&(t.lanes=0);return[e.memoizedState,t.dispatch]}function ly(n){var e=Wi(),t=e.queue;if(t===null)throw Error(F(311));t.lastRenderedReducer=n;var i=t.dispatch,r=t.pending,s=e.memoizedState;if(r!==null){t.pending=null;var o=r=r.next;do s=n(s,o.action),o=o.next;while(o!==r);or(s,e.memoizedState)||(jn=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),t.lastRenderedState=s}return[s,i]}function zI(){}function XI(n,e){var t=pt,i=Wi(),r=e(),s=!or(i.memoizedState,r);if(s&&(i.memoizedState=r,jn=!0),i=i.queue,aS(GI.bind(null,t,i,n),[n]),i.getSnapshot!==e||s||jt!==null&&jt.memoizedState.tag&1){if(t.flags|=2048,sh(9,qI.bind(null,t,i,r,e),void 0,null),qt===null)throw Error(F(349));fl&30||jI(t,e,r)}return r}function jI(n,e,t){n.flags|=16384,n={getSnapshot:e,value:t},e=pt.updateQueue,e===null?(e={lastEffect:null,stores:null},pt.updateQueue=e,e.stores=[n]):(t=e.stores,t===null?e.stores=[n]:t.push(n))}function qI(n,e,t,i){e.value=t,e.getSnapshot=i,HI(e)&&KI(n)}function GI(n,e,t){return t(function(){HI(e)&&KI(n)})}function HI(n){var e=n.getSnapshot;n=n.value;try{var t=e();return!or(n,t)}catch{return!0}}function KI(n){var e=ps(n,1);e!==null&&sr(e,n,1,-1)}function ME(n){var e=Sr();return typeof n=="function"&&(n=n()),e.memoizedState=e.baseState=n,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:rh,lastRenderedState:n},e.queue=n,n=n.dispatch=JW.bind(null,pt,n),[e.memoizedState,n]}function sh(n,e,t,i){return n={tag:n,create:e,destroy:t,deps:i,next:null},e=pt.updateQueue,e===null?(e={lastEffect:null,stores:null},pt.updateQueue=e,e.lastEffect=n.next=n):(t=e.lastEffect,t===null?e.lastEffect=n.next=n:(i=t.next,t.next=n,n.next=i,e.lastEffect=n)),n}function JI(){return Wi().memoizedState}function Op(n,e,t,i){var r=Sr();pt.flags|=n,r.memoizedState=sh(1|e,t,void 0,i===void 0?null:i)}function ym(n,e,t,i){var r=Wi();i=i===void 0?null:i;var s=void 0;if(Vt!==null){var o=Vt.memoizedState;if(s=o.destroy,i!==null&&sS(i,o.deps)){r.memoizedState=sh(e,t,s,i);return}}pt.flags|=n,r.memoizedState=sh(1|e,t,s,i)}function NE(n,e){return Op(8390656,8,n,e)}function aS(n,e){return ym(2048,8,n,e)}function eR(n,e){return ym(4,2,n,e)}function tR(n,e){return ym(4,4,n,e)}function nR(n,e){if(typeof e=="function")return n=n(),e(n),function(){e(null)};if(e!=null)return n=n(),e.current=n,function(){e.current=null}}function iR(n,e,t){return t=t!=null?t.concat([n]):null,ym(4,4,nR.bind(null,e,n),t)}function uS(){}function rR(n,e){var t=Wi();e=e===void 0?null:e;var i=t.memoizedState;return i!==null&&e!==null&&sS(e,i[1])?i[0]:(t.memoizedState=[n,e],n)}function sR(n,e){var t=Wi();e=e===void 0?null:e;var i=t.memoizedState;return i!==null&&e!==null&&sS(e,i[1])?i[0]:(n=n(),t.memoizedState=[n,e],n)}function oR(n,e,t){return fl&21?(or(t,e)||(t=uI(),pt.lanes|=t,dl|=t,n.baseState=!0),e):(n.baseState&&(n.baseState=!1,jn=!0),n.memoizedState=t)}function HW(n,e){var t=Ye;Ye=t!==0&&4>t?t:4,n(!0);var i=sy.transition;sy.transition={};try{n(!1),e()}finally{Ye=t,sy.transition=i}}function lR(){return Wi().memoizedState}function KW(n,e,t){var i=lo(n);if(t={lane:i,action:t,hasEagerState:!1,eagerState:null,next:null},aR(n))uR(e,t);else if(t=VI(n,e,t,i),t!==null){var r=Mn();sr(t,n,i,r),cR(t,e,i)}}function JW(n,e,t){var i=lo(n),r={lane:i,action:t,hasEagerState:!1,eagerState:null,next:null};if(aR(n))uR(e,r);else{var s=n.alternate;if(n.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,l=s(o,t);if(r.hasEagerState=!0,r.eagerState=l,or(l,o)){var u=e.interleaved;u===null?(r.next=r,eS(e)):(r.next=u.next,u.next=r),e.interleaved=r;return}}catch{}finally{}t=VI(n,e,r,i),t!==null&&(r=Mn(),sr(t,n,i,r),cR(t,e,i))}}function aR(n){var e=n.alternate;return n===pt||e!==null&&e===pt}function uR(n,e){Ac=sg=!0;var t=n.pending;t===null?e.next=e:(e.next=t.next,t.next=e),n.pending=e}function cR(n,e,t){if(t&4194240){var i=e.lanes;i&=n.pendingLanes,t|=i,e.lanes=t,Zw(n,t)}}var og={readContext:Bi,useCallback:gn,useContext:gn,useEffect:gn,useImperativeHandle:gn,useInsertionEffect:gn,useLayoutEffect:gn,useMemo:gn,useReducer:gn,useRef:gn,useState:gn,useDebugValue:gn,useDeferredValue:gn,useTransition:gn,useMutableSource:gn,useSyncExternalStore:gn,useId:gn,unstable_isNewReconciler:!1},eY={readContext:Bi,useCallback:function(n,e){return Sr().memoizedState=[n,e===void 0?null:e],n},useContext:Bi,useEffect:NE,useImperativeHandle:function(n,e,t){return t=t!=null?t.concat([n]):null,Op(4194308,4,nR.bind(null,e,n),t)},useLayoutEffect:function(n,e){return Op(4194308,4,n,e)},useInsertionEffect:function(n,e){return Op(4,2,n,e)},useMemo:function(n,e){var t=Sr();return e=e===void 0?null:e,n=n(),t.memoizedState=[n,e],n},useReducer:function(n,e,t){var i=Sr();return e=t!==void 0?t(e):e,i.memoizedState=i.baseState=e,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:e},i.queue=n,n=n.dispatch=KW.bind(null,pt,n),[i.memoizedState,n]},useRef:function(n){var e=Sr();return n={current:n},e.memoizedState=n},useState:ME,useDebugValue:uS,useDeferredValue:function(n){return Sr().memoizedState=n},useTransition:function(){var n=ME(!1),e=n[0];return n=HW.bind(null,n[1]),Sr().memoizedState=n,[e,n]},useMutableSource:function(){},useSyncExternalStore:function(n,e,t){var i=pt,r=Sr();if(ut){if(t===void 0)throw Error(F(407));t=t()}else{if(t=e(),qt===null)throw Error(F(349));fl&30||jI(i,e,t)}r.memoizedState=t;var s={value:t,getSnapshot:e};return r.queue=s,NE(GI.bind(null,i,s,n),[n]),i.flags|=2048,sh(9,qI.bind(null,i,s,t,e),void 0,null),t},useId:function(){var n=Sr(),e=qt.identifierPrefix;if(ut){var t=ss,i=rs;t=(i&~(1<<32-rr(i)-1)).toString(32)+t,e=":"+e+"R"+t,t=ih++,0<t&&(e+="H"+t.toString(32)),e+=":"}else t=GW++,e=":"+e+"r"+t.toString(32)+":";return n.memoizedState=e},unstable_isNewReconciler:!1},tY={readContext:Bi,useCallback:rR,useContext:Bi,useEffect:aS,useImperativeHandle:iR,useInsertionEffect:eR,useLayoutEffect:tR,useMemo:sR,useReducer:oy,useRef:JI,useState:function(){return oy(rh)},useDebugValue:uS,useDeferredValue:function(n){var e=Wi();return oR(e,Vt.memoizedState,n)},useTransition:function(){var n=oy(rh)[0],e=Wi().memoizedState;return[n,e]},useMutableSource:zI,useSyncExternalStore:XI,useId:lR,unstable_isNewReconciler:!1},nY={readContext:Bi,useCallback:rR,useContext:Bi,useEffect:aS,useImperativeHandle:iR,useInsertionEffect:eR,useLayoutEffect:tR,useMemo:sR,useReducer:ly,useRef:JI,useState:function(){return ly(rh)},useDebugValue:uS,useDeferredValue:function(n){var e=Wi();return Vt===null?e.memoizedState=n:oR(e,Vt.memoizedState,n)},useTransition:function(){var n=ly(rh)[0],e=Wi().memoizedState;return[n,e]},useMutableSource:zI,useSyncExternalStore:XI,useId:lR,unstable_isNewReconciler:!1};function Ba(n,e){try{var t="",i=e;do t+=AB(i),i=i.return;while(i);var r=t}catch(s){r=`
Error generating stack: `+s.message+`
`+s.stack}return{value:n,source:e,stack:r,digest:null}}function ay(n,e,t){return{value:n,source:null,stack:t??null,digest:e??null}}function Vv(n,e){try{console.error(e.value)}catch(t){setTimeout(function(){throw t})}}var iY=typeof WeakMap=="function"?WeakMap:Map;function hR(n,e,t){t=us(-1,t),t.tag=3,t.payload={element:null};var i=e.value;return t.callback=function(){ag||(ag=!0,qv=i),Vv(n,e)},t}function fR(n,e,t){t=us(-1,t),t.tag=3;var i=n.type.getDerivedStateFromError;if(typeof i=="function"){var r=e.value;t.payload=function(){return i(r)},t.callback=function(){Vv(n,e)}}var s=n.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(t.callback=function(){Vv(n,e),typeof i!="function"&&(oo===null?oo=new Set([this]):oo.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),t}function LE(n,e,t){var i=n.pingCache;if(i===null){i=n.pingCache=new iY;var r=new Set;i.set(e,r)}else r=i.get(e),r===void 0&&(r=new Set,i.set(e,r));r.has(t)||(r.add(t),n=OY.bind(null,n,e,t),e.then(n,n))}function VE(n){do{var e;if((e=n.tag===13)&&(e=n.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return n;n=n.return}while(n!==null);return null}function ZE(n,e,t,i,r){return n.mode&1?(n.flags|=65536,n.lanes=r,n):(n===e?n.flags|=65536:(n.flags|=128,t.flags|=131072,t.flags&=-52805,t.tag===1&&(t.alternate===null?t.tag=17:(e=us(-1,1),e.tag=2,so(t,e,1))),t.lanes|=1),n)}var rY=Ts.ReactCurrentOwner,jn=!1;function Qn(n,e,t,i){e.child=n===null?YI(e,null,t,i):Za(e,n.child,t,i)}function UE(n,e,t,i,r){t=t.render;var s=e.ref;return _a(e,r),i=oS(n,e,t,i,s,r),t=lS(),n!==null&&!jn?(e.updateQueue=n.updateQueue,e.flags&=-2053,n.lanes&=~r,gs(n,e,r)):(ut&&t&&jw(e),e.flags|=1,Qn(n,e,i,r),e.child)}function BE(n,e,t,i,r){if(n===null){var s=t.type;return typeof s=="function"&&!OS(s)&&s.defaultProps===void 0&&t.compare===null&&t.defaultProps===void 0?(e.tag=15,e.type=s,dR(n,e,s,i,r)):(n=Sp(t.type,null,i,e,e.mode,r),n.ref=e.ref,n.return=e,e.child=n)}if(s=n.child,!(n.lanes&r)){var o=s.memoizedProps;if(t=t.compare,t=t!==null?t:Hc,t(o,i)&&n.ref===e.ref)return gs(n,e,r)}return e.flags|=1,n=ao(s,i),n.ref=e.ref,n.return=e,e.child=n}function dR(n,e,t,i,r){if(n!==null){var s=n.memoizedProps;if(Hc(s,i)&&n.ref===e.ref)if(jn=!1,e.pendingProps=i=s,(n.lanes&r)!==0)n.flags&131072&&(jn=!0);else return e.lanes=n.lanes,gs(n,e,r)}return Zv(n,e,t,i,r)}function pR(n,e,t){var i=e.pendingProps,r=i.children,s=n!==null?n.memoizedState:null;if(i.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ke(da,ui),ui|=t;else{if(!(t&1073741824))return n=s!==null?s.baseLanes|t:t,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:n,cachePool:null,transitions:null},e.updateQueue=null,Ke(da,ui),ui|=n,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},i=s!==null?s.baseLanes:t,Ke(da,ui),ui|=i}else s!==null?(i=s.baseLanes|t,e.memoizedState=null):i=t,Ke(da,ui),ui|=i;return Qn(n,e,r,t),e.child}function gR(n,e){var t=e.ref;(n===null&&t!==null||n!==null&&n.ref!==t)&&(e.flags|=512,e.flags|=2097152)}function Zv(n,e,t,i,r){var s=Hn(t)?cl:Pn.current;return s=La(e,s),_a(e,r),t=oS(n,e,t,i,s,r),i=lS(),n!==null&&!jn?(e.updateQueue=n.updateQueue,e.flags&=-2053,n.lanes&=~r,gs(n,e,r)):(ut&&i&&jw(e),e.flags|=1,Qn(n,e,t,r),e.child)}function WE(n,e,t,i,r){if(Hn(t)){var s=!0;Kp(e)}else s=!1;if(_a(e,r),e.stateNode===null)yp(n,e),BI(e,t,i),Lv(e,t,i,r),i=!0;else if(n===null){var o=e.stateNode,l=e.memoizedProps;o.props=l;var u=o.context,h=t.contextType;typeof h=="object"&&h!==null?h=Bi(h):(h=Hn(t)?cl:Pn.current,h=La(e,h));var f=t.getDerivedStateFromProps,p=typeof f=="function"||typeof o.getSnapshotBeforeUpdate=="function";p||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==i||u!==h)&&QE(e,o,i,h),Vs=!1;var g=e.memoizedState;o.state=g,ig(e,i,o,r),u=e.memoizedState,l!==i||g!==u||Gn.current||Vs?(typeof f=="function"&&(Nv(e,t,f,i),u=e.memoizedState),(l=Vs||$E(e,t,l,i,g,u,h))?(p||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=i,e.memoizedState=u),o.props=i,o.state=u,o.context=h,i=l):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),i=!1)}else{o=e.stateNode,ZI(n,e),l=e.memoizedProps,h=e.type===e.elementType?l:Ji(e.type,l),o.props=h,p=e.pendingProps,g=o.context,u=t.contextType,typeof u=="object"&&u!==null?u=Bi(u):(u=Hn(t)?cl:Pn.current,u=La(e,u));var O=t.getDerivedStateFromProps;(f=typeof O=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==p||g!==u)&&QE(e,o,i,u),Vs=!1,g=e.memoizedState,o.state=g,ig(e,i,o,r);var v=e.memoizedState;l!==p||g!==v||Gn.current||Vs?(typeof O=="function"&&(Nv(e,t,O,i),v=e.memoizedState),(h=Vs||$E(e,t,h,i,g,v,u)||!1)?(f||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(i,v,u),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(i,v,u)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===n.memoizedProps&&g===n.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===n.memoizedProps&&g===n.memoizedState||(e.flags|=1024),e.memoizedProps=i,e.memoizedState=v),o.props=i,o.state=v,o.context=u,i=h):(typeof o.componentDidUpdate!="function"||l===n.memoizedProps&&g===n.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===n.memoizedProps&&g===n.memoizedState||(e.flags|=1024),i=!1)}return Uv(n,e,t,i,s,r)}function Uv(n,e,t,i,r,s){gR(n,e);var o=(e.flags&128)!==0;if(!i&&!o)return r&&bE(e,t,!1),gs(n,e,s);i=e.stateNode,rY.current=e;var l=o&&typeof t.getDerivedStateFromError!="function"?null:i.render();return e.flags|=1,n!==null&&o?(e.child=Za(e,n.child,null,s),e.child=Za(e,null,l,s)):Qn(n,e,l,s),e.memoizedState=i.state,r&&bE(e,t,!0),e.child}function mR(n){var e=n.stateNode;e.pendingContext?PE(n,e.pendingContext,e.pendingContext!==e.context):e.context&&PE(n,e.context,!1),nS(n,e.containerInfo)}function YE(n,e,t,i,r){return Va(),Gw(r),e.flags|=256,Qn(n,e,t,i),e.child}var Bv={dehydrated:null,treeContext:null,retryLane:0};function Wv(n){return{baseLanes:n,cachePool:null,transitions:null}}function OR(n,e,t){var i=e.pendingProps,r=ft.current,s=!1,o=(e.flags&128)!==0,l;if((l=o)||(l=n!==null&&n.memoizedState===null?!1:(r&2)!==0),l?(s=!0,e.flags&=-129):(n===null||n.memoizedState!==null)&&(r|=1),Ke(ft,r&1),n===null)return Dv(e),n=e.memoizedState,n!==null&&(n=n.dehydrated,n!==null)?(e.mode&1?n.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=i.children,n=i.fallback,s?(i=e.mode,s=e.child,o={mode:"hidden",children:o},!(i&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=Sm(o,i,0,null),n=ol(n,i,t,null),s.return=e,n.return=e,s.sibling=n,e.child=s,e.child.memoizedState=Wv(t),e.memoizedState=Bv,n):cS(e,o));if(r=n.memoizedState,r!==null&&(l=r.dehydrated,l!==null))return sY(n,e,o,i,l,r,t);if(s){s=i.fallback,o=e.mode,r=n.child,l=r.sibling;var u={mode:"hidden",children:i.children};return!(o&1)&&e.child!==r?(i=e.child,i.childLanes=0,i.pendingProps=u,e.deletions=null):(i=ao(r,u),i.subtreeFlags=r.subtreeFlags&14680064),l!==null?s=ao(l,s):(s=ol(s,o,t,null),s.flags|=2),s.return=e,i.return=e,i.sibling=s,e.child=i,i=s,s=e.child,o=n.child.memoizedState,o=o===null?Wv(t):{baseLanes:o.baseLanes|t,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=n.childLanes&~t,e.memoizedState=Bv,i}return s=n.child,n=s.sibling,i=ao(s,{mode:"visible",children:i.children}),!(e.mode&1)&&(i.lanes=t),i.return=e,i.sibling=null,n!==null&&(t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)),e.child=i,e.memoizedState=null,i}function cS(n,e){return e=Sm({mode:"visible",children:e},n.mode,0,null),e.return=n,n.child=e}function Ad(n,e,t,i){return i!==null&&Gw(i),Za(e,n.child,null,t),n=cS(e,e.pendingProps.children),n.flags|=2,e.memoizedState=null,n}function sY(n,e,t,i,r,s,o){if(t)return e.flags&256?(e.flags&=-257,i=ay(Error(F(422))),Ad(n,e,o,i)):e.memoizedState!==null?(e.child=n.child,e.flags|=128,null):(s=i.fallback,r=e.mode,i=Sm({mode:"visible",children:i.children},r,0,null),s=ol(s,r,o,null),s.flags|=2,i.return=e,s.return=e,i.sibling=s,e.child=i,e.mode&1&&Za(e,n.child,null,o),e.child.memoizedState=Wv(o),e.memoizedState=Bv,s);if(!(e.mode&1))return Ad(n,e,o,null);if(r.data==="$!"){if(i=r.nextSibling&&r.nextSibling.dataset,i)var l=i.dgst;return i=l,s=Error(F(419)),i=ay(s,i,void 0),Ad(n,e,o,i)}if(l=(o&n.childLanes)!==0,jn||l){if(i=qt,i!==null){switch(o&-o){case 4:r=2;break;case 16:r=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:r=32;break;case 536870912:r=268435456;break;default:r=0}r=r&(i.suspendedLanes|o)?0:r,r!==0&&r!==s.retryLane&&(s.retryLane=r,ps(n,r),sr(i,n,r,-1))}return mS(),i=ay(Error(F(421))),Ad(n,e,o,i)}return r.data==="$?"?(e.flags|=128,e.child=n.child,e=yY.bind(null,n),r._reactRetry=e,null):(n=s.treeContext,di=ro(r.nextSibling),gi=e,ut=!0,tr=null,n!==null&&(Ri[$i++]=rs,Ri[$i++]=ss,Ri[$i++]=hl,rs=n.id,ss=n.overflow,hl=e),e=cS(e,i.children),e.flags|=4096,e)}function FE(n,e,t){n.lanes|=e;var i=n.alternate;i!==null&&(i.lanes|=e),Mv(n.return,e,t)}function uy(n,e,t,i,r){var s=n.memoizedState;s===null?n.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:i,tail:t,tailMode:r}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=i,s.tail=t,s.tailMode=r)}function yR(n,e,t){var i=e.pendingProps,r=i.revealOrder,s=i.tail;if(Qn(n,e,i.children,t),i=ft.current,i&2)i=i&1|2,e.flags|=128;else{if(n!==null&&n.flags&128)e:for(n=e.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&FE(n,t,e);else if(n.tag===19)FE(n,t,e);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break e;for(;n.sibling===null;){if(n.return===null||n.return===e)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}i&=1}if(Ke(ft,i),!(e.mode&1))e.memoizedState=null;else switch(r){case"forwards":for(t=e.child,r=null;t!==null;)n=t.alternate,n!==null&&rg(n)===null&&(r=t),t=t.sibling;t=r,t===null?(r=e.child,e.child=null):(r=t.sibling,t.sibling=null),uy(e,!1,r,t,s);break;case"backwards":for(t=null,r=e.child,e.child=null;r!==null;){if(n=r.alternate,n!==null&&rg(n)===null){e.child=r;break}n=r.sibling,r.sibling=t,t=r,r=n}uy(e,!0,t,null,s);break;case"together":uy(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function yp(n,e){!(e.mode&1)&&n!==null&&(n.alternate=null,e.alternate=null,e.flags|=2)}function gs(n,e,t){if(n!==null&&(e.dependencies=n.dependencies),dl|=e.lanes,!(t&e.childLanes))return null;if(n!==null&&e.child!==n.child)throw Error(F(153));if(e.child!==null){for(n=e.child,t=ao(n,n.pendingProps),e.child=t,t.return=e;n.sibling!==null;)n=n.sibling,t=t.sibling=ao(n,n.pendingProps),t.return=e;t.sibling=null}return e.child}function oY(n,e,t){switch(e.tag){case 3:mR(e),Va();break;case 5:FI(e);break;case 1:Hn(e.type)&&Kp(e);break;case 4:nS(e,e.stateNode.containerInfo);break;case 10:var i=e.type._context,r=e.memoizedProps.value;Ke(tg,i._currentValue),i._currentValue=r;break;case 13:if(i=e.memoizedState,i!==null)return i.dehydrated!==null?(Ke(ft,ft.current&1),e.flags|=128,null):t&e.child.childLanes?OR(n,e,t):(Ke(ft,ft.current&1),n=gs(n,e,t),n!==null?n.sibling:null);Ke(ft,ft.current&1);break;case 19:if(i=(t&e.childLanes)!==0,n.flags&128){if(i)return yR(n,e,t);e.flags|=128}if(r=e.memoizedState,r!==null&&(r.rendering=null,r.tail=null,r.lastEffect=null),Ke(ft,ft.current),i)break;return null;case 22:case 23:return e.lanes=0,pR(n,e,t)}return gs(n,e,t)}var vR,Yv,wR,SR;vR=function(n,e){for(var t=e.child;t!==null;){if(t.tag===5||t.tag===6)n.appendChild(t.stateNode);else if(t.tag!==4&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return;t=t.return}t.sibling.return=t.return,t=t.sibling}};Yv=function(){};wR=function(n,e,t,i){var r=n.memoizedProps;if(r!==i){n=e.stateNode,Ko($r.current);var s=null;switch(t){case"input":r=fv(n,r),i=fv(n,i),s=[];break;case"select":r=gt({},r,{value:void 0}),i=gt({},i,{value:void 0}),s=[];break;case"textarea":r=gv(n,r),i=gv(n,i),s=[];break;default:typeof r.onClick!="function"&&typeof i.onClick=="function"&&(n.onclick=Gp)}Ov(t,i);var o;t=null;for(h in r)if(!i.hasOwnProperty(h)&&r.hasOwnProperty(h)&&r[h]!=null)if(h==="style"){var l=r[h];for(o in l)l.hasOwnProperty(o)&&(t||(t={}),t[o]="")}else h!=="dangerouslySetInnerHTML"&&h!=="children"&&h!=="suppressContentEditableWarning"&&h!=="suppressHydrationWarning"&&h!=="autoFocus"&&(Yc.hasOwnProperty(h)?s||(s=[]):(s=s||[]).push(h,null));for(h in i){var u=i[h];if(l=r!=null?r[h]:void 0,i.hasOwnProperty(h)&&u!==l&&(u!=null||l!=null))if(h==="style")if(l){for(o in l)!l.hasOwnProperty(o)||u&&u.hasOwnProperty(o)||(t||(t={}),t[o]="");for(o in u)u.hasOwnProperty(o)&&l[o]!==u[o]&&(t||(t={}),t[o]=u[o])}else t||(s||(s=[]),s.push(h,t)),t=u;else h==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,l=l?l.__html:void 0,u!=null&&l!==u&&(s=s||[]).push(h,u)):h==="children"?typeof u!="string"&&typeof u!="number"||(s=s||[]).push(h,""+u):h!=="suppressContentEditableWarning"&&h!=="suppressHydrationWarning"&&(Yc.hasOwnProperty(h)?(u!=null&&h==="onScroll"&&et("scroll",n),s||l===u||(s=[])):(s=s||[]).push(h,u))}t&&(s=s||[]).push("style",t);var h=s;(e.updateQueue=h)&&(e.flags|=4)}};SR=function(n,e,t,i){t!==i&&(e.flags|=4)};function Ku(n,e){if(!ut)switch(n.tailMode){case"hidden":e=n.tail;for(var t=null;e!==null;)e.alternate!==null&&(t=e),e=e.sibling;t===null?n.tail=null:t.sibling=null;break;case"collapsed":t=n.tail;for(var i=null;t!==null;)t.alternate!==null&&(i=t),t=t.sibling;i===null?e||n.tail===null?n.tail=null:n.tail.sibling=null:i.sibling=null}}function mn(n){var e=n.alternate!==null&&n.alternate.child===n.child,t=0,i=0;if(e)for(var r=n.child;r!==null;)t|=r.lanes|r.childLanes,i|=r.subtreeFlags&14680064,i|=r.flags&14680064,r.return=n,r=r.sibling;else for(r=n.child;r!==null;)t|=r.lanes|r.childLanes,i|=r.subtreeFlags,i|=r.flags,r.return=n,r=r.sibling;return n.subtreeFlags|=i,n.childLanes=t,e}function lY(n,e,t){var i=e.pendingProps;switch(qw(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return mn(e),null;case 1:return Hn(e.type)&&Hp(),mn(e),null;case 3:return i=e.stateNode,Ua(),st(Gn),st(Pn),rS(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(n===null||n.child===null)&&(bd(e)?e.flags|=4:n===null||n.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,tr!==null&&(Kv(tr),tr=null))),Yv(n,e),mn(e),null;case 5:iS(e);var r=Ko(nh.current);if(t=e.type,n!==null&&e.stateNode!=null)wR(n,e,t,i,r),n.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!i){if(e.stateNode===null)throw Error(F(166));return mn(e),null}if(n=Ko($r.current),bd(e)){i=e.stateNode,t=e.type;var s=e.memoizedProps;switch(i[xr]=e,i[eh]=s,n=(e.mode&1)!==0,t){case"dialog":et("cancel",i),et("close",i);break;case"iframe":case"object":case"embed":et("load",i);break;case"video":case"audio":for(r=0;r<dc.length;r++)et(dc[r],i);break;case"source":et("error",i);break;case"img":case"image":case"link":et("error",i),et("load",i);break;case"details":et("toggle",i);break;case"input":eE(i,s),et("invalid",i);break;case"select":i._wrapperState={wasMultiple:!!s.multiple},et("invalid",i);break;case"textarea":nE(i,s),et("invalid",i)}Ov(t,s),r=null;for(var o in s)if(s.hasOwnProperty(o)){var l=s[o];o==="children"?typeof l=="string"?i.textContent!==l&&(s.suppressHydrationWarning!==!0&&Pd(i.textContent,l,n),r=["children",l]):typeof l=="number"&&i.textContent!==""+l&&(s.suppressHydrationWarning!==!0&&Pd(i.textContent,l,n),r=["children",""+l]):Yc.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&et("scroll",i)}switch(t){case"input":vd(i),tE(i,s,!0);break;case"textarea":vd(i),iE(i);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(i.onclick=Gp)}i=r,e.updateQueue=i,i!==null&&(e.flags|=4)}else{o=r.nodeType===9?r:r.ownerDocument,n==="http://www.w3.org/1999/xhtml"&&(n=jA(t)),n==="http://www.w3.org/1999/xhtml"?t==="script"?(n=o.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild)):typeof i.is=="string"?n=o.createElement(t,{is:i.is}):(n=o.createElement(t),t==="select"&&(o=n,i.multiple?o.multiple=!0:i.size&&(o.size=i.size))):n=o.createElementNS(n,t),n[xr]=e,n[eh]=i,vR(n,e,!1,!1),e.stateNode=n;e:{switch(o=yv(t,i),t){case"dialog":et("cancel",n),et("close",n),r=i;break;case"iframe":case"object":case"embed":et("load",n),r=i;break;case"video":case"audio":for(r=0;r<dc.length;r++)et(dc[r],n);r=i;break;case"source":et("error",n),r=i;break;case"img":case"image":case"link":et("error",n),et("load",n),r=i;break;case"details":et("toggle",n),r=i;break;case"input":eE(n,i),r=fv(n,i),et("invalid",n);break;case"option":r=i;break;case"select":n._wrapperState={wasMultiple:!!i.multiple},r=gt({},i,{value:void 0}),et("invalid",n);break;case"textarea":nE(n,i),r=gv(n,i),et("invalid",n);break;default:r=i}Ov(t,r),l=r;for(s in l)if(l.hasOwnProperty(s)){var u=l[s];s==="style"?HA(n,u):s==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&qA(n,u)):s==="children"?typeof u=="string"?(t!=="textarea"||u!=="")&&Fc(n,u):typeof u=="number"&&Fc(n,""+u):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Yc.hasOwnProperty(s)?u!=null&&s==="onScroll"&&et("scroll",n):u!=null&&Qw(n,s,u,o))}switch(t){case"input":vd(n),tE(n,i,!1);break;case"textarea":vd(n),iE(n);break;case"option":i.value!=null&&n.setAttribute("value",""+vo(i.value));break;case"select":n.multiple=!!i.multiple,s=i.value,s!=null?ya(n,!!i.multiple,s,!1):i.defaultValue!=null&&ya(n,!!i.multiple,i.defaultValue,!0);break;default:typeof r.onClick=="function"&&(n.onclick=Gp)}switch(t){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}}i&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return mn(e),null;case 6:if(n&&e.stateNode!=null)SR(n,e,n.memoizedProps,i);else{if(typeof i!="string"&&e.stateNode===null)throw Error(F(166));if(t=Ko(nh.current),Ko($r.current),bd(e)){if(i=e.stateNode,t=e.memoizedProps,i[xr]=e,(s=i.nodeValue!==t)&&(n=gi,n!==null))switch(n.tag){case 3:Pd(i.nodeValue,t,(n.mode&1)!==0);break;case 5:n.memoizedProps.suppressHydrationWarning!==!0&&Pd(i.nodeValue,t,(n.mode&1)!==0)}s&&(e.flags|=4)}else i=(t.nodeType===9?t:t.ownerDocument).createTextNode(i),i[xr]=e,e.stateNode=i}return mn(e),null;case 13:if(st(ft),i=e.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(ut&&di!==null&&e.mode&1&&!(e.flags&128))LI(),Va(),e.flags|=98560,s=!1;else if(s=bd(e),i!==null&&i.dehydrated!==null){if(n===null){if(!s)throw Error(F(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(F(317));s[xr]=e}else Va(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;mn(e),s=!1}else tr!==null&&(Kv(tr),tr=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=t,e):(i=i!==null,i!==(n!==null&&n.memoizedState!==null)&&i&&(e.child.flags|=8192,e.mode&1&&(n===null||ft.current&1?Bt===0&&(Bt=3):mS())),e.updateQueue!==null&&(e.flags|=4),mn(e),null);case 4:return Ua(),Yv(n,e),n===null&&Kc(e.stateNode.containerInfo),mn(e),null;case 10:return Jw(e.type._context),mn(e),null;case 17:return Hn(e.type)&&Hp(),mn(e),null;case 19:if(st(ft),s=e.memoizedState,s===null)return mn(e),null;if(i=(e.flags&128)!==0,o=s.rendering,o===null)if(i)Ku(s,!1);else{if(Bt!==0||n!==null&&n.flags&128)for(n=e.child;n!==null;){if(o=rg(n),o!==null){for(e.flags|=128,Ku(s,!1),i=o.updateQueue,i!==null&&(e.updateQueue=i,e.flags|=4),e.subtreeFlags=0,i=t,t=e.child;t!==null;)s=t,n=i,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=n,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,n=o.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t=t.sibling;return Ke(ft,ft.current&1|2),e.child}n=n.sibling}s.tail!==null&&Et()>Wa&&(e.flags|=128,i=!0,Ku(s,!1),e.lanes=4194304)}else{if(!i)if(n=rg(o),n!==null){if(e.flags|=128,i=!0,t=n.updateQueue,t!==null&&(e.updateQueue=t,e.flags|=4),Ku(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!ut)return mn(e),null}else 2*Et()-s.renderingStartTime>Wa&&t!==1073741824&&(e.flags|=128,i=!0,Ku(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(t=s.last,t!==null?t.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Et(),e.sibling=null,t=ft.current,Ke(ft,i?t&1|2:t&1),e):(mn(e),null);case 22:case 23:return gS(),i=e.memoizedState!==null,n!==null&&n.memoizedState!==null!==i&&(e.flags|=8192),i&&e.mode&1?ui&1073741824&&(mn(e),e.subtreeFlags&6&&(e.flags|=8192)):mn(e),null;case 24:return null;case 25:return null}throw Error(F(156,e.tag))}function aY(n,e){switch(qw(e),e.tag){case 1:return Hn(e.type)&&Hp(),n=e.flags,n&65536?(e.flags=n&-65537|128,e):null;case 3:return Ua(),st(Gn),st(Pn),rS(),n=e.flags,n&65536&&!(n&128)?(e.flags=n&-65537|128,e):null;case 5:return iS(e),null;case 13:if(st(ft),n=e.memoizedState,n!==null&&n.dehydrated!==null){if(e.alternate===null)throw Error(F(340));Va()}return n=e.flags,n&65536?(e.flags=n&-65537|128,e):null;case 19:return st(ft),null;case 4:return Ua(),null;case 10:return Jw(e.type._context),null;case 22:case 23:return gS(),null;case 24:return null;default:return null}}var Id=!1,wn=!1,uY=typeof WeakSet=="function"?WeakSet:Set,te=null;function fa(n,e){var t=n.ref;if(t!==null)if(typeof t=="function")try{t(null)}catch(i){wt(n,e,i)}else t.current=null}function Fv(n,e,t){try{t()}catch(i){wt(n,e,i)}}var zE=!1;function cY(n,e){if(bv=Xp,n=kI(),Xw(n)){if("selectionStart"in n)var t={start:n.selectionStart,end:n.selectionEnd};else e:{t=(t=n.ownerDocument)&&t.defaultView||window;var i=t.getSelection&&t.getSelection();if(i&&i.rangeCount!==0){t=i.anchorNode;var r=i.anchorOffset,s=i.focusNode;i=i.focusOffset;try{t.nodeType,s.nodeType}catch{t=null;break e}var o=0,l=-1,u=-1,h=0,f=0,p=n,g=null;t:for(;;){for(var O;p!==t||r!==0&&p.nodeType!==3||(l=o+r),p!==s||i!==0&&p.nodeType!==3||(u=o+i),p.nodeType===3&&(o+=p.nodeValue.length),(O=p.firstChild)!==null;)g=p,p=O;for(;;){if(p===n)break t;if(g===t&&++h===r&&(l=o),g===s&&++f===i&&(u=o),(O=p.nextSibling)!==null)break;p=g,g=p.parentNode}p=O}t=l===-1||u===-1?null:{start:l,end:u}}else t=null}t=t||{start:0,end:0}}else t=null;for(Cv={focusedElem:n,selectionRange:t},Xp=!1,te=e;te!==null;)if(e=te,n=e.child,(e.subtreeFlags&1028)!==0&&n!==null)n.return=e,te=n;else for(;te!==null;){e=te;try{var v=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var x=v.memoizedProps,k=v.memoizedState,w=e.stateNode,_=w.getSnapshotBeforeUpdate(e.elementType===e.type?x:Ji(e.type,x),k);w.__reactInternalSnapshotBeforeUpdate=_}break;case 3:var E=e.stateNode.containerInfo;E.nodeType===1?E.textContent="":E.nodeType===9&&E.documentElement&&E.removeChild(E.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(F(163))}}catch(b){wt(e,e.return,b)}if(n=e.sibling,n!==null){n.return=e.return,te=n;break}te=e.return}return v=zE,zE=!1,v}function Ic(n,e,t){var i=e.updateQueue;if(i=i!==null?i.lastEffect:null,i!==null){var r=i=i.next;do{if((r.tag&n)===n){var s=r.destroy;r.destroy=void 0,s!==void 0&&Fv(e,t,s)}r=r.next}while(r!==i)}}function vm(n,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var t=e=e.next;do{if((t.tag&n)===n){var i=t.create;t.destroy=i()}t=t.next}while(t!==e)}}function zv(n){var e=n.ref;if(e!==null){var t=n.stateNode;switch(n.tag){case 5:n=t;break;default:n=t}typeof e=="function"?e(n):e.current=n}}function _R(n){var e=n.alternate;e!==null&&(n.alternate=null,_R(e)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(e=n.stateNode,e!==null&&(delete e[xr],delete e[eh],delete e[Rv],delete e[zW],delete e[XW])),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}function xR(n){return n.tag===5||n.tag===3||n.tag===4}function XE(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||xR(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function Xv(n,e,t){var i=n.tag;if(i===5||i===6)n=n.stateNode,e?t.nodeType===8?t.parentNode.insertBefore(n,e):t.insertBefore(n,e):(t.nodeType===8?(e=t.parentNode,e.insertBefore(n,t)):(e=t,e.appendChild(n)),t=t._reactRootContainer,t!=null||e.onclick!==null||(e.onclick=Gp));else if(i!==4&&(n=n.child,n!==null))for(Xv(n,e,t),n=n.sibling;n!==null;)Xv(n,e,t),n=n.sibling}function jv(n,e,t){var i=n.tag;if(i===5||i===6)n=n.stateNode,e?t.insertBefore(n,e):t.appendChild(n);else if(i!==4&&(n=n.child,n!==null))for(jv(n,e,t),n=n.sibling;n!==null;)jv(n,e,t),n=n.sibling}var en=null,er=!1;function Ms(n,e,t){for(t=t.child;t!==null;)TR(n,e,t),t=t.sibling}function TR(n,e,t){if(Rr&&typeof Rr.onCommitFiberUnmount=="function")try{Rr.onCommitFiberUnmount(hm,t)}catch{}switch(t.tag){case 5:wn||fa(t,e);case 6:var i=en,r=er;en=null,Ms(n,e,t),en=i,er=r,en!==null&&(er?(n=en,t=t.stateNode,n.nodeType===8?n.parentNode.removeChild(t):n.removeChild(t)):en.removeChild(t.stateNode));break;case 18:en!==null&&(er?(n=en,t=t.stateNode,n.nodeType===8?ny(n.parentNode,t):n.nodeType===1&&ny(n,t),qc(n)):ny(en,t.stateNode));break;case 4:i=en,r=er,en=t.stateNode.containerInfo,er=!0,Ms(n,e,t),en=i,er=r;break;case 0:case 11:case 14:case 15:if(!wn&&(i=t.updateQueue,i!==null&&(i=i.lastEffect,i!==null))){r=i=i.next;do{var s=r,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&Fv(t,e,o),r=r.next}while(r!==i)}Ms(n,e,t);break;case 1:if(!wn&&(fa(t,e),i=t.stateNode,typeof i.componentWillUnmount=="function"))try{i.props=t.memoizedProps,i.state=t.memoizedState,i.componentWillUnmount()}catch(l){wt(t,e,l)}Ms(n,e,t);break;case 21:Ms(n,e,t);break;case 22:t.mode&1?(wn=(i=wn)||t.memoizedState!==null,Ms(n,e,t),wn=i):Ms(n,e,t);break;default:Ms(n,e,t)}}function jE(n){var e=n.updateQueue;if(e!==null){n.updateQueue=null;var t=n.stateNode;t===null&&(t=n.stateNode=new uY),e.forEach(function(i){var r=vY.bind(null,n,i);t.has(i)||(t.add(i),i.then(r,r))})}}function Ki(n,e){var t=e.deletions;if(t!==null)for(var i=0;i<t.length;i++){var r=t[i];try{var s=n,o=e,l=o;e:for(;l!==null;){switch(l.tag){case 5:en=l.stateNode,er=!1;break e;case 3:en=l.stateNode.containerInfo,er=!0;break e;case 4:en=l.stateNode.containerInfo,er=!0;break e}l=l.return}if(en===null)throw Error(F(160));TR(s,o,r),en=null,er=!1;var u=r.alternate;u!==null&&(u.return=null),r.return=null}catch(h){wt(r,e,h)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)kR(e,n),e=e.sibling}function kR(n,e){var t=n.alternate,i=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:if(Ki(e,n),mr(n),i&4){try{Ic(3,n,n.return),vm(3,n)}catch(x){wt(n,n.return,x)}try{Ic(5,n,n.return)}catch(x){wt(n,n.return,x)}}break;case 1:Ki(e,n),mr(n),i&512&&t!==null&&fa(t,t.return);break;case 5:if(Ki(e,n),mr(n),i&512&&t!==null&&fa(t,t.return),n.flags&32){var r=n.stateNode;try{Fc(r,"")}catch(x){wt(n,n.return,x)}}if(i&4&&(r=n.stateNode,r!=null)){var s=n.memoizedProps,o=t!==null?t.memoizedProps:s,l=n.type,u=n.updateQueue;if(n.updateQueue=null,u!==null)try{l==="input"&&s.type==="radio"&&s.name!=null&&zA(r,s),yv(l,o);var h=yv(l,s);for(o=0;o<u.length;o+=2){var f=u[o],p=u[o+1];f==="style"?HA(r,p):f==="dangerouslySetInnerHTML"?qA(r,p):f==="children"?Fc(r,p):Qw(r,f,p,h)}switch(l){case"input":dv(r,s);break;case"textarea":XA(r,s);break;case"select":var g=r._wrapperState.wasMultiple;r._wrapperState.wasMultiple=!!s.multiple;var O=s.value;O!=null?ya(r,!!s.multiple,O,!1):g!==!!s.multiple&&(s.defaultValue!=null?ya(r,!!s.multiple,s.defaultValue,!0):ya(r,!!s.multiple,s.multiple?[]:"",!1))}r[eh]=s}catch(x){wt(n,n.return,x)}}break;case 6:if(Ki(e,n),mr(n),i&4){if(n.stateNode===null)throw Error(F(162));r=n.stateNode,s=n.memoizedProps;try{r.nodeValue=s}catch(x){wt(n,n.return,x)}}break;case 3:if(Ki(e,n),mr(n),i&4&&t!==null&&t.memoizedState.isDehydrated)try{qc(e.containerInfo)}catch(x){wt(n,n.return,x)}break;case 4:Ki(e,n),mr(n);break;case 13:Ki(e,n),mr(n),r=n.child,r.flags&8192&&(s=r.memoizedState!==null,r.stateNode.isHidden=s,!s||r.alternate!==null&&r.alternate.memoizedState!==null||(dS=Et())),i&4&&jE(n);break;case 22:if(f=t!==null&&t.memoizedState!==null,n.mode&1?(wn=(h=wn)||f,Ki(e,n),wn=h):Ki(e,n),mr(n),i&8192){if(h=n.memoizedState!==null,(n.stateNode.isHidden=h)&&!f&&n.mode&1)for(te=n,f=n.child;f!==null;){for(p=te=f;te!==null;){switch(g=te,O=g.child,g.tag){case 0:case 11:case 14:case 15:Ic(4,g,g.return);break;case 1:fa(g,g.return);var v=g.stateNode;if(typeof v.componentWillUnmount=="function"){i=g,t=g.return;try{e=i,v.props=e.memoizedProps,v.state=e.memoizedState,v.componentWillUnmount()}catch(x){wt(i,t,x)}}break;case 5:fa(g,g.return);break;case 22:if(g.memoizedState!==null){GE(p);continue}}O!==null?(O.return=g,te=O):GE(p)}f=f.sibling}e:for(f=null,p=n;;){if(p.tag===5){if(f===null){f=p;try{r=p.stateNode,h?(s=r.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(l=p.stateNode,u=p.memoizedProps.style,o=u!=null&&u.hasOwnProperty("display")?u.display:null,l.style.display=GA("display",o))}catch(x){wt(n,n.return,x)}}}else if(p.tag===6){if(f===null)try{p.stateNode.nodeValue=h?"":p.memoizedProps}catch(x){wt(n,n.return,x)}}else if((p.tag!==22&&p.tag!==23||p.memoizedState===null||p===n)&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===n)break e;for(;p.sibling===null;){if(p.return===null||p.return===n)break e;f===p&&(f=null),p=p.return}f===p&&(f=null),p.sibling.return=p.return,p=p.sibling}}break;case 19:Ki(e,n),mr(n),i&4&&jE(n);break;case 21:break;default:Ki(e,n),mr(n)}}function mr(n){var e=n.flags;if(e&2){try{e:{for(var t=n.return;t!==null;){if(xR(t)){var i=t;break e}t=t.return}throw Error(F(160))}switch(i.tag){case 5:var r=i.stateNode;i.flags&32&&(Fc(r,""),i.flags&=-33);var s=XE(n);jv(n,s,r);break;case 3:case 4:var o=i.stateNode.containerInfo,l=XE(n);Xv(n,l,o);break;default:throw Error(F(161))}}catch(u){wt(n,n.return,u)}n.flags&=-3}e&4096&&(n.flags&=-4097)}function hY(n,e,t){te=n,ER(n)}function ER(n,e,t){for(var i=(n.mode&1)!==0;te!==null;){var r=te,s=r.child;if(r.tag===22&&i){var o=r.memoizedState!==null||Id;if(!o){var l=r.alternate,u=l!==null&&l.memoizedState!==null||wn;l=Id;var h=wn;if(Id=o,(wn=u)&&!h)for(te=r;te!==null;)o=te,u=o.child,o.tag===22&&o.memoizedState!==null?HE(r):u!==null?(u.return=o,te=u):HE(r);for(;s!==null;)te=s,ER(s),s=s.sibling;te=r,Id=l,wn=h}qE(n)}else r.subtreeFlags&8772&&s!==null?(s.return=r,te=s):qE(n)}}function qE(n){for(;te!==null;){var e=te;if(e.flags&8772){var t=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:wn||vm(5,e);break;case 1:var i=e.stateNode;if(e.flags&4&&!wn)if(t===null)i.componentDidMount();else{var r=e.elementType===e.type?t.memoizedProps:Ji(e.type,t.memoizedProps);i.componentDidUpdate(r,t.memoizedState,i.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&RE(e,s,i);break;case 3:var o=e.updateQueue;if(o!==null){if(t=null,e.child!==null)switch(e.child.tag){case 5:t=e.child.stateNode;break;case 1:t=e.child.stateNode}RE(e,o,t)}break;case 5:var l=e.stateNode;if(t===null&&e.flags&4){t=l;var u=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&t.focus();break;case"img":u.src&&(t.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var h=e.alternate;if(h!==null){var f=h.memoizedState;if(f!==null){var p=f.dehydrated;p!==null&&qc(p)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(F(163))}wn||e.flags&512&&zv(e)}catch(g){wt(e,e.return,g)}}if(e===n){te=null;break}if(t=e.sibling,t!==null){t.return=e.return,te=t;break}te=e.return}}function GE(n){for(;te!==null;){var e=te;if(e===n){te=null;break}var t=e.sibling;if(t!==null){t.return=e.return,te=t;break}te=e.return}}function HE(n){for(;te!==null;){var e=te;try{switch(e.tag){case 0:case 11:case 15:var t=e.return;try{vm(4,e)}catch(u){wt(e,t,u)}break;case 1:var i=e.stateNode;if(typeof i.componentDidMount=="function"){var r=e.return;try{i.componentDidMount()}catch(u){wt(e,r,u)}}var s=e.return;try{zv(e)}catch(u){wt(e,s,u)}break;case 5:var o=e.return;try{zv(e)}catch(u){wt(e,o,u)}}}catch(u){wt(e,e.return,u)}if(e===n){te=null;break}var l=e.sibling;if(l!==null){l.return=e.return,te=l;break}te=e.return}}var fY=Math.ceil,lg=Ts.ReactCurrentDispatcher,hS=Ts.ReactCurrentOwner,Vi=Ts.ReactCurrentBatchConfig,Ne=0,qt=null,It=null,un=0,ui=0,da=Ao(0),Bt=0,oh=null,dl=0,wm=0,fS=0,Rc=null,zn=null,dS=0,Wa=1/0,es=null,ag=!1,qv=null,oo=null,Rd=!1,qs=null,ug=0,$c=0,Gv=null,vp=-1,wp=0;function Mn(){return Ne&6?Et():vp!==-1?vp:vp=Et()}function lo(n){return n.mode&1?Ne&2&&un!==0?un&-un:qW.transition!==null?(wp===0&&(wp=uI()),wp):(n=Ye,n!==0||(n=window.event,n=n===void 0?16:mI(n.type)),n):1}function sr(n,e,t,i){if(50<$c)throw $c=0,Gv=null,Error(F(185));Bh(n,t,i),(!(Ne&2)||n!==qt)&&(n===qt&&(!(Ne&2)&&(wm|=t),Bt===4&&Ws(n,un)),Kn(n,i),t===1&&Ne===0&&!(e.mode&1)&&(Wa=Et()+500,mm&&Io()))}function Kn(n,e){var t=n.callbackNode;qB(n,e);var i=zp(n,n===qt?un:0);if(i===0)t!==null&&oE(t),n.callbackNode=null,n.callbackPriority=0;else if(e=i&-i,n.callbackPriority!==e){if(t!=null&&oE(t),e===1)n.tag===0?jW(KE.bind(null,n)):DI(KE.bind(null,n)),YW(function(){!(Ne&6)&&Io()}),t=null;else{switch(cI(i)){case 1:t=Vw;break;case 4:t=lI;break;case 16:t=Fp;break;case 536870912:t=aI;break;default:t=Fp}t=QR(t,PR.bind(null,n))}n.callbackPriority=e,n.callbackNode=t}}function PR(n,e){if(vp=-1,wp=0,Ne&6)throw Error(F(327));var t=n.callbackNode;if(xa()&&n.callbackNode!==t)return null;var i=zp(n,n===qt?un:0);if(i===0)return null;if(i&30||i&n.expiredLanes||e)e=cg(n,i);else{e=i;var r=Ne;Ne|=2;var s=CR();(qt!==n||un!==e)&&(es=null,Wa=Et()+500,sl(n,e));do try{gY();break}catch(l){bR(n,l)}while(1);Kw(),lg.current=s,Ne=r,It!==null?e=0:(qt=null,un=0,e=Bt)}if(e!==0){if(e===2&&(r=xv(n),r!==0&&(i=r,e=Hv(n,r))),e===1)throw t=oh,sl(n,0),Ws(n,i),Kn(n,Et()),t;if(e===6)Ws(n,i);else{if(r=n.current.alternate,!(i&30)&&!dY(r)&&(e=cg(n,i),e===2&&(s=xv(n),s!==0&&(i=s,e=Hv(n,s))),e===1))throw t=oh,sl(n,0),Ws(n,i),Kn(n,Et()),t;switch(n.finishedWork=r,n.finishedLanes=i,e){case 0:case 1:throw Error(F(345));case 2:zo(n,zn,es);break;case 3:if(Ws(n,i),(i&130023424)===i&&(e=dS+500-Et(),10<e)){if(zp(n,0)!==0)break;if(r=n.suspendedLanes,(r&i)!==i){Mn(),n.pingedLanes|=n.suspendedLanes&r;break}n.timeoutHandle=Iv(zo.bind(null,n,zn,es),e);break}zo(n,zn,es);break;case 4:if(Ws(n,i),(i&4194240)===i)break;for(e=n.eventTimes,r=-1;0<i;){var o=31-rr(i);s=1<<o,o=e[o],o>r&&(r=o),i&=~s}if(i=r,i=Et()-i,i=(120>i?120:480>i?480:1080>i?1080:1920>i?1920:3e3>i?3e3:4320>i?4320:1960*fY(i/1960))-i,10<i){n.timeoutHandle=Iv(zo.bind(null,n,zn,es),i);break}zo(n,zn,es);break;case 5:zo(n,zn,es);break;default:throw Error(F(329))}}}return Kn(n,Et()),n.callbackNode===t?PR.bind(null,n):null}function Hv(n,e){var t=Rc;return n.current.memoizedState.isDehydrated&&(sl(n,e).flags|=256),n=cg(n,e),n!==2&&(e=zn,zn=t,e!==null&&Kv(e)),n}function Kv(n){zn===null?zn=n:zn.push.apply(zn,n)}function dY(n){for(var e=n;;){if(e.flags&16384){var t=e.updateQueue;if(t!==null&&(t=t.stores,t!==null))for(var i=0;i<t.length;i++){var r=t[i],s=r.getSnapshot;r=r.value;try{if(!or(s(),r))return!1}catch{return!1}}}if(t=e.child,e.subtreeFlags&16384&&t!==null)t.return=e,e=t;else{if(e===n)break;for(;e.sibling===null;){if(e.return===null||e.return===n)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Ws(n,e){for(e&=~fS,e&=~wm,n.suspendedLanes|=e,n.pingedLanes&=~e,n=n.expirationTimes;0<e;){var t=31-rr(e),i=1<<t;n[t]=-1,e&=~i}}function KE(n){if(Ne&6)throw Error(F(327));xa();var e=zp(n,0);if(!(e&1))return Kn(n,Et()),null;var t=cg(n,e);if(n.tag!==0&&t===2){var i=xv(n);i!==0&&(e=i,t=Hv(n,i))}if(t===1)throw t=oh,sl(n,0),Ws(n,e),Kn(n,Et()),t;if(t===6)throw Error(F(345));return n.finishedWork=n.current.alternate,n.finishedLanes=e,zo(n,zn,es),Kn(n,Et()),null}function pS(n,e){var t=Ne;Ne|=1;try{return n(e)}finally{Ne=t,Ne===0&&(Wa=Et()+500,mm&&Io())}}function pl(n){qs!==null&&qs.tag===0&&!(Ne&6)&&xa();var e=Ne;Ne|=1;var t=Vi.transition,i=Ye;try{if(Vi.transition=null,Ye=1,n)return n()}finally{Ye=i,Vi.transition=t,Ne=e,!(Ne&6)&&Io()}}function gS(){ui=da.current,st(da)}function sl(n,e){n.finishedWork=null,n.finishedLanes=0;var t=n.timeoutHandle;if(t!==-1&&(n.timeoutHandle=-1,WW(t)),It!==null)for(t=It.return;t!==null;){var i=t;switch(qw(i),i.tag){case 1:i=i.type.childContextTypes,i!=null&&Hp();break;case 3:Ua(),st(Gn),st(Pn),rS();break;case 5:iS(i);break;case 4:Ua();break;case 13:st(ft);break;case 19:st(ft);break;case 10:Jw(i.type._context);break;case 22:case 23:gS()}t=t.return}if(qt=n,It=n=ao(n.current,null),un=ui=e,Bt=0,oh=null,fS=wm=dl=0,zn=Rc=null,Ho!==null){for(e=0;e<Ho.length;e++)if(t=Ho[e],i=t.interleaved,i!==null){t.interleaved=null;var r=i.next,s=t.pending;if(s!==null){var o=s.next;s.next=r,i.next=o}t.pending=i}Ho=null}return n}function bR(n,e){do{var t=It;try{if(Kw(),mp.current=og,sg){for(var i=pt.memoizedState;i!==null;){var r=i.queue;r!==null&&(r.pending=null),i=i.next}sg=!1}if(fl=0,jt=Vt=pt=null,Ac=!1,ih=0,hS.current=null,t===null||t.return===null){Bt=1,oh=e,It=null;break}e:{var s=n,o=t.return,l=t,u=e;if(e=un,l.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var h=u,f=l,p=f.tag;if(!(f.mode&1)&&(p===0||p===11||p===15)){var g=f.alternate;g?(f.updateQueue=g.updateQueue,f.memoizedState=g.memoizedState,f.lanes=g.lanes):(f.updateQueue=null,f.memoizedState=null)}var O=VE(o);if(O!==null){O.flags&=-257,ZE(O,o,l,s,e),O.mode&1&&LE(s,h,e),e=O,u=h;var v=e.updateQueue;if(v===null){var x=new Set;x.add(u),e.updateQueue=x}else v.add(u);break e}else{if(!(e&1)){LE(s,h,e),mS();break e}u=Error(F(426))}}else if(ut&&l.mode&1){var k=VE(o);if(k!==null){!(k.flags&65536)&&(k.flags|=256),ZE(k,o,l,s,e),Gw(Ba(u,l));break e}}s=u=Ba(u,l),Bt!==4&&(Bt=2),Rc===null?Rc=[s]:Rc.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var w=hR(s,u,e);IE(s,w);break e;case 1:l=u;var _=s.type,E=s.stateNode;if(!(s.flags&128)&&(typeof _.getDerivedStateFromError=="function"||E!==null&&typeof E.componentDidCatch=="function"&&(oo===null||!oo.has(E)))){s.flags|=65536,e&=-e,s.lanes|=e;var b=fR(s,l,e);IE(s,b);break e}}s=s.return}while(s!==null)}IR(t)}catch(I){e=I,It===t&&t!==null&&(It=t=t.return);continue}break}while(1)}function CR(){var n=lg.current;return lg.current=og,n===null?og:n}function mS(){(Bt===0||Bt===3||Bt===2)&&(Bt=4),qt===null||!(dl&268435455)&&!(wm&268435455)||Ws(qt,un)}function cg(n,e){var t=Ne;Ne|=2;var i=CR();(qt!==n||un!==e)&&(es=null,sl(n,e));do try{pY();break}catch(r){bR(n,r)}while(1);if(Kw(),Ne=t,lg.current=i,It!==null)throw Error(F(261));return qt=null,un=0,Bt}function pY(){for(;It!==null;)AR(It)}function gY(){for(;It!==null&&!ZB();)AR(It)}function AR(n){var e=$R(n.alternate,n,ui);n.memoizedProps=n.pendingProps,e===null?IR(n):It=e,hS.current=null}function IR(n){var e=n;do{var t=e.alternate;if(n=e.return,e.flags&32768){if(t=aY(t,e),t!==null){t.flags&=32767,It=t;return}if(n!==null)n.flags|=32768,n.subtreeFlags=0,n.deletions=null;else{Bt=6,It=null;return}}else if(t=lY(t,e,ui),t!==null){It=t;return}if(e=e.sibling,e!==null){It=e;return}It=e=n}while(e!==null);Bt===0&&(Bt=5)}function zo(n,e,t){var i=Ye,r=Vi.transition;try{Vi.transition=null,Ye=1,mY(n,e,t,i)}finally{Vi.transition=r,Ye=i}return null}function mY(n,e,t,i){do xa();while(qs!==null);if(Ne&6)throw Error(F(327));t=n.finishedWork;var r=n.finishedLanes;if(t===null)return null;if(n.finishedWork=null,n.finishedLanes=0,t===n.current)throw Error(F(177));n.callbackNode=null,n.callbackPriority=0;var s=t.lanes|t.childLanes;if(GB(n,s),n===qt&&(It=qt=null,un=0),!(t.subtreeFlags&2064)&&!(t.flags&2064)||Rd||(Rd=!0,QR(Fp,function(){return xa(),null})),s=(t.flags&15990)!==0,t.subtreeFlags&15990||s){s=Vi.transition,Vi.transition=null;var o=Ye;Ye=1;var l=Ne;Ne|=4,hS.current=null,cY(n,t),kR(t,n),MW(Cv),Xp=!!bv,Cv=bv=null,n.current=t,hY(t),UB(),Ne=l,Ye=o,Vi.transition=s}else n.current=t;if(Rd&&(Rd=!1,qs=n,ug=r),s=n.pendingLanes,s===0&&(oo=null),YB(t.stateNode),Kn(n,Et()),e!==null)for(i=n.onRecoverableError,t=0;t<e.length;t++)r=e[t],i(r.value,{componentStack:r.stack,digest:r.digest});if(ag)throw ag=!1,n=qv,qv=null,n;return ug&1&&n.tag!==0&&xa(),s=n.pendingLanes,s&1?n===Gv?$c++:($c=0,Gv=n):$c=0,Io(),null}function xa(){if(qs!==null){var n=cI(ug),e=Vi.transition,t=Ye;try{if(Vi.transition=null,Ye=16>n?16:n,qs===null)var i=!1;else{if(n=qs,qs=null,ug=0,Ne&6)throw Error(F(331));var r=Ne;for(Ne|=4,te=n.current;te!==null;){var s=te,o=s.child;if(te.flags&16){var l=s.deletions;if(l!==null){for(var u=0;u<l.length;u++){var h=l[u];for(te=h;te!==null;){var f=te;switch(f.tag){case 0:case 11:case 15:Ic(8,f,s)}var p=f.child;if(p!==null)p.return=f,te=p;else for(;te!==null;){f=te;var g=f.sibling,O=f.return;if(_R(f),f===h){te=null;break}if(g!==null){g.return=O,te=g;break}te=O}}}var v=s.alternate;if(v!==null){var x=v.child;if(x!==null){v.child=null;do{var k=x.sibling;x.sibling=null,x=k}while(x!==null)}}te=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,te=o;else e:for(;te!==null;){if(s=te,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Ic(9,s,s.return)}var w=s.sibling;if(w!==null){w.return=s.return,te=w;break e}te=s.return}}var _=n.current;for(te=_;te!==null;){o=te;var E=o.child;if(o.subtreeFlags&2064&&E!==null)E.return=o,te=E;else e:for(o=_;te!==null;){if(l=te,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:vm(9,l)}}catch(I){wt(l,l.return,I)}if(l===o){te=null;break e}var b=l.sibling;if(b!==null){b.return=l.return,te=b;break e}te=l.return}}if(Ne=r,Io(),Rr&&typeof Rr.onPostCommitFiberRoot=="function")try{Rr.onPostCommitFiberRoot(hm,n)}catch{}i=!0}return i}finally{Ye=t,Vi.transition=e}}return!1}function JE(n,e,t){e=Ba(t,e),e=hR(n,e,1),n=so(n,e,1),e=Mn(),n!==null&&(Bh(n,1,e),Kn(n,e))}function wt(n,e,t){if(n.tag===3)JE(n,n,t);else for(;e!==null;){if(e.tag===3){JE(e,n,t);break}else if(e.tag===1){var i=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(oo===null||!oo.has(i))){n=Ba(t,n),n=fR(e,n,1),e=so(e,n,1),n=Mn(),e!==null&&(Bh(e,1,n),Kn(e,n));break}}e=e.return}}function OY(n,e,t){var i=n.pingCache;i!==null&&i.delete(e),e=Mn(),n.pingedLanes|=n.suspendedLanes&t,qt===n&&(un&t)===t&&(Bt===4||Bt===3&&(un&130023424)===un&&500>Et()-dS?sl(n,0):fS|=t),Kn(n,e)}function RR(n,e){e===0&&(n.mode&1?(e=_d,_d<<=1,!(_d&130023424)&&(_d=4194304)):e=1);var t=Mn();n=ps(n,e),n!==null&&(Bh(n,e,t),Kn(n,t))}function yY(n){var e=n.memoizedState,t=0;e!==null&&(t=e.retryLane),RR(n,t)}function vY(n,e){var t=0;switch(n.tag){case 13:var i=n.stateNode,r=n.memoizedState;r!==null&&(t=r.retryLane);break;case 19:i=n.stateNode;break;default:throw Error(F(314))}i!==null&&i.delete(e),RR(n,t)}var $R;$R=function(n,e,t){if(n!==null)if(n.memoizedProps!==e.pendingProps||Gn.current)jn=!0;else{if(!(n.lanes&t)&&!(e.flags&128))return jn=!1,oY(n,e,t);jn=!!(n.flags&131072)}else jn=!1,ut&&e.flags&1048576&&MI(e,eg,e.index);switch(e.lanes=0,e.tag){case 2:var i=e.type;yp(n,e),n=e.pendingProps;var r=La(e,Pn.current);_a(e,t),r=oS(null,e,i,n,r,t);var s=lS();return e.flags|=1,typeof r=="object"&&r!==null&&typeof r.render=="function"&&r.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Hn(i)?(s=!0,Kp(e)):s=!1,e.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,tS(e),r.updater=Om,e.stateNode=r,r._reactInternals=e,Lv(e,i,n,t),e=Uv(null,e,i,!0,s,t)):(e.tag=0,ut&&s&&jw(e),Qn(null,e,r,t),e=e.child),e;case 16:i=e.elementType;e:{switch(yp(n,e),n=e.pendingProps,r=i._init,i=r(i._payload),e.type=i,r=e.tag=SY(i),n=Ji(i,n),r){case 0:e=Zv(null,e,i,n,t);break e;case 1:e=WE(null,e,i,n,t);break e;case 11:e=UE(null,e,i,n,t);break e;case 14:e=BE(null,e,i,Ji(i.type,n),t);break e}throw Error(F(306,i,""))}return e;case 0:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:Ji(i,r),Zv(n,e,i,r,t);case 1:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:Ji(i,r),WE(n,e,i,r,t);case 3:e:{if(mR(e),n===null)throw Error(F(387));i=e.pendingProps,s=e.memoizedState,r=s.element,ZI(n,e),ig(e,i,null,t);var o=e.memoizedState;if(i=o.element,s.isDehydrated)if(s={element:i,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){r=Ba(Error(F(423)),e),e=YE(n,e,i,t,r);break e}else if(i!==r){r=Ba(Error(F(424)),e),e=YE(n,e,i,t,r);break e}else for(di=ro(e.stateNode.containerInfo.firstChild),gi=e,ut=!0,tr=null,t=YI(e,null,i,t),e.child=t;t;)t.flags=t.flags&-3|4096,t=t.sibling;else{if(Va(),i===r){e=gs(n,e,t);break e}Qn(n,e,i,t)}e=e.child}return e;case 5:return FI(e),n===null&&Dv(e),i=e.type,r=e.pendingProps,s=n!==null?n.memoizedProps:null,o=r.children,Av(i,r)?o=null:s!==null&&Av(i,s)&&(e.flags|=32),gR(n,e),Qn(n,e,o,t),e.child;case 6:return n===null&&Dv(e),null;case 13:return OR(n,e,t);case 4:return nS(e,e.stateNode.containerInfo),i=e.pendingProps,n===null?e.child=Za(e,null,i,t):Qn(n,e,i,t),e.child;case 11:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:Ji(i,r),UE(n,e,i,r,t);case 7:return Qn(n,e,e.pendingProps,t),e.child;case 8:return Qn(n,e,e.pendingProps.children,t),e.child;case 12:return Qn(n,e,e.pendingProps.children,t),e.child;case 10:e:{if(i=e.type._context,r=e.pendingProps,s=e.memoizedProps,o=r.value,Ke(tg,i._currentValue),i._currentValue=o,s!==null)if(or(s.value,o)){if(s.children===r.children&&!Gn.current){e=gs(n,e,t);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var l=s.dependencies;if(l!==null){o=s.child;for(var u=l.firstContext;u!==null;){if(u.context===i){if(s.tag===1){u=us(-1,t&-t),u.tag=2;var h=s.updateQueue;if(h!==null){h=h.shared;var f=h.pending;f===null?u.next=u:(u.next=f.next,f.next=u),h.pending=u}}s.lanes|=t,u=s.alternate,u!==null&&(u.lanes|=t),Mv(s.return,t,e),l.lanes|=t;break}u=u.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(F(341));o.lanes|=t,l=o.alternate,l!==null&&(l.lanes|=t),Mv(o,t,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Qn(n,e,r.children,t),e=e.child}return e;case 9:return r=e.type,i=e.pendingProps.children,_a(e,t),r=Bi(r),i=i(r),e.flags|=1,Qn(n,e,i,t),e.child;case 14:return i=e.type,r=Ji(i,e.pendingProps),r=Ji(i.type,r),BE(n,e,i,r,t);case 15:return dR(n,e,e.type,e.pendingProps,t);case 17:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:Ji(i,r),yp(n,e),e.tag=1,Hn(i)?(n=!0,Kp(e)):n=!1,_a(e,t),BI(e,i,r),Lv(e,i,r,t),Uv(null,e,i,!0,n,t);case 19:return yR(n,e,t);case 22:return pR(n,e,t)}throw Error(F(156,e.tag))};function QR(n,e){return oI(n,e)}function wY(n,e,t,i){this.tag=n,this.key=t,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ni(n,e,t,i){return new wY(n,e,t,i)}function OS(n){return n=n.prototype,!(!n||!n.isReactComponent)}function SY(n){if(typeof n=="function")return OS(n)?1:0;if(n!=null){if(n=n.$$typeof,n===Mw)return 11;if(n===Nw)return 14}return 2}function ao(n,e){var t=n.alternate;return t===null?(t=Ni(n.tag,e,n.key,n.mode),t.elementType=n.elementType,t.type=n.type,t.stateNode=n.stateNode,t.alternate=n,n.alternate=t):(t.pendingProps=e,t.type=n.type,t.flags=0,t.subtreeFlags=0,t.deletions=null),t.flags=n.flags&14680064,t.childLanes=n.childLanes,t.lanes=n.lanes,t.child=n.child,t.memoizedProps=n.memoizedProps,t.memoizedState=n.memoizedState,t.updateQueue=n.updateQueue,e=n.dependencies,t.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},t.sibling=n.sibling,t.index=n.index,t.ref=n.ref,t}function Sp(n,e,t,i,r,s){var o=2;if(i=n,typeof n=="function")OS(n)&&(o=1);else if(typeof n=="string")o=5;else e:switch(n){case ia:return ol(t.children,r,s,e);case Dw:o=8,r|=8;break;case av:return n=Ni(12,t,e,r|2),n.elementType=av,n.lanes=s,n;case uv:return n=Ni(13,t,e,r),n.elementType=uv,n.lanes=s,n;case cv:return n=Ni(19,t,e,r),n.elementType=cv,n.lanes=s,n;case WA:return Sm(t,r,s,e);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case UA:o=10;break e;case BA:o=9;break e;case Mw:o=11;break e;case Nw:o=14;break e;case Ls:o=16,i=null;break e}throw Error(F(130,n==null?n:typeof n,""))}return e=Ni(o,t,e,r),e.elementType=n,e.type=i,e.lanes=s,e}function ol(n,e,t,i){return n=Ni(7,n,i,e),n.lanes=t,n}function Sm(n,e,t,i){return n=Ni(22,n,i,e),n.elementType=WA,n.lanes=t,n.stateNode={isHidden:!1},n}function cy(n,e,t){return n=Ni(6,n,null,e),n.lanes=t,n}function hy(n,e,t){return e=Ni(4,n.children!==null?n.children:[],n.key,e),e.lanes=t,e.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},e}function _Y(n,e,t,i,r){this.tag=e,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=F0(0),this.expirationTimes=F0(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=F0(0),this.identifierPrefix=i,this.onRecoverableError=r,this.mutableSourceEagerHydrationData=null}function yS(n,e,t,i,r,s,o,l,u){return n=new _Y(n,e,t,l,u),e===1?(e=1,s===!0&&(e|=8)):e=0,s=Ni(3,null,null,e),n.current=s,s.stateNode=n,s.memoizedState={element:i,isDehydrated:t,cache:null,transitions:null,pendingSuspenseBoundaries:null},tS(s),n}function xY(n,e,t){var i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:na,key:i==null?null:""+i,children:n,containerInfo:e,implementation:t}}function DR(n){if(!n)return wo;n=n._reactInternals;e:{if(kl(n)!==n||n.tag!==1)throw Error(F(170));var e=n;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Hn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(F(171))}if(n.tag===1){var t=n.type;if(Hn(t))return QI(n,t,e)}return e}function MR(n,e,t,i,r,s,o,l,u){return n=yS(t,i,!0,n,r,s,o,l,u),n.context=DR(null),t=n.current,i=Mn(),r=lo(t),s=us(i,r),s.callback=e??null,so(t,s,r),n.current.lanes=r,Bh(n,r,i),Kn(n,i),n}function _m(n,e,t,i){var r=e.current,s=Mn(),o=lo(r);return t=DR(t),e.context===null?e.context=t:e.pendingContext=t,e=us(s,o),e.payload={element:n},i=i===void 0?null:i,i!==null&&(e.callback=i),n=so(r,e,o),n!==null&&(sr(n,r,o,s),gp(n,r,o)),o}function hg(n){if(n=n.current,!n.child)return null;switch(n.child.tag){case 5:return n.child.stateNode;default:return n.child.stateNode}}function eP(n,e){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var t=n.retryLane;n.retryLane=t!==0&&t<e?t:e}}function vS(n,e){eP(n,e),(n=n.alternate)&&eP(n,e)}function TY(){return null}var NR=typeof reportError=="function"?reportError:function(n){console.error(n)};function wS(n){this._internalRoot=n}xm.prototype.render=wS.prototype.render=function(n){var e=this._internalRoot;if(e===null)throw Error(F(409));_m(n,e,null,null)};xm.prototype.unmount=wS.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var e=n.containerInfo;pl(function(){_m(null,n,null,null)}),e[ds]=null}};function xm(n){this._internalRoot=n}xm.prototype.unstable_scheduleHydration=function(n){if(n){var e=dI();n={blockedOn:null,target:n,priority:e};for(var t=0;t<Bs.length&&e!==0&&e<Bs[t].priority;t++);Bs.splice(t,0,n),t===0&&gI(n)}};function SS(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function Tm(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11&&(n.nodeType!==8||n.nodeValue!==" react-mount-point-unstable "))}function tP(){}function kY(n,e,t,i,r){if(r){if(typeof i=="function"){var s=i;i=function(){var h=hg(o);s.call(h)}}var o=MR(e,i,n,0,null,!1,!1,"",tP);return n._reactRootContainer=o,n[ds]=o.current,Kc(n.nodeType===8?n.parentNode:n),pl(),o}for(;r=n.lastChild;)n.removeChild(r);if(typeof i=="function"){var l=i;i=function(){var h=hg(u);l.call(h)}}var u=yS(n,0,!1,null,null,!1,!1,"",tP);return n._reactRootContainer=u,n[ds]=u.current,Kc(n.nodeType===8?n.parentNode:n),pl(function(){_m(e,u,t,i)}),u}function km(n,e,t,i,r){var s=t._reactRootContainer;if(s){var o=s;if(typeof r=="function"){var l=r;r=function(){var u=hg(o);l.call(u)}}_m(e,o,n,r)}else o=kY(t,e,n,r,i);return hg(o)}hI=function(n){switch(n.tag){case 3:var e=n.stateNode;if(e.current.memoizedState.isDehydrated){var t=fc(e.pendingLanes);t!==0&&(Zw(e,t|1),Kn(e,Et()),!(Ne&6)&&(Wa=Et()+500,Io()))}break;case 13:pl(function(){var i=ps(n,1);if(i!==null){var r=Mn();sr(i,n,1,r)}}),vS(n,1)}};Uw=function(n){if(n.tag===13){var e=ps(n,134217728);if(e!==null){var t=Mn();sr(e,n,134217728,t)}vS(n,134217728)}};fI=function(n){if(n.tag===13){var e=lo(n),t=ps(n,e);if(t!==null){var i=Mn();sr(t,n,e,i)}vS(n,e)}};dI=function(){return Ye};pI=function(n,e){var t=Ye;try{return Ye=n,e()}finally{Ye=t}};wv=function(n,e,t){switch(e){case"input":if(dv(n,t),e=t.name,t.type==="radio"&&e!=null){for(t=n;t.parentNode;)t=t.parentNode;for(t=t.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<t.length;e++){var i=t[e];if(i!==n&&i.form===n.form){var r=gm(i);if(!r)throw Error(F(90));FA(i),dv(i,r)}}}break;case"textarea":XA(n,t);break;case"select":e=t.value,e!=null&&ya(n,!!t.multiple,e,!1)}};eI=pS;tI=pl;var EY={usingClientEntryPoint:!1,Events:[Yh,la,gm,KA,JA,pS]},Ju={findFiberByHostInstance:Go,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},PY={bundleType:Ju.bundleType,version:Ju.version,rendererPackageName:Ju.rendererPackageName,rendererConfig:Ju.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ts.ReactCurrentDispatcher,findHostInstanceByFiber:function(n){return n=rI(n),n===null?null:n.stateNode},findFiberByHostInstance:Ju.findFiberByHostInstance||TY,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var $d=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!$d.isDisabled&&$d.supportsFiber)try{hm=$d.inject(PY),Rr=$d}catch{}}wi.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=EY;wi.createPortal=function(n,e){var t=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!SS(e))throw Error(F(200));return xY(n,e,null,t)};wi.createRoot=function(n,e){if(!SS(n))throw Error(F(299));var t=!1,i="",r=NR;return e!=null&&(e.unstable_strictMode===!0&&(t=!0),e.identifierPrefix!==void 0&&(i=e.identifierPrefix),e.onRecoverableError!==void 0&&(r=e.onRecoverableError)),e=yS(n,1,!1,null,null,t,!1,i,r),n[ds]=e.current,Kc(n.nodeType===8?n.parentNode:n),new wS(e)};wi.findDOMNode=function(n){if(n==null)return null;if(n.nodeType===1)return n;var e=n._reactInternals;if(e===void 0)throw typeof n.render=="function"?Error(F(188)):(n=Object.keys(n).join(","),Error(F(268,n)));return n=rI(e),n=n===null?null:n.stateNode,n};wi.flushSync=function(n){return pl(n)};wi.hydrate=function(n,e,t){if(!Tm(e))throw Error(F(200));return km(null,n,e,!0,t)};wi.hydrateRoot=function(n,e,t){if(!SS(n))throw Error(F(405));var i=t!=null&&t.hydratedSources||null,r=!1,s="",o=NR;if(t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(s=t.identifierPrefix),t.onRecoverableError!==void 0&&(o=t.onRecoverableError)),e=MR(e,null,n,1,t??null,r,!1,s,o),n[ds]=e.current,Kc(n),i)for(n=0;n<i.length;n++)t=i[n],r=t._getVersion,r=r(t._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[t,r]:e.mutableSourceEagerHydrationData.push(t,r);return new xm(e)};wi.render=function(n,e,t){if(!Tm(e))throw Error(F(200));return km(null,n,e,!1,t)};wi.unmountComponentAtNode=function(n){if(!Tm(n))throw Error(F(40));return n._reactRootContainer?(pl(function(){km(null,null,n,!1,function(){n._reactRootContainer=null,n[ds]=null})}),!0):!1};wi.unstable_batchedUpdates=pS;wi.unstable_renderSubtreeIntoContainer=function(n,e,t,i){if(!Tm(t))throw Error(F(200));if(n==null||n._reactInternals===void 0)throw Error(F(38));return km(n,e,t,!1,i)};wi.version="18.2.0-next-9e3b772b8-20220608";function LR(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(LR)}catch(n){console.error(n)}}LR(),MA.exports=wi;var bY=MA.exports,VR,nP=bY;VR=nP.createRoot,nP.hydrateRoot;/**
 * @remix-run/router v1.10.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function lh(){return lh=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},lh.apply(this,arguments)}var Gs;(function(n){n.Pop="POP",n.Push="PUSH",n.Replace="REPLACE"})(Gs||(Gs={}));const iP="popstate";function CY(n){n===void 0&&(n={});function e(i,r){let{pathname:s,search:o,hash:l}=i.location;return Jv("",{pathname:s,search:o,hash:l},r.state&&r.state.usr||null,r.state&&r.state.key||"default")}function t(i,r){return typeof r=="string"?r:fg(r)}return IY(e,t,null,n)}function Qt(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function _S(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function AY(){return Math.random().toString(36).substr(2,8)}function rP(n,e){return{usr:n.state,key:n.key,idx:e}}function Jv(n,e,t,i){return t===void 0&&(t=null),lh({pathname:typeof n=="string"?n:n.pathname,search:"",hash:""},typeof e=="string"?uu(e):e,{state:t,key:e&&e.key||i||AY()})}function fg(n){let{pathname:e="/",search:t="",hash:i=""}=n;return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),i&&i!=="#"&&(e+=i.charAt(0)==="#"?i:"#"+i),e}function uu(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substr(t),n=n.substr(0,t));let i=n.indexOf("?");i>=0&&(e.search=n.substr(i),n=n.substr(0,i)),n&&(e.pathname=n)}return e}function IY(n,e,t,i){i===void 0&&(i={});let{window:r=document.defaultView,v5Compat:s=!1}=i,o=r.history,l=Gs.Pop,u=null,h=f();h==null&&(h=0,o.replaceState(lh({},o.state,{idx:h}),""));function f(){return(o.state||{idx:null}).idx}function p(){l=Gs.Pop;let k=f(),w=k==null?null:k-h;h=k,u&&u({action:l,location:x.location,delta:w})}function g(k,w){l=Gs.Push;let _=Jv(x.location,k,w);t&&t(_,k),h=f()+1;let E=rP(_,h),b=x.createHref(_);try{o.pushState(E,"",b)}catch(I){if(I instanceof DOMException&&I.name==="DataCloneError")throw I;r.location.assign(b)}s&&u&&u({action:l,location:x.location,delta:1})}function O(k,w){l=Gs.Replace;let _=Jv(x.location,k,w);t&&t(_,k),h=f();let E=rP(_,h),b=x.createHref(_);o.replaceState(E,"",b),s&&u&&u({action:l,location:x.location,delta:0})}function v(k){let w=r.location.origin!=="null"?r.location.origin:r.location.href,_=typeof k=="string"?k:fg(k);return Qt(w,"No window.location.(origin|href) available to create URL for href: "+_),new URL(_,w)}let x={get action(){return l},get location(){return n(r,o)},listen(k){if(u)throw new Error("A history only accepts one active listener");return r.addEventListener(iP,p),u=k,()=>{r.removeEventListener(iP,p),u=null}},createHref(k){return e(r,k)},createURL:v,encodeLocation(k){let w=v(k);return{pathname:w.pathname,search:w.search,hash:w.hash}},push:g,replace:O,go(k){return o.go(k)}};return x}var sP;(function(n){n.data="data",n.deferred="deferred",n.redirect="redirect",n.error="error"})(sP||(sP={}));function RY(n,e,t){t===void 0&&(t="/");let i=typeof e=="string"?uu(e):e,r=xS(i.pathname||"/",t);if(r==null)return null;let s=ZR(n);$Y(s);let o=null;for(let l=0;o==null&&l<s.length;++l)o=BY(s[l],FY(r));return o}function ZR(n,e,t,i){e===void 0&&(e=[]),t===void 0&&(t=[]),i===void 0&&(i="");let r=(s,o,l)=>{let u={relativePath:l===void 0?s.path||"":l,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};u.relativePath.startsWith("/")&&(Qt(u.relativePath.startsWith(i),'Absolute route path "'+u.relativePath+'" nested under path '+('"'+i+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),u.relativePath=u.relativePath.slice(i.length));let h=uo([i,u.relativePath]),f=t.concat(u);s.children&&s.children.length>0&&(Qt(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+h+'".')),ZR(s.children,e,f,h)),!(s.path==null&&!s.index)&&e.push({path:h,score:ZY(h,s.index),routesMeta:f})};return n.forEach((s,o)=>{var l;if(s.path===""||!((l=s.path)!=null&&l.includes("?")))r(s,o);else for(let u of UR(s.path))r(s,o,u)}),e}function UR(n){let e=n.split("/");if(e.length===0)return[];let[t,...i]=e,r=t.endsWith("?"),s=t.replace(/\?$/,"");if(i.length===0)return r?[s,""]:[s];let o=UR(i.join("/")),l=[];return l.push(...o.map(u=>u===""?s:[s,u].join("/"))),r&&l.push(...o),l.map(u=>n.startsWith("/")&&u===""?"/":u)}function $Y(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:UY(e.routesMeta.map(i=>i.childrenIndex),t.routesMeta.map(i=>i.childrenIndex)))}const QY=/^:\w+$/,DY=3,MY=2,NY=1,LY=10,VY=-2,oP=n=>n==="*";function ZY(n,e){let t=n.split("/"),i=t.length;return t.some(oP)&&(i+=VY),e&&(i+=MY),t.filter(r=>!oP(r)).reduce((r,s)=>r+(QY.test(s)?DY:s===""?NY:LY),i)}function UY(n,e){return n.length===e.length&&n.slice(0,-1).every((i,r)=>i===e[r])?n[n.length-1]-e[e.length-1]:0}function BY(n,e){let{routesMeta:t}=n,i={},r="/",s=[];for(let o=0;o<t.length;++o){let l=t[o],u=o===t.length-1,h=r==="/"?e:e.slice(r.length)||"/",f=WY({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},h);if(!f)return null;Object.assign(i,f.params);let p=l.route;s.push({params:i,pathname:uo([r,f.pathname]),pathnameBase:qY(uo([r,f.pathnameBase])),route:p}),f.pathnameBase!=="/"&&(r=uo([r,f.pathnameBase]))}return s}function WY(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,i]=YY(n.path,n.caseSensitive,n.end),r=e.match(t);if(!r)return null;let s=r[0],o=s.replace(/(.)\/+$/,"$1"),l=r.slice(1);return{params:i.reduce((h,f,p)=>{if(f==="*"){let g=l[p]||"";o=s.slice(0,s.length-g.length).replace(/(.)\/+$/,"$1")}return h[f]=zY(l[p]||"",f),h},{}),pathname:s,pathnameBase:o,pattern:n}}function YY(n,e,t){e===void 0&&(e=!1),t===void 0&&(t=!0),_S(n==="*"||!n.endsWith("*")||n.endsWith("/*"),'Route path "'+n+'" will be treated as if it were '+('"'+n.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+n.replace(/\*$/,"/*")+'".'));let i=[],r="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,(o,l)=>(i.push(l),"/([^\\/]+)"));return n.endsWith("*")?(i.push("*"),r+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?r+="\\/*$":n!==""&&n!=="/"&&(r+="(?:(?=\\/|$))"),[new RegExp(r,e?void 0:"i"),i]}function FY(n){try{return decodeURI(n)}catch(e){return _S(!1,'The URL path "'+n+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),n}}function zY(n,e){try{return decodeURIComponent(n)}catch(t){return _S(!1,'The value for the URL param "'+e+'" will not be decoded because'+(' the string "'+n+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+t+").")),n}}function xS(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,i=n.charAt(t);return i&&i!=="/"?null:n.slice(t)||"/"}function XY(n,e){e===void 0&&(e="/");let{pathname:t,search:i="",hash:r=""}=typeof n=="string"?uu(n):n;return{pathname:t?t.startsWith("/")?t:jY(t,e):e,search:GY(i),hash:HY(r)}}function jY(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(r=>{r===".."?t.length>1&&t.pop():r!=="."&&t.push(r)}),t.length>1?t.join("/"):"/"}function fy(n,e,t,i){return"Cannot include a '"+n+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(i)+"].  Please separate it out to the ")+("`to."+t+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function BR(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function WR(n,e,t,i){i===void 0&&(i=!1);let r;typeof n=="string"?r=uu(n):(r=lh({},n),Qt(!r.pathname||!r.pathname.includes("?"),fy("?","pathname","search",r)),Qt(!r.pathname||!r.pathname.includes("#"),fy("#","pathname","hash",r)),Qt(!r.search||!r.search.includes("#"),fy("#","search","hash",r)));let s=n===""||r.pathname==="",o=s?"/":r.pathname,l;if(i||o==null)l=t;else{let p=e.length-1;if(o.startsWith("..")){let g=o.split("/");for(;g[0]==="..";)g.shift(),p-=1;r.pathname=g.join("/")}l=p>=0?e[p]:"/"}let u=XY(r,l),h=o&&o!=="/"&&o.endsWith("/"),f=(s||o===".")&&t.endsWith("/");return!u.pathname.endsWith("/")&&(h||f)&&(u.pathname+="/"),u}const uo=n=>n.join("/").replace(/\/\/+/g,"/"),qY=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),GY=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,HY=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function KY(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}const YR=["post","put","patch","delete"];new Set(YR);const JY=["get",...YR];new Set(JY);/**
 * React Router v6.17.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function dg(){return dg=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},dg.apply(this,arguments)}const TS=X.createContext(null),eF=X.createContext(null),cu=X.createContext(null),Em=X.createContext(null),El=X.createContext({outlet:null,matches:[],isDataRoute:!1}),FR=X.createContext(null);function tF(n,e){let{relative:t}=e===void 0?{}:e;zh()||Qt(!1);let{basename:i,navigator:r}=X.useContext(cu),{hash:s,pathname:o,search:l}=jR(n,{relative:t}),u=o;return i!=="/"&&(u=o==="/"?i:uo([i,o])),r.createHref({pathname:u,search:l,hash:s})}function zh(){return X.useContext(Em)!=null}function Xh(){return zh()||Qt(!1),X.useContext(Em).location}function zR(n){X.useContext(cu).static||X.useLayoutEffect(n)}function XR(){let{isDataRoute:n}=X.useContext(El);return n?pF():nF()}function nF(){zh()||Qt(!1);let n=X.useContext(TS),{basename:e,navigator:t}=X.useContext(cu),{matches:i}=X.useContext(El),{pathname:r}=Xh(),s=JSON.stringify(BR(i).map(u=>u.pathnameBase)),o=X.useRef(!1);return zR(()=>{o.current=!0}),X.useCallback(function(u,h){if(h===void 0&&(h={}),!o.current)return;if(typeof u=="number"){t.go(u);return}let f=WR(u,JSON.parse(s),r,h.relative==="path");n==null&&e!=="/"&&(f.pathname=f.pathname==="/"?e:uo([e,f.pathname])),(h.replace?t.replace:t.push)(f,h.state,h)},[e,t,s,r,n])}function jR(n,e){let{relative:t}=e===void 0?{}:e,{matches:i}=X.useContext(El),{pathname:r}=Xh(),s=JSON.stringify(BR(i).map(o=>o.pathnameBase));return X.useMemo(()=>WR(n,JSON.parse(s),r,t==="path"),[n,s,r,t])}function iF(n,e){return rF(n,e)}function rF(n,e,t){zh()||Qt(!1);let{navigator:i}=X.useContext(cu),{matches:r}=X.useContext(El),s=r[r.length-1],o=s?s.params:{};s&&s.pathname;let l=s?s.pathnameBase:"/";s&&s.route;let u=Xh(),h;if(e){var f;let x=typeof e=="string"?uu(e):e;l==="/"||(f=x.pathname)!=null&&f.startsWith(l)||Qt(!1),h=x}else h=u;let p=h.pathname||"/",g=l==="/"?p:p.slice(l.length)||"/",O=RY(n,{pathname:g}),v=uF(O&&O.map(x=>Object.assign({},x,{params:Object.assign({},o,x.params),pathname:uo([l,i.encodeLocation?i.encodeLocation(x.pathname).pathname:x.pathname]),pathnameBase:x.pathnameBase==="/"?l:uo([l,i.encodeLocation?i.encodeLocation(x.pathnameBase).pathname:x.pathnameBase])})),r,t);return e&&v?X.createElement(Em.Provider,{value:{location:dg({pathname:"/",search:"",hash:"",state:null,key:"default"},h),navigationType:Gs.Pop}},v):v}function sF(){let n=dF(),e=KY(n)?n.status+" "+n.statusText:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,r={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},s=null;return X.createElement(X.Fragment,null,X.createElement("h2",null,"Unexpected Application Error!"),X.createElement("h3",{style:{fontStyle:"italic"}},e),t?X.createElement("pre",{style:r},t):null,s)}const oF=X.createElement(sF,null);class lF extends X.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error||t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error?X.createElement(El.Provider,{value:this.props.routeContext},X.createElement(FR.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function aF(n){let{routeContext:e,match:t,children:i}=n,r=X.useContext(TS);return r&&r.static&&r.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=t.route.id),X.createElement(El.Provider,{value:e},i)}function uF(n,e,t){var i;if(e===void 0&&(e=[]),t===void 0&&(t=null),n==null){var r;if((r=t)!=null&&r.errors)n=t.matches;else return null}let s=n,o=(i=t)==null?void 0:i.errors;if(o!=null){let l=s.findIndex(u=>u.route.id&&(o==null?void 0:o[u.route.id]));l>=0||Qt(!1),s=s.slice(0,Math.min(s.length,l+1))}return s.reduceRight((l,u,h)=>{let f=u.route.id?o==null?void 0:o[u.route.id]:null,p=null;t&&(p=u.route.errorElement||oF);let g=e.concat(s.slice(0,h+1)),O=()=>{let v;return f?v=p:u.route.Component?v=X.createElement(u.route.Component,null):u.route.element?v=u.route.element:v=l,X.createElement(aF,{match:u,routeContext:{outlet:l,matches:g,isDataRoute:t!=null},children:v})};return t&&(u.route.ErrorBoundary||u.route.errorElement||h===0)?X.createElement(lF,{location:t.location,revalidation:t.revalidation,component:p,error:f,children:O(),routeContext:{outlet:null,matches:g,isDataRoute:!0}}):O()},null)}var qR=function(n){return n.UseBlocker="useBlocker",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n}(qR||{}),pg=function(n){return n.UseBlocker="useBlocker",n.UseLoaderData="useLoaderData",n.UseActionData="useActionData",n.UseRouteError="useRouteError",n.UseNavigation="useNavigation",n.UseRouteLoaderData="useRouteLoaderData",n.UseMatches="useMatches",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n.UseRouteId="useRouteId",n}(pg||{});function cF(n){let e=X.useContext(TS);return e||Qt(!1),e}function hF(n){let e=X.useContext(eF);return e||Qt(!1),e}function fF(n){let e=X.useContext(El);return e||Qt(!1),e}function GR(n){let e=fF(),t=e.matches[e.matches.length-1];return t.route.id||Qt(!1),t.route.id}function dF(){var n;let e=X.useContext(FR),t=hF(pg.UseRouteError),i=GR(pg.UseRouteError);return e||((n=t.errors)==null?void 0:n[i])}function pF(){let{router:n}=cF(qR.UseNavigateStable),e=GR(pg.UseNavigateStable),t=X.useRef(!1);return zR(()=>{t.current=!0}),X.useCallback(function(r,s){s===void 0&&(s={}),t.current&&(typeof r=="number"?n.navigate(r):n.navigate(r,dg({fromRouteId:e},s)))},[n,e])}function _p(n){Qt(!1)}function gF(n){let{basename:e="/",children:t=null,location:i,navigationType:r=Gs.Pop,navigator:s,static:o=!1}=n;zh()&&Qt(!1);let l=e.replace(/^\/*/,"/"),u=X.useMemo(()=>({basename:l,navigator:s,static:o}),[l,s,o]);typeof i=="string"&&(i=uu(i));let{pathname:h="/",search:f="",hash:p="",state:g=null,key:O="default"}=i,v=X.useMemo(()=>{let x=xS(h,l);return x==null?null:{location:{pathname:x,search:f,hash:p,state:g,key:O},navigationType:r}},[l,h,f,p,g,O,r]);return v==null?null:X.createElement(cu.Provider,{value:u},X.createElement(Em.Provider,{children:t,value:v}))}function mF(n){let{children:e,location:t}=n;return iF(e1(e),t)}new Promise(()=>{});function e1(n,e){e===void 0&&(e=[]);let t=[];return X.Children.forEach(n,(i,r)=>{if(!X.isValidElement(i))return;let s=[...e,r];if(i.type===X.Fragment){t.push.apply(t,e1(i.props.children,s));return}i.type!==_p&&Qt(!1),!i.props.index||!i.props.children||Qt(!1);let o={id:i.props.id||s.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(o.children=e1(i.props.children,s)),t.push(o)}),t}/**
 * React Router DOM v6.17.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function t1(){return t1=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},t1.apply(this,arguments)}function OF(n,e){if(n==null)return{};var t={},i=Object.keys(n),r,s;for(s=0;s<i.length;s++)r=i[s],!(e.indexOf(r)>=0)&&(t[r]=n[r]);return t}function yF(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function vF(n,e){return n.button===0&&(!e||e==="_self")&&!yF(n)}const wF=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],SF="startTransition",lP=TB[SF];function _F(n){let{basename:e,children:t,future:i,window:r}=n,s=X.useRef();s.current==null&&(s.current=CY({window:r,v5Compat:!0}));let o=s.current,[l,u]=X.useState({action:o.action,location:o.location}),{v7_startTransition:h}=i||{},f=X.useCallback(p=>{h&&lP?lP(()=>u(p)):u(p)},[u,h]);return X.useLayoutEffect(()=>o.listen(f),[o,f]),X.createElement(gF,{basename:e,children:t,location:l.location,navigationType:l.action,navigator:o})}const xF=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",TF=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ta=X.forwardRef(function(e,t){let{onClick:i,relative:r,reloadDocument:s,replace:o,state:l,target:u,to:h,preventScrollReset:f,unstable_viewTransition:p}=e,g=OF(e,wF),{basename:O}=X.useContext(cu),v,x=!1;if(typeof h=="string"&&TF.test(h)&&(v=h,xF))try{let E=new URL(window.location.href),b=h.startsWith("//")?new URL(E.protocol+h):new URL(h),I=xS(b.pathname,O);b.origin===E.origin&&I!=null?h=I+b.search+b.hash:x=!0}catch{}let k=tF(h,{relative:r}),w=kF(h,{replace:o,state:l,target:u,preventScrollReset:f,relative:r,unstable_viewTransition:p});function _(E){i&&i(E),E.defaultPrevented||w(E)}return X.createElement("a",t1({},g,{href:v||k,onClick:x||s?i:_,ref:t,target:u}))});var aP;(function(n){n.UseScrollRestoration="useScrollRestoration",n.UseSubmit="useSubmit",n.UseSubmitFetcher="useSubmitFetcher",n.UseFetcher="useFetcher",n.useViewTransitionState="useViewTransitionState"})(aP||(aP={}));var uP;(function(n){n.UseFetchers="useFetchers",n.UseScrollRestoration="useScrollRestoration"})(uP||(uP={}));function kF(n,e){let{target:t,replace:i,state:r,preventScrollReset:s,relative:o,unstable_viewTransition:l}=e===void 0?{}:e,u=XR(),h=Xh(),f=jR(n,{relative:o});return X.useCallback(p=>{if(vF(p,t)){p.preventDefault();let g=i!==void 0?i:fg(h)===fg(f);u(n,{replace:g,state:r,preventScrollReset:s,relative:o,unstable_viewTransition:l})}},[h,u,f,i,r,t,n,s,o,l])}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HR=function(n){const e=[];let t=0;for(let i=0;i<n.length;i++){let r=n.charCodeAt(i);r<128?e[t++]=r:r<2048?(e[t++]=r>>6|192,e[t++]=r&63|128):(r&64512)===55296&&i+1<n.length&&(n.charCodeAt(i+1)&64512)===56320?(r=65536+((r&1023)<<10)+(n.charCodeAt(++i)&1023),e[t++]=r>>18|240,e[t++]=r>>12&63|128,e[t++]=r>>6&63|128,e[t++]=r&63|128):(e[t++]=r>>12|224,e[t++]=r>>6&63|128,e[t++]=r&63|128)}return e},EF=function(n){const e=[];let t=0,i=0;for(;t<n.length;){const r=n[t++];if(r<128)e[i++]=String.fromCharCode(r);else if(r>191&&r<224){const s=n[t++];e[i++]=String.fromCharCode((r&31)<<6|s&63)}else if(r>239&&r<365){const s=n[t++],o=n[t++],l=n[t++],u=((r&7)<<18|(s&63)<<12|(o&63)<<6|l&63)-65536;e[i++]=String.fromCharCode(55296+(u>>10)),e[i++]=String.fromCharCode(56320+(u&1023))}else{const s=n[t++],o=n[t++];e[i++]=String.fromCharCode((r&15)<<12|(s&63)<<6|o&63)}}return e.join("")},KR={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let r=0;r<n.length;r+=3){const s=n[r],o=r+1<n.length,l=o?n[r+1]:0,u=r+2<n.length,h=u?n[r+2]:0,f=s>>2,p=(s&3)<<4|l>>4;let g=(l&15)<<2|h>>6,O=h&63;u||(O=64,o||(g=64)),i.push(t[f],t[p],t[g],t[O])}return i.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(HR(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):EF(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let r=0;r<n.length;){const s=t[n.charAt(r++)],l=r<n.length?t[n.charAt(r)]:0;++r;const h=r<n.length?t[n.charAt(r)]:64;++r;const p=r<n.length?t[n.charAt(r)]:64;if(++r,s==null||l==null||h==null||p==null)throw new PF;const g=s<<2|l>>4;if(i.push(g),h!==64){const O=l<<4&240|h>>2;if(i.push(O),p!==64){const v=h<<6&192|p;i.push(v)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class PF extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const bF=function(n){const e=HR(n);return KR.encodeByteArray(e,!0)},gg=function(n){return bF(n).replace(/\./g,"")},JR=function(n){try{return KR.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CF(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AF=()=>CF().__FIREBASE_DEFAULTS__,IF=()=>{if(typeof process>"u"||typeof process.env>"u")return;const n={}.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},RF=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&JR(n[1]);return e&&JSON.parse(e)},kS=()=>{try{return AF()||IF()||RF()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},e$=n=>{var e,t;return(t=(e=kS())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},$F=n=>{const e=e$(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),i]:[e.substring(0,t),i]},t$=()=>{var n;return(n=kS())===null||n===void 0?void 0:n.config},n$=n=>{var e;return(e=kS())===null||e===void 0?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QF{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,i)=>{t?this.reject(t):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,i))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DF(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},i=e||"demo-project",r=n.iat||0,s=n.sub||n.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:r,exp:r+3600,auth_time:r,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},n),l="";return[gg(JSON.stringify(t)),gg(JSON.stringify(o)),l].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function MF(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(bn())}function NF(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function LF(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function VF(){const n=bn();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function ZF(){try{return typeof indexedDB=="object"}catch{return!1}}function UF(){return new Promise((n,e)=>{try{let t=!0;const i="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(i);r.onsuccess=()=>{r.result.close(),t||self.indexedDB.deleteDatabase(i),n(!0)},r.onupgradeneeded=()=>{t=!1},r.onerror=()=>{var s;e(((s=r.error)===null||s===void 0?void 0:s.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BF="FirebaseError";class ks extends Error{constructor(e,t,i){super(t),this.code=e,this.customData=i,this.name=BF,Object.setPrototypeOf(this,ks.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,jh.prototype.create)}}class jh{constructor(e,t,i){this.service=e,this.serviceName=t,this.errors=i}create(e,...t){const i=t[0]||{},r=`${this.service}/${e}`,s=this.errors[e],o=s?WF(s,i):"Error",l=`${this.serviceName}: ${o} (${r}).`;return new ks(r,l,i)}}function WF(n,e){return n.replace(YF,(t,i)=>{const r=e[i];return r!=null?String(r):`<${i}?>`})}const YF=/\{\$([^}]+)}/g;function FF(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function mg(n,e){if(n===e)return!0;const t=Object.keys(n),i=Object.keys(e);for(const r of t){if(!i.includes(r))return!1;const s=n[r],o=e[r];if(cP(s)&&cP(o)){if(!mg(s,o))return!1}else if(s!==o)return!1}for(const r of i)if(!t.includes(r))return!1;return!0}function cP(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qh(n){const e=[];for(const[t,i]of Object.entries(n))Array.isArray(i)?i.forEach(r=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(r))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function zF(n,e){const t=new XF(n,e);return t.subscribe.bind(t)}class XF{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,i){let r;if(e===void 0&&t===void 0&&i===void 0)throw new Error("Missing Observer.");jF(e,["next","error","complete"])?r=e:r={next:e,error:t,complete:i},r.next===void 0&&(r.next=dy),r.error===void 0&&(r.error=dy),r.complete===void 0&&(r.complete=dy);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch{}}),this.observers.push(r),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function jF(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function dy(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yi(n){return n&&n._delegate?n._delegate:n}class gl{constructor(e,t,i){this.name=e,this.instanceFactory=t,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xo="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qF{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const i=new QF;if(this.instancesDeferred.set(t,i),this.isInitialized(t)||this.shouldAutoInitialize())try{const r=this.getOrInitializeService({instanceIdentifier:t});r&&i.resolve(r)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const i=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(s){if(r)return null;throw s}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(HF(e))try{this.getOrInitializeService({instanceIdentifier:Xo})}catch{}for(const[t,i]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(t);try{const s=this.getOrInitializeService({instanceIdentifier:r});i.resolve(s)}catch{}}}}clearInstance(e=Xo){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Xo){return this.instances.has(e)}getOptions(e=Xo){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:i,options:t});for(const[s,o]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(s);i===l&&o.resolve(r)}return r}onInit(e,t){var i;const r=this.normalizeInstanceIdentifier(t),s=(i=this.onInitCallbacks.get(r))!==null&&i!==void 0?i:new Set;s.add(e),this.onInitCallbacks.set(r,s);const o=this.instances.get(r);return o&&e(o,r),()=>{s.delete(e)}}invokeOnInitCallbacks(e,t){const i=this.onInitCallbacks.get(t);if(i)for(const r of i)try{r(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:GF(e),options:t}),this.instances.set(e,i),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=Xo){return this.component?this.component.multipleInstances?e:Xo:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function GF(n){return n===Xo?void 0:n}function HF(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KF{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new qF(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Qe;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Qe||(Qe={}));const JF={debug:Qe.DEBUG,verbose:Qe.VERBOSE,info:Qe.INFO,warn:Qe.WARN,error:Qe.ERROR,silent:Qe.SILENT},ez=Qe.INFO,tz={[Qe.DEBUG]:"log",[Qe.VERBOSE]:"log",[Qe.INFO]:"info",[Qe.WARN]:"warn",[Qe.ERROR]:"error"},nz=(n,e,...t)=>{if(e<n.logLevel)return;const i=new Date().toISOString(),r=tz[e];if(r)console[r](`[${i}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class ES{constructor(e){this.name=e,this._logLevel=ez,this._logHandler=nz,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Qe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?JF[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Qe.DEBUG,...e),this._logHandler(this,Qe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Qe.VERBOSE,...e),this._logHandler(this,Qe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Qe.INFO,...e),this._logHandler(this,Qe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Qe.WARN,...e),this._logHandler(this,Qe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Qe.ERROR,...e),this._logHandler(this,Qe.ERROR,...e)}}const iz=(n,e)=>e.some(t=>n instanceof t);let hP,fP;function rz(){return hP||(hP=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function sz(){return fP||(fP=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const i$=new WeakMap,n1=new WeakMap,r$=new WeakMap,py=new WeakMap,PS=new WeakMap;function oz(n){const e=new Promise((t,i)=>{const r=()=>{n.removeEventListener("success",s),n.removeEventListener("error",o)},s=()=>{t(co(n.result)),r()},o=()=>{i(n.error),r()};n.addEventListener("success",s),n.addEventListener("error",o)});return e.then(t=>{t instanceof IDBCursor&&i$.set(t,n)}).catch(()=>{}),PS.set(e,n),e}function lz(n){if(n1.has(n))return;const e=new Promise((t,i)=>{const r=()=>{n.removeEventListener("complete",s),n.removeEventListener("error",o),n.removeEventListener("abort",o)},s=()=>{t(),r()},o=()=>{i(n.error||new DOMException("AbortError","AbortError")),r()};n.addEventListener("complete",s),n.addEventListener("error",o),n.addEventListener("abort",o)});n1.set(n,e)}let i1={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return n1.get(n);if(e==="objectStoreNames")return n.objectStoreNames||r$.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return co(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function az(n){i1=n(i1)}function uz(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const i=n.call(gy(this),e,...t);return r$.set(i,e.sort?e.sort():[e]),co(i)}:sz().includes(n)?function(...e){return n.apply(gy(this),e),co(i$.get(this))}:function(...e){return co(n.apply(gy(this),e))}}function cz(n){return typeof n=="function"?uz(n):(n instanceof IDBTransaction&&lz(n),iz(n,rz())?new Proxy(n,i1):n)}function co(n){if(n instanceof IDBRequest)return oz(n);if(py.has(n))return py.get(n);const e=cz(n);return e!==n&&(py.set(n,e),PS.set(e,n)),e}const gy=n=>PS.get(n);function hz(n,e,{blocked:t,upgrade:i,blocking:r,terminated:s}={}){const o=indexedDB.open(n,e),l=co(o);return i&&o.addEventListener("upgradeneeded",u=>{i(co(o.result),u.oldVersion,u.newVersion,co(o.transaction),u)}),t&&o.addEventListener("blocked",u=>t(u.oldVersion,u.newVersion,u)),l.then(u=>{s&&u.addEventListener("close",()=>s()),r&&u.addEventListener("versionchange",h=>r(h.oldVersion,h.newVersion,h))}).catch(()=>{}),l}const fz=["get","getKey","getAll","getAllKeys","count"],dz=["put","add","delete","clear"],my=new Map;function dP(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(my.get(e))return my.get(e);const t=e.replace(/FromIndex$/,""),i=e!==t,r=dz.includes(t);if(!(t in(i?IDBIndex:IDBObjectStore).prototype)||!(r||fz.includes(t)))return;const s=async function(o,...l){const u=this.transaction(o,r?"readwrite":"readonly");let h=u.store;return i&&(h=h.index(l.shift())),(await Promise.all([h[t](...l),r&&u.done]))[0]};return my.set(e,s),s}az(n=>({...n,get:(e,t,i)=>dP(e,t)||n.get(e,t,i),has:(e,t)=>!!dP(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pz{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(gz(t)){const i=t.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(t=>t).join(" ")}}function gz(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const r1="@firebase/app",pP="0.9.22";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ml=new ES("@firebase/app"),mz="@firebase/app-compat",Oz="@firebase/analytics-compat",yz="@firebase/analytics",vz="@firebase/app-check-compat",wz="@firebase/app-check",Sz="@firebase/auth",_z="@firebase/auth-compat",xz="@firebase/database",Tz="@firebase/database-compat",kz="@firebase/functions",Ez="@firebase/functions-compat",Pz="@firebase/installations",bz="@firebase/installations-compat",Cz="@firebase/messaging",Az="@firebase/messaging-compat",Iz="@firebase/performance",Rz="@firebase/performance-compat",$z="@firebase/remote-config",Qz="@firebase/remote-config-compat",Dz="@firebase/storage",Mz="@firebase/storage-compat",Nz="@firebase/firestore",Lz="@firebase/firestore-compat",Vz="firebase",Zz="10.5.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s1="[DEFAULT]",Uz={[r1]:"fire-core",[mz]:"fire-core-compat",[yz]:"fire-analytics",[Oz]:"fire-analytics-compat",[wz]:"fire-app-check",[vz]:"fire-app-check-compat",[Sz]:"fire-auth",[_z]:"fire-auth-compat",[xz]:"fire-rtdb",[Tz]:"fire-rtdb-compat",[kz]:"fire-fn",[Ez]:"fire-fn-compat",[Pz]:"fire-iid",[bz]:"fire-iid-compat",[Cz]:"fire-fcm",[Az]:"fire-fcm-compat",[Iz]:"fire-perf",[Rz]:"fire-perf-compat",[$z]:"fire-rc",[Qz]:"fire-rc-compat",[Dz]:"fire-gcs",[Mz]:"fire-gcs-compat",[Nz]:"fire-fst",[Lz]:"fire-fst-compat","fire-js":"fire-js",[Vz]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Og=new Map,o1=new Map;function Bz(n,e){try{n.container.addComponent(e)}catch(t){ml.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Ya(n){const e=n.name;if(o1.has(e))return ml.debug(`There were multiple attempts to register component ${e}.`),!1;o1.set(e,n);for(const t of Og.values())Bz(t,n);return!0}function bS(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wz={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},ho=new jh("app","Firebase",Wz);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yz{constructor(e,t,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new gl("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ho.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hu=Zz;function s$(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const i=Object.assign({name:s1,automaticDataCollectionEnabled:!1},e),r=i.name;if(typeof r!="string"||!r)throw ho.create("bad-app-name",{appName:String(r)});if(t||(t=t$()),!t)throw ho.create("no-options");const s=Og.get(r);if(s){if(mg(t,s.options)&&mg(i,s.config))return s;throw ho.create("duplicate-app",{appName:r})}const o=new KF(r);for(const u of o1.values())o.addComponent(u);const l=new Yz(t,i,o);return Og.set(r,l),l}function o$(n=s1){const e=Og.get(n);if(!e&&n===s1&&t$())return s$();if(!e)throw ho.create("no-app",{appName:n});return e}function fo(n,e,t){var i;let r=(i=Uz[n])!==null&&i!==void 0?i:n;t&&(r+=`-${t}`);const s=r.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const l=[`Unable to register library "${r}" with version "${e}":`];s&&l.push(`library name "${r}" contains illegal characters (whitespace or "/")`),s&&o&&l.push("and"),o&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ml.warn(l.join(" "));return}Ya(new gl(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fz="firebase-heartbeat-database",zz=1,ah="firebase-heartbeat-store";let Oy=null;function l$(){return Oy||(Oy=hz(Fz,zz,{upgrade:(n,e)=>{switch(e){case 0:n.createObjectStore(ah)}}}).catch(n=>{throw ho.create("idb-open",{originalErrorMessage:n.message})})),Oy}async function Xz(n){try{return await(await l$()).transaction(ah).objectStore(ah).get(a$(n))}catch(e){if(e instanceof ks)ml.warn(e.message);else{const t=ho.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});ml.warn(t.message)}}}async function gP(n,e){try{const i=(await l$()).transaction(ah,"readwrite");await i.objectStore(ah).put(e,a$(n)),await i.done}catch(t){if(t instanceof ks)ml.warn(t.message);else{const i=ho.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});ml.warn(i.message)}}}function a$(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jz=1024,qz=30*24*60*60*1e3;class Gz{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new Kz(t),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){const t=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=mP();if(this._heartbeatsCache===null&&(this._heartbeatsCache=await this._heartbeatsCachePromise),!(this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(r=>r.date===i)))return this._heartbeatsCache.heartbeats.push({date:i,agent:t}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(r=>{const s=new Date(r.date).valueOf();return Date.now()-s<=qz}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache===null||this._heartbeatsCache.heartbeats.length===0)return"";const e=mP(),{heartbeatsToSend:t,unsentEntries:i}=Hz(this._heartbeatsCache.heartbeats),r=gg(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),r}}function mP(){return new Date().toISOString().substring(0,10)}function Hz(n,e=jz){const t=[];let i=n.slice();for(const r of n){const s=t.find(o=>o.agent===r.agent);if(s){if(s.dates.push(r.date),OP(t)>e){s.dates.pop();break}}else if(t.push({agent:r.agent,dates:[r.date]}),OP(t)>e){t.pop();break}i=i.slice(1)}return{heartbeatsToSend:t,unsentEntries:i}}class Kz{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return ZF()?UF().then(()=>!0).catch(()=>!1):!1}async read(){return await this._canUseIndexedDBPromise?await Xz(this.app)||{heartbeats:[]}:{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const r=await this.read();return gP(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const r=await this.read();return gP(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function OP(n){return gg(JSON.stringify({version:2,heartbeats:n})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jz(n){Ya(new gl("platform-logger",e=>new pz(e),"PRIVATE")),Ya(new gl("heartbeat",e=>new Gz(e),"PRIVATE")),fo(r1,pP,n),fo(r1,pP,"esm2017"),fo("fire-js","")}Jz("");var eX=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},H,CS=CS||{},me=eX||self;function Pm(n){var e=typeof n;return e=e!="object"?e:n?Array.isArray(n)?"array":e:"null",e=="array"||e=="object"&&typeof n.length=="number"}function Gh(n){var e=typeof n;return e=="object"&&n!=null||e=="function"}function tX(n){return Object.prototype.hasOwnProperty.call(n,yy)&&n[yy]||(n[yy]=++nX)}var yy="closure_uid_"+(1e9*Math.random()>>>0),nX=0;function iX(n,e,t){return n.call.apply(n.bind,arguments)}function rX(n,e,t){if(!n)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var r=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(r,i),n.apply(e,r)}}return function(){return n.apply(e,arguments)}}function kn(n,e,t){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?kn=iX:kn=rX,kn.apply(null,arguments)}function Qd(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var i=t.slice();return i.push.apply(i,arguments),n.apply(this,i)}}function Ht(n,e){function t(){}t.prototype=e.prototype,n.$=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.ac=function(i,r,s){for(var o=Array(arguments.length-2),l=2;l<arguments.length;l++)o[l-2]=arguments[l];return e.prototype[r].apply(i,o)}}function Ro(){this.s=this.s,this.o=this.o}var sX=0;Ro.prototype.s=!1;Ro.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),sX!=0)&&tX(this)};Ro.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const u$=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if(typeof n=="string")return typeof e!="string"||e.length!=1?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1};function AS(n){const e=n.length;if(0<e){const t=Array(e);for(let i=0;i<e;i++)t[i]=n[i];return t}return[]}function yP(n,e){for(let t=1;t<arguments.length;t++){const i=arguments[t];if(Pm(i)){const r=n.length||0,s=i.length||0;n.length=r+s;for(let o=0;o<s;o++)n[r+o]=i[o]}else n.push(i)}}function En(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}En.prototype.h=function(){this.defaultPrevented=!0};var oX=function(){if(!me.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{me.addEventListener("test",()=>{},e),me.removeEventListener("test",()=>{},e)}catch{}return n}();function uh(n){return/^[\s\xa0]*$/.test(n)}function bm(){var n=me.navigator;return n&&(n=n.userAgent)?n:""}function Tr(n){return bm().indexOf(n)!=-1}function IS(n){return IS[" "](n),n}IS[" "]=function(){};function lX(n,e){var t=JX;return Object.prototype.hasOwnProperty.call(t,n)?t[n]:t[n]=e(n)}var aX=Tr("Opera"),Fa=Tr("Trident")||Tr("MSIE"),c$=Tr("Edge"),l1=c$||Fa,h$=Tr("Gecko")&&!(bm().toLowerCase().indexOf("webkit")!=-1&&!Tr("Edge"))&&!(Tr("Trident")||Tr("MSIE"))&&!Tr("Edge"),uX=bm().toLowerCase().indexOf("webkit")!=-1&&!Tr("Edge");function f$(){var n=me.document;return n?n.documentMode:void 0}var a1;e:{var vy="",wy=function(){var n=bm();if(h$)return/rv:([^\);]+)(\)|;)/.exec(n);if(c$)return/Edge\/([\d\.]+)/.exec(n);if(Fa)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n);if(uX)return/WebKit\/(\S+)/.exec(n);if(aX)return/(?:Version)[ \/]?(\S+)/.exec(n)}();if(wy&&(vy=wy?wy[1]:""),Fa){var Sy=f$();if(Sy!=null&&Sy>parseFloat(vy)){a1=String(Sy);break e}}a1=vy}var u1;if(me.document&&Fa){var vP=f$();u1=vP||parseInt(a1,10)||void 0}else u1=void 0;var cX=u1;function ch(n,e){if(En.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,i=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(h$){e:{try{IS(e.nodeName);var r=!0;break e}catch{}r=!1}r||(e=null)}}else t=="mouseover"?e=n.fromElement:t=="mouseout"&&(e=n.toElement);this.relatedTarget=e,i?(this.clientX=i.clientX!==void 0?i.clientX:i.pageX,this.clientY=i.clientY!==void 0?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=n.clientX!==void 0?n.clientX:n.pageX,this.clientY=n.clientY!==void 0?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType=typeof n.pointerType=="string"?n.pointerType:hX[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&ch.$.h.call(this)}}Ht(ch,En);var hX={2:"touch",3:"pen",4:"mouse"};ch.prototype.h=function(){ch.$.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var Hh="closure_listenable_"+(1e6*Math.random()|0),fX=0;function dX(n,e,t,i,r){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!i,this.la=r,this.key=++fX,this.fa=this.ia=!1}function Cm(n){n.fa=!0,n.listener=null,n.proxy=null,n.src=null,n.la=null}function RS(n,e,t){for(const i in n)e.call(t,n[i],i,n)}function pX(n,e){for(const t in n)e.call(void 0,n[t],t,n)}function d$(n){const e={};for(const t in n)e[t]=n[t];return e}const wP="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function p$(n,e){let t,i;for(let r=1;r<arguments.length;r++){i=arguments[r];for(t in i)n[t]=i[t];for(let s=0;s<wP.length;s++)t=wP[s],Object.prototype.hasOwnProperty.call(i,t)&&(n[t]=i[t])}}function Am(n){this.src=n,this.g={},this.h=0}Am.prototype.add=function(n,e,t,i,r){var s=n.toString();n=this.g[s],n||(n=this.g[s]=[],this.h++);var o=h1(n,e,i,r);return-1<o?(e=n[o],t||(e.ia=!1)):(e=new dX(e,this.src,s,!!i,r),e.ia=t,n.push(e)),e};function c1(n,e){var t=e.type;if(t in n.g){var i=n.g[t],r=u$(i,e),s;(s=0<=r)&&Array.prototype.splice.call(i,r,1),s&&(Cm(e),n.g[t].length==0&&(delete n.g[t],n.h--))}}function h1(n,e,t,i){for(var r=0;r<n.length;++r){var s=n[r];if(!s.fa&&s.listener==e&&s.capture==!!t&&s.la==i)return r}return-1}var $S="closure_lm_"+(1e6*Math.random()|0),_y={};function g$(n,e,t,i,r){if(i&&i.once)return O$(n,e,t,i,r);if(Array.isArray(e)){for(var s=0;s<e.length;s++)g$(n,e[s],t,i,r);return null}return t=MS(t),n&&n[Hh]?n.O(e,t,Gh(i)?!!i.capture:!!i,r):m$(n,e,t,!1,i,r)}function m$(n,e,t,i,r,s){if(!e)throw Error("Invalid event type");var o=Gh(r)?!!r.capture:!!r,l=DS(n);if(l||(n[$S]=l=new Am(n)),t=l.add(e,t,i,o,s),t.proxy)return t;if(i=gX(),t.proxy=i,i.src=n,i.listener=t,n.addEventListener)oX||(r=o),r===void 0&&(r=!1),n.addEventListener(e.toString(),i,r);else if(n.attachEvent)n.attachEvent(v$(e.toString()),i);else if(n.addListener&&n.removeListener)n.addListener(i);else throw Error("addEventListener and attachEvent are unavailable.");return t}function gX(){function n(t){return e.call(n.src,n.listener,t)}const e=mX;return n}function O$(n,e,t,i,r){if(Array.isArray(e)){for(var s=0;s<e.length;s++)O$(n,e[s],t,i,r);return null}return t=MS(t),n&&n[Hh]?n.P(e,t,Gh(i)?!!i.capture:!!i,r):m$(n,e,t,!0,i,r)}function y$(n,e,t,i,r){if(Array.isArray(e))for(var s=0;s<e.length;s++)y$(n,e[s],t,i,r);else i=Gh(i)?!!i.capture:!!i,t=MS(t),n&&n[Hh]?(n=n.i,e=String(e).toString(),e in n.g&&(s=n.g[e],t=h1(s,t,i,r),-1<t&&(Cm(s[t]),Array.prototype.splice.call(s,t,1),s.length==0&&(delete n.g[e],n.h--)))):n&&(n=DS(n))&&(e=n.g[e.toString()],n=-1,e&&(n=h1(e,t,i,r)),(t=-1<n?e[n]:null)&&QS(t))}function QS(n){if(typeof n!="number"&&n&&!n.fa){var e=n.src;if(e&&e[Hh])c1(e.i,n);else{var t=n.type,i=n.proxy;e.removeEventListener?e.removeEventListener(t,i,n.capture):e.detachEvent?e.detachEvent(v$(t),i):e.addListener&&e.removeListener&&e.removeListener(i),(t=DS(e))?(c1(t,n),t.h==0&&(t.src=null,e[$S]=null)):Cm(n)}}}function v$(n){return n in _y?_y[n]:_y[n]="on"+n}function mX(n,e){if(n.fa)n=!0;else{e=new ch(e,this);var t=n.listener,i=n.la||n.src;n.ia&&QS(n),n=t.call(i,e)}return n}function DS(n){return n=n[$S],n instanceof Am?n:null}var xy="__closure_events_fn_"+(1e9*Math.random()>>>0);function MS(n){return typeof n=="function"?n:(n[xy]||(n[xy]=function(e){return n.handleEvent(e)}),n[xy])}function Gt(){Ro.call(this),this.i=new Am(this),this.S=this,this.J=null}Ht(Gt,Ro);Gt.prototype[Hh]=!0;Gt.prototype.removeEventListener=function(n,e,t,i){y$(this,n,e,t,i)};function cn(n,e){var t,i=n.J;if(i)for(t=[];i;i=i.J)t.push(i);if(n=n.S,i=e.type||e,typeof e=="string")e=new En(e,n);else if(e instanceof En)e.target=e.target||n;else{var r=e;e=new En(i,n),p$(e,r)}if(r=!0,t)for(var s=t.length-1;0<=s;s--){var o=e.g=t[s];r=Dd(o,i,!0,e)&&r}if(o=e.g=n,r=Dd(o,i,!0,e)&&r,r=Dd(o,i,!1,e)&&r,t)for(s=0;s<t.length;s++)o=e.g=t[s],r=Dd(o,i,!1,e)&&r}Gt.prototype.N=function(){if(Gt.$.N.call(this),this.i){var n=this.i,e;for(e in n.g){for(var t=n.g[e],i=0;i<t.length;i++)Cm(t[i]);delete n.g[e],n.h--}}this.J=null};Gt.prototype.O=function(n,e,t,i){return this.i.add(String(n),e,!1,t,i)};Gt.prototype.P=function(n,e,t,i){return this.i.add(String(n),e,!0,t,i)};function Dd(n,e,t,i){if(e=n.i.g[String(e)],!e)return!0;e=e.concat();for(var r=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.fa&&o.capture==t){var l=o.listener,u=o.la||o.src;o.ia&&c1(n.i,o),r=l.call(u,i)!==!1&&r}}return r&&!i.defaultPrevented}var NS=me.JSON.stringify;class OX{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}function yX(){var n=LS;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}class vX{constructor(){this.h=this.g=null}add(e,t){const i=w$.get();i.set(e,t),this.h?this.h.next=i:this.g=i,this.h=i}}var w$=new OX(()=>new wX,n=>n.reset());class wX{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function SX(n){var e=1;n=n.split(":");const t=[];for(;0<e&&n.length;)t.push(n.shift()),e--;return n.length&&t.push(n.join(":")),t}function _X(n){me.setTimeout(()=>{throw n},0)}let hh,fh=!1,LS=new vX,S$=()=>{const n=me.Promise.resolve(void 0);hh=()=>{n.then(xX)}};var xX=()=>{for(var n;n=yX();){try{n.h.call(n.g)}catch(t){_X(t)}var e=w$;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}fh=!1};function Im(n,e){Gt.call(this),this.h=n||1,this.g=e||me,this.j=kn(this.qb,this),this.l=Date.now()}Ht(Im,Gt);H=Im.prototype;H.ga=!1;H.T=null;H.qb=function(){if(this.ga){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-n):(this.T&&(this.g.clearTimeout(this.T),this.T=null),cn(this,"tick"),this.ga&&(VS(this),this.start()))}};H.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function VS(n){n.ga=!1,n.T&&(n.g.clearTimeout(n.T),n.T=null)}H.N=function(){Im.$.N.call(this),VS(this),delete this.g};function ZS(n,e,t){if(typeof n=="function")t&&(n=kn(n,t));else if(n&&typeof n.handleEvent=="function")n=kn(n.handleEvent,n);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:me.setTimeout(n,e||0)}function _$(n){n.g=ZS(()=>{n.g=null,n.i&&(n.i=!1,_$(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}class TX extends Ro{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:_$(this)}N(){super.N(),this.g&&(me.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function dh(n){Ro.call(this),this.h=n,this.g={}}Ht(dh,Ro);var SP=[];function x$(n,e,t,i){Array.isArray(t)||(t&&(SP[0]=t.toString()),t=SP);for(var r=0;r<t.length;r++){var s=g$(e,t[r],i||n.handleEvent,!1,n.h||n);if(!s)break;n.g[s.key]=s}}function T$(n){RS(n.g,function(e,t){this.g.hasOwnProperty(t)&&QS(e)},n),n.g={}}dh.prototype.N=function(){dh.$.N.call(this),T$(this)};dh.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function Rm(){this.g=!0}Rm.prototype.Ea=function(){this.g=!1};function kX(n,e,t,i,r,s){n.info(function(){if(n.g)if(s)for(var o="",l=s.split("&"),u=0;u<l.length;u++){var h=l[u].split("=");if(1<h.length){var f=h[0];h=h[1];var p=f.split("_");o=2<=p.length&&p[1]=="type"?o+(f+"="+h+"&"):o+(f+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+i+") [attempt "+r+"]: "+e+`
`+t+`
`+o})}function EX(n,e,t,i,r,s,o){n.info(function(){return"XMLHTTP RESP ("+i+") [ attempt "+r+"]: "+e+`
`+t+`
`+s+" "+o})}function pa(n,e,t,i){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+bX(n,t)+(i?" "+i:"")})}function PX(n,e){n.info(function(){return"TIMEOUT: "+e})}Rm.prototype.info=function(){};function bX(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t){for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var i=t[n];if(!(2>i.length)){var r=i[1];if(Array.isArray(r)&&!(1>r.length)){var s=r[0];if(s!="noop"&&s!="stop"&&s!="close")for(var o=1;o<r.length;o++)r[o]=""}}}}return NS(t)}catch{return e}}var Pl={},_P=null;function $m(){return _P=_P||new Gt}Pl.Ta="serverreachability";function k$(n){En.call(this,Pl.Ta,n)}Ht(k$,En);function ph(n){const e=$m();cn(e,new k$(e))}Pl.STAT_EVENT="statevent";function E$(n,e){En.call(this,Pl.STAT_EVENT,n),this.stat=e}Ht(E$,En);function Dn(n){const e=$m();cn(e,new E$(e,n))}Pl.Ua="timingevent";function P$(n,e){En.call(this,Pl.Ua,n),this.size=e}Ht(P$,En);function Kh(n,e){if(typeof n!="function")throw Error("Fn must not be null and must be a function");return me.setTimeout(function(){n()},e)}var Qm={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},b$={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function US(){}US.prototype.h=null;function xP(n){return n.h||(n.h=n.i())}function C$(){}var Jh={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function BS(){En.call(this,"d")}Ht(BS,En);function WS(){En.call(this,"c")}Ht(WS,En);var f1;function Dm(){}Ht(Dm,US);Dm.prototype.g=function(){return new XMLHttpRequest};Dm.prototype.i=function(){return{}};f1=new Dm;function ef(n,e,t,i){this.l=n,this.j=e,this.m=t,this.W=i||1,this.U=new dh(this),this.P=CX,n=l1?125:void 0,this.V=new Im(n),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new A$}function A$(){this.i=null,this.g="",this.h=!1}var CX=45e3,d1={},yg={};H=ef.prototype;H.setTimeout=function(n){this.P=n};function p1(n,e,t){n.L=1,n.v=Nm(ms(e)),n.s=t,n.S=!0,I$(n,null)}function I$(n,e){n.G=Date.now(),tf(n),n.A=ms(n.v);var t=n.A,i=n.W;Array.isArray(i)||(i=[String(i)]),V$(t.i,"t",i),n.C=0,t=n.l.J,n.h=new A$,n.g=o2(n.l,t?e:null,!n.s),0<n.O&&(n.M=new TX(kn(n.Pa,n,n.g),n.O)),x$(n.U,n.g,"readystatechange",n.nb),e=n.I?d$(n.I):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.ha(n.A,n.u,n.s,e)):(n.u="GET",n.g.ha(n.A,n.u,null,e)),ph(),kX(n.j,n.u,n.A,n.m,n.W,n.s)}H.nb=function(n){n=n.target;const e=this.M;e&&Pr(n)==3?e.l():this.Pa(n)};H.Pa=function(n){try{if(n==this.g)e:{const f=Pr(this.g);var e=this.g.Ia();const p=this.g.da();if(!(3>f)&&(f!=3||l1||this.g&&(this.h.h||this.g.ja()||PP(this.g)))){this.J||f!=4||e==7||(e==8||0>=p?ph(3):ph(2)),Mm(this);var t=this.g.da();this.ca=t;t:if(R$(this)){var i=PP(this.g);n="";var r=i.length,s=Pr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Jo(this),Qc(this);var o="";break t}this.h.i=new me.TextDecoder}for(e=0;e<r;e++)this.h.h=!0,n+=this.h.i.decode(i[e],{stream:s&&e==r-1});i.splice(0,r),this.h.g+=n,this.C=0,o=this.h.g}else o=this.g.ja();if(this.i=t==200,EX(this.j,this.u,this.A,this.m,this.W,f,t),this.i){if(this.aa&&!this.K){t:{if(this.g){var l,u=this.g;if((l=u.g?u.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!uh(l)){var h=l;break t}}h=null}if(t=h)pa(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,g1(this,t);else{this.i=!1,this.o=3,Dn(12),Jo(this),Qc(this);break e}}this.S?($$(this,f,o),l1&&this.i&&f==3&&(x$(this.U,this.V,"tick",this.mb),this.V.start())):(pa(this.j,this.m,o,null),g1(this,o)),f==4&&Jo(this),this.i&&!this.J&&(f==4?n2(this.l,this):(this.i=!1,tf(this)))}else GX(this.g),t==400&&0<o.indexOf("Unknown SID")?(this.o=3,Dn(12)):(this.o=0,Dn(13)),Jo(this),Qc(this)}}}catch{}finally{}};function R$(n){return n.g?n.u=="GET"&&n.L!=2&&n.l.Ha:!1}function $$(n,e,t){let i=!0,r;for(;!n.J&&n.C<t.length;)if(r=AX(n,t),r==yg){e==4&&(n.o=4,Dn(14),i=!1),pa(n.j,n.m,null,"[Incomplete Response]");break}else if(r==d1){n.o=4,Dn(15),pa(n.j,n.m,t,"[Invalid Chunk]"),i=!1;break}else pa(n.j,n.m,r,null),g1(n,r);R$(n)&&r!=yg&&r!=d1&&(n.h.g="",n.C=0),e!=4||t.length!=0||n.h.h||(n.o=1,Dn(16),i=!1),n.i=n.i&&i,i?0<t.length&&!n.ba&&(n.ba=!0,e=n.l,e.g==n&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+t.length),qS(e),e.M=!0,Dn(11))):(pa(n.j,n.m,t,"[Invalid Chunked Response]"),Jo(n),Qc(n))}H.mb=function(){if(this.g){var n=Pr(this.g),e=this.g.ja();this.C<e.length&&(Mm(this),$$(this,n,e),this.i&&n!=4&&tf(this))}};function AX(n,e){var t=n.C,i=e.indexOf(`
`,t);return i==-1?yg:(t=Number(e.substring(t,i)),isNaN(t)?d1:(i+=1,i+t>e.length?yg:(e=e.slice(i,i+t),n.C=i+t,e)))}H.cancel=function(){this.J=!0,Jo(this)};function tf(n){n.Y=Date.now()+n.P,Q$(n,n.P)}function Q$(n,e){if(n.B!=null)throw Error("WatchDog timer not null");n.B=Kh(kn(n.lb,n),e)}function Mm(n){n.B&&(me.clearTimeout(n.B),n.B=null)}H.lb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(PX(this.j,this.A),this.L!=2&&(ph(),Dn(17)),Jo(this),this.o=2,Qc(this)):Q$(this,this.Y-n)};function Qc(n){n.l.H==0||n.J||n2(n.l,n)}function Jo(n){Mm(n);var e=n.M;e&&typeof e.sa=="function"&&e.sa(),n.M=null,VS(n.V),T$(n.U),n.g&&(e=n.g,n.g=null,e.abort(),e.sa())}function g1(n,e){try{var t=n.l;if(t.H!=0&&(t.g==n||m1(t.i,n))){if(!n.K&&m1(t.i,n)&&t.H==3){try{var i=t.Ja.g.parse(e)}catch{i=null}if(Array.isArray(i)&&i.length==3){var r=i;if(r[0]==0){e:if(!t.u){if(t.g)if(t.g.G+3e3<n.G)Sg(t),Zm(t);else break e;jS(t),Dn(18)}}else t.Fa=r[1],0<t.Fa-t.V&&37500>r[2]&&t.G&&t.A==0&&!t.v&&(t.v=Kh(kn(t.ib,t),6e3));if(1>=B$(t.i)&&t.oa){try{t.oa()}catch{}t.oa=void 0}}else el(t,11)}else if((n.K||t.g==n)&&Sg(t),!uh(e))for(r=t.Ja.g.parse(e),e=0;e<r.length;e++){let h=r[e];if(t.V=h[0],h=h[1],t.H==2)if(h[0]=="c"){t.K=h[1],t.pa=h[2];const f=h[3];f!=null&&(t.ra=f,t.l.info("VER="+t.ra));const p=h[4];p!=null&&(t.Ga=p,t.l.info("SVER="+t.Ga));const g=h[5];g!=null&&typeof g=="number"&&0<g&&(i=1.5*g,t.L=i,t.l.info("backChannelRequestTimeoutMs_="+i)),i=t;const O=n.g;if(O){const v=O.g?O.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(v){var s=i.i;s.g||v.indexOf("spdy")==-1&&v.indexOf("quic")==-1&&v.indexOf("h2")==-1||(s.j=s.l,s.g=new Set,s.h&&(YS(s,s.h),s.h=null))}if(i.F){const x=O.g?O.g.getResponseHeader("X-HTTP-Session-Id"):null;x&&(i.Da=x,nt(i.I,i.F,x))}}t.H=3,t.h&&t.h.Ba(),t.ca&&(t.S=Date.now()-n.G,t.l.info("Handshake RTT: "+t.S+"ms")),i=t;var o=n;if(i.wa=s2(i,i.J?i.pa:null,i.Y),o.K){W$(i.i,o);var l=o,u=i.L;u&&l.setTimeout(u),l.B&&(Mm(l),tf(l)),i.g=o}else e2(i);0<t.j.length&&Um(t)}else h[0]!="stop"&&h[0]!="close"||el(t,7);else t.H==3&&(h[0]=="stop"||h[0]=="close"?h[0]=="stop"?el(t,7):XS(t):h[0]!="noop"&&t.h&&t.h.Aa(h),t.A=0)}}ph(4)}catch{}}function IX(n){if(n.Z&&typeof n.Z=="function")return n.Z();if(typeof Map<"u"&&n instanceof Map||typeof Set<"u"&&n instanceof Set)return Array.from(n.values());if(typeof n=="string")return n.split("");if(Pm(n)){for(var e=[],t=n.length,i=0;i<t;i++)e.push(n[i]);return e}e=[],t=0;for(i in n)e[t++]=n[i];return e}function RX(n){if(n.ta&&typeof n.ta=="function")return n.ta();if(!n.Z||typeof n.Z!="function"){if(typeof Map<"u"&&n instanceof Map)return Array.from(n.keys());if(!(typeof Set<"u"&&n instanceof Set)){if(Pm(n)||typeof n=="string"){var e=[];n=n.length;for(var t=0;t<n;t++)e.push(t);return e}e=[],t=0;for(const i in n)e[t++]=i;return e}}}function D$(n,e){if(n.forEach&&typeof n.forEach=="function")n.forEach(e,void 0);else if(Pm(n)||typeof n=="string")Array.prototype.forEach.call(n,e,void 0);else for(var t=RX(n),i=IX(n),r=i.length,s=0;s<r;s++)e.call(void 0,i[s],t&&t[s],n)}var M$=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function $X(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var i=n[t].indexOf("="),r=null;if(0<=i){var s=n[t].substring(0,i);r=n[t].substring(i+1)}else s=n[t];e(s,r?decodeURIComponent(r.replace(/\+/g," ")):"")}}}function ll(n){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof ll){this.h=n.h,vg(this,n.j),this.s=n.s,this.g=n.g,wg(this,n.m),this.l=n.l;var e=n.i,t=new gh;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),TP(this,t),this.o=n.o}else n&&(e=String(n).match(M$))?(this.h=!1,vg(this,e[1]||"",!0),this.s=pc(e[2]||""),this.g=pc(e[3]||"",!0),wg(this,e[4]),this.l=pc(e[5]||"",!0),TP(this,e[6]||"",!0),this.o=pc(e[7]||"")):(this.h=!1,this.i=new gh(null,this.h))}ll.prototype.toString=function(){var n=[],e=this.j;e&&n.push(gc(e,kP,!0),":");var t=this.g;return(t||e=="file")&&(n.push("//"),(e=this.s)&&n.push(gc(e,kP,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t=this.m,t!=null&&n.push(":",String(t))),(t=this.l)&&(this.g&&t.charAt(0)!="/"&&n.push("/"),n.push(gc(t,t.charAt(0)=="/"?MX:DX,!0))),(t=this.i.toString())&&n.push("?",t),(t=this.o)&&n.push("#",gc(t,LX)),n.join("")};function ms(n){return new ll(n)}function vg(n,e,t){n.j=t?pc(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function wg(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function TP(n,e,t){e instanceof gh?(n.i=e,VX(n.i,n.h)):(t||(e=gc(e,NX)),n.i=new gh(e,n.h))}function nt(n,e,t){n.i.set(e,t)}function Nm(n){return nt(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function pc(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function gc(n,e,t){return typeof n=="string"?(n=encodeURI(n).replace(e,QX),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function QX(n){return n=n.charCodeAt(0),"%"+(n>>4&15).toString(16)+(n&15).toString(16)}var kP=/[#\/\?@]/g,DX=/[#\?:]/g,MX=/[#\?]/g,NX=/[#\?@]/g,LX=/#/g;function gh(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function $o(n){n.g||(n.g=new Map,n.h=0,n.i&&$X(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}H=gh.prototype;H.add=function(n,e){$o(this),this.i=null,n=fu(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this};function N$(n,e){$o(n),e=fu(n,e),n.g.has(e)&&(n.i=null,n.h-=n.g.get(e).length,n.g.delete(e))}function L$(n,e){return $o(n),e=fu(n,e),n.g.has(e)}H.forEach=function(n,e){$o(this),this.g.forEach(function(t,i){t.forEach(function(r){n.call(e,r,i,this)},this)},this)};H.ta=function(){$o(this);const n=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let i=0;i<e.length;i++){const r=n[i];for(let s=0;s<r.length;s++)t.push(e[i])}return t};H.Z=function(n){$o(this);let e=[];if(typeof n=="string")L$(this,n)&&(e=e.concat(this.g.get(fu(this,n))));else{n=Array.from(this.g.values());for(let t=0;t<n.length;t++)e=e.concat(n[t])}return e};H.set=function(n,e){return $o(this),this.i=null,n=fu(this,n),L$(this,n)&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this};H.get=function(n,e){return n?(n=this.Z(n),0<n.length?String(n[0]):e):e};function V$(n,e,t){N$(n,e),0<t.length&&(n.i=null,n.g.set(fu(n,e),AS(t)),n.h+=t.length)}H.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var i=e[t];const s=encodeURIComponent(String(i)),o=this.Z(i);for(i=0;i<o.length;i++){var r=s;o[i]!==""&&(r+="="+encodeURIComponent(String(o[i]))),n.push(r)}}return this.i=n.join("&")};function fu(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function VX(n,e){e&&!n.j&&($o(n),n.i=null,n.g.forEach(function(t,i){var r=i.toLowerCase();i!=r&&(N$(this,i),V$(this,r,t))},n)),n.j=e}var ZX=class{constructor(n,e){this.g=n,this.map=e}};function Z$(n){this.l=n||UX,me.PerformanceNavigationTiming?(n=me.performance.getEntriesByType("navigation"),n=0<n.length&&(n[0].nextHopProtocol=="hq"||n[0].nextHopProtocol=="h2")):n=!!(me.g&&me.g.Ka&&me.g.Ka()&&me.g.Ka().dc),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var UX=10;function U$(n){return n.h?!0:n.g?n.g.size>=n.j:!1}function B$(n){return n.h?1:n.g?n.g.size:0}function m1(n,e){return n.h?n.h==e:n.g?n.g.has(e):!1}function YS(n,e){n.g?n.g.add(e):n.h=e}function W$(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}Z$.prototype.cancel=function(){if(this.i=Y$(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const n of this.g.values())n.cancel();this.g.clear()}};function Y$(n){if(n.h!=null)return n.i.concat(n.h.F);if(n.g!=null&&n.g.size!==0){let e=n.i;for(const t of n.g.values())e=e.concat(t.F);return e}return AS(n.i)}var BX=class{stringify(n){return me.JSON.stringify(n,void 0)}parse(n){return me.JSON.parse(n,void 0)}};function WX(){this.g=new BX}function YX(n,e,t){const i=t||"";try{D$(n,function(r,s){let o=r;Gh(r)&&(o=NS(r)),e.push(i+s+"="+encodeURIComponent(o))})}catch(r){throw e.push(i+"type="+encodeURIComponent("_badmap")),r}}function FX(n,e){const t=new Rm;if(me.Image){const i=new Image;i.onload=Qd(Md,t,i,"TestLoadImage: loaded",!0,e),i.onerror=Qd(Md,t,i,"TestLoadImage: error",!1,e),i.onabort=Qd(Md,t,i,"TestLoadImage: abort",!1,e),i.ontimeout=Qd(Md,t,i,"TestLoadImage: timeout",!1,e),me.setTimeout(function(){i.ontimeout&&i.ontimeout()},1e4),i.src=n}else e(!1)}function Md(n,e,t,i,r){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,r(i)}catch{}}function nf(n){this.l=n.ec||null,this.j=n.ob||!1}Ht(nf,US);nf.prototype.g=function(){return new Lm(this.l,this.j)};nf.prototype.i=function(n){return function(){return n}}({});function Lm(n,e){Gt.call(this),this.F=n,this.u=e,this.m=void 0,this.readyState=FS,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Ht(Lm,Gt);var FS=0;H=Lm.prototype;H.open=function(n,e){if(this.readyState!=FS)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,mh(this)};H.send=function(n){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.F||me).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))};H.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,rf(this)),this.readyState=FS};H.$a=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,mh(this)),this.g&&(this.readyState=3,mh(this),this.g)))if(this.responseType==="arraybuffer")n.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof me.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;F$(this)}else n.text().then(this.Za.bind(this),this.ka.bind(this))};function F$(n){n.j.read().then(n.Xa.bind(n)).catch(n.ka.bind(n))}H.Xa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?rf(this):mh(this),this.readyState==3&&F$(this)}};H.Za=function(n){this.g&&(this.response=this.responseText=n,rf(this))};H.Ya=function(n){this.g&&(this.response=n,rf(this))};H.ka=function(){this.g&&rf(this)};function rf(n){n.readyState=4,n.l=null,n.j=null,n.A=null,mh(n)}H.setRequestHeader=function(n,e){this.v.append(n,e)};H.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""};H.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)t=t.value,n.push(t[0]+": "+t[1]),t=e.next();return n.join(`\r
`)};function mh(n){n.onreadystatechange&&n.onreadystatechange.call(n)}Object.defineProperty(Lm.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(n){this.m=n?"include":"same-origin"}});var zX=me.JSON.parse;function St(n){Gt.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=z$,this.L=this.M=!1}Ht(St,Gt);var z$="",XX=/^https?$/i,jX=["POST","PUT"];H=St.prototype;H.Oa=function(n){this.M=n};H.ha=function(n,e,t,i){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+n);e=e?e.toUpperCase():"GET",this.I=n,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():f1.g(),this.C=this.u?xP(this.u):xP(f1),this.g.onreadystatechange=kn(this.La,this);try{this.G=!0,this.g.open(e,String(n),!0),this.G=!1}catch(s){EP(this,s);return}if(n=t||"",t=new Map(this.headers),i)if(Object.getPrototypeOf(i)===Object.prototype)for(var r in i)t.set(r,i[r]);else if(typeof i.keys=="function"&&typeof i.get=="function")for(const s of i.keys())t.set(s,i.get(s));else throw Error("Unknown input type for opt_headers: "+String(i));i=Array.from(t.keys()).find(s=>s.toLowerCase()=="content-type"),r=me.FormData&&n instanceof me.FormData,!(0<=u$(jX,e))||i||r||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,o]of t)this.g.setRequestHeader(s,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{q$(this),0<this.B&&((this.L=qX(this.g))?(this.g.timeout=this.B,this.g.ontimeout=kn(this.ua,this)):this.A=ZS(this.ua,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(s){EP(this,s)}};function qX(n){return Fa&&typeof n.timeout=="number"&&n.ontimeout!==void 0}H.ua=function(){typeof CS<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,cn(this,"timeout"),this.abort(8))};function EP(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,X$(n),Vm(n)}function X$(n){n.F||(n.F=!0,cn(n,"complete"),cn(n,"error"))}H.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,cn(this,"complete"),cn(this,"abort"),Vm(this))};H.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Vm(this,!0)),St.$.N.call(this)};H.La=function(){this.s||(this.G||this.v||this.l?j$(this):this.kb())};H.kb=function(){j$(this)};function j$(n){if(n.h&&typeof CS<"u"&&(!n.C[1]||Pr(n)!=4||n.da()!=2)){if(n.v&&Pr(n)==4)ZS(n.La,0,n);else if(cn(n,"readystatechange"),Pr(n)==4){n.h=!1;try{const o=n.da();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var i;if(i=o===0){var r=String(n.I).match(M$)[1]||null;!r&&me.self&&me.self.location&&(r=me.self.location.protocol.slice(0,-1)),i=!XX.test(r?r.toLowerCase():"")}t=i}if(t)cn(n,"complete"),cn(n,"success");else{n.m=6;try{var s=2<Pr(n)?n.g.statusText:""}catch{s=""}n.j=s+" ["+n.da()+"]",X$(n)}}finally{Vm(n)}}}}function Vm(n,e){if(n.g){q$(n);const t=n.g,i=n.C[0]?()=>{}:null;n.g=null,n.C=null,e||cn(n,"ready");try{t.onreadystatechange=i}catch{}}}function q$(n){n.g&&n.L&&(n.g.ontimeout=null),n.A&&(me.clearTimeout(n.A),n.A=null)}H.isActive=function(){return!!this.g};function Pr(n){return n.g?n.g.readyState:0}H.da=function(){try{return 2<Pr(this)?this.g.status:-1}catch{return-1}};H.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};H.Wa=function(n){if(this.g){var e=this.g.responseText;return n&&e.indexOf(n)==0&&(e=e.substring(n.length)),zX(e)}};function PP(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.K){case z$:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function GX(n){const e={};n=(n.g&&2<=Pr(n)&&n.g.getAllResponseHeaders()||"").split(`\r
`);for(let i=0;i<n.length;i++){if(uh(n[i]))continue;var t=SX(n[i]);const r=t[0];if(t=t[1],typeof t!="string")continue;t=t.trim();const s=e[r]||[];e[r]=s,s.push(t)}pX(e,function(i){return i.join(", ")})}H.Ia=function(){return this.m};H.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function G$(n){let e="";return RS(n,function(t,i){e+=i,e+=":",e+=t,e+=`\r
`}),e}function zS(n,e,t){e:{for(i in t){var i=!1;break e}i=!0}i||(t=G$(t),typeof n=="string"?t!=null&&encodeURIComponent(String(t)):nt(n,e,t))}function ec(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function H$(n){this.Ga=0,this.j=[],this.l=new Rm,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=ec("failFast",!1,n),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=ec("baseRetryDelayMs",5e3,n),this.hb=ec("retryDelaySeedMs",1e4,n),this.eb=ec("forwardChannelMaxRetries",2,n),this.xa=ec("forwardChannelRequestTimeoutMs",2e4,n),this.va=n&&n.xmlHttpFactory||void 0,this.Ha=n&&n.useFetchStreams||!1,this.L=void 0,this.J=n&&n.supportsCrossDomainXhr||!1,this.K="",this.i=new Z$(n&&n.concurrentRequestLimit),this.Ja=new WX,this.P=n&&n.fastHandshake||!1,this.O=n&&n.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=n&&n.bc||!1,n&&n.Ea&&this.l.Ea(),n&&n.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&n&&n.detectBufferingProxy||!1,this.qa=void 0,n&&n.longPollingTimeout&&0<n.longPollingTimeout&&(this.qa=n.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}H=H$.prototype;H.ra=8;H.H=1;function XS(n){if(K$(n),n.H==3){var e=n.W++,t=ms(n.I);if(nt(t,"SID",n.K),nt(t,"RID",e),nt(t,"TYPE","terminate"),sf(n,t),e=new ef(n,n.l,e),e.L=2,e.v=Nm(ms(t)),t=!1,me.navigator&&me.navigator.sendBeacon)try{t=me.navigator.sendBeacon(e.v.toString(),"")}catch{}!t&&me.Image&&(new Image().src=e.v,t=!0),t||(e.g=o2(e.l,null),e.g.ha(e.v)),e.G=Date.now(),tf(e)}r2(n)}function Zm(n){n.g&&(qS(n),n.g.cancel(),n.g=null)}function K$(n){Zm(n),n.u&&(me.clearTimeout(n.u),n.u=null),Sg(n),n.i.cancel(),n.m&&(typeof n.m=="number"&&me.clearTimeout(n.m),n.m=null)}function Um(n){if(!U$(n.i)&&!n.m){n.m=!0;var e=n.Na;hh||S$(),fh||(hh(),fh=!0),LS.add(e,n),n.C=0}}function HX(n,e){return B$(n.i)>=n.i.j-(n.m?1:0)?!1:n.m?(n.j=e.F.concat(n.j),!0):n.H==1||n.H==2||n.C>=(n.cb?0:n.eb)?!1:(n.m=Kh(kn(n.Na,n,e),i2(n,n.C)),n.C++,!0)}H.Na=function(n){if(this.m)if(this.m=null,this.H==1){if(!n){this.W=Math.floor(1e5*Math.random()),n=this.W++;const r=new ef(this,this.l,n);let s=this.s;if(this.U&&(s?(s=d$(s),p$(s,this.U)):s=this.U),this.o!==null||this.O||(r.I=s,s=null),this.P)e:{for(var e=0,t=0;t<this.j.length;t++){t:{var i=this.j[t];if("__data__"in i.map&&(i=i.map.__data__,typeof i=="string")){i=i.length;break t}i=void 0}if(i===void 0)break;if(e+=i,4096<e){e=t;break e}if(e===4096||t===this.j.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=J$(this,r,e),t=ms(this.I),nt(t,"RID",n),nt(t,"CVER",22),this.F&&nt(t,"X-HTTP-Session-Id",this.F),sf(this,t),s&&(this.O?e="headers="+encodeURIComponent(String(G$(s)))+"&"+e:this.o&&zS(t,this.o,s)),YS(this.i,r),this.bb&&nt(t,"TYPE","init"),this.P?(nt(t,"$req",e),nt(t,"SID","null"),r.aa=!0,p1(r,t,null)):p1(r,t,e),this.H=2}}else this.H==3&&(n?bP(this,n):this.j.length==0||U$(this.i)||bP(this))};function bP(n,e){var t;e?t=e.m:t=n.W++;const i=ms(n.I);nt(i,"SID",n.K),nt(i,"RID",t),nt(i,"AID",n.V),sf(n,i),n.o&&n.s&&zS(i,n.o,n.s),t=new ef(n,n.l,t,n.C+1),n.o===null&&(t.I=n.s),e&&(n.j=e.F.concat(n.j)),e=J$(n,t,1e3),t.setTimeout(Math.round(.5*n.xa)+Math.round(.5*n.xa*Math.random())),YS(n.i,t),p1(t,i,e)}function sf(n,e){n.na&&RS(n.na,function(t,i){nt(e,i,t)}),n.h&&D$({},function(t,i){nt(e,i,t)})}function J$(n,e,t){t=Math.min(n.j.length,t);var i=n.h?kn(n.h.Va,n.h,n):null;e:{var r=n.j;let s=-1;for(;;){const o=["count="+t];s==-1?0<t?(s=r[0].g,o.push("ofs="+s)):s=0:o.push("ofs="+s);let l=!0;for(let u=0;u<t;u++){let h=r[u].g;const f=r[u].map;if(h-=s,0>h)s=Math.max(0,r[u].g-100),l=!1;else try{YX(f,o,"req"+h+"_")}catch{i&&i(f)}}if(l){i=o.join("&");break e}}}return n=n.j.splice(0,t),e.F=n,i}function e2(n){if(!n.g&&!n.u){n.ba=1;var e=n.Ma;hh||S$(),fh||(hh(),fh=!0),LS.add(e,n),n.A=0}}function jS(n){return n.g||n.u||3<=n.A?!1:(n.ba++,n.u=Kh(kn(n.Ma,n),i2(n,n.A)),n.A++,!0)}H.Ma=function(){if(this.u=null,t2(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var n=2*this.S;this.l.info("BP detection timer enabled: "+n),this.B=Kh(kn(this.jb,this),n)}};H.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Dn(10),Zm(this),t2(this))};function qS(n){n.B!=null&&(me.clearTimeout(n.B),n.B=null)}function t2(n){n.g=new ef(n,n.l,"rpc",n.ba),n.o===null&&(n.g.I=n.s),n.g.O=0;var e=ms(n.wa);nt(e,"RID","rpc"),nt(e,"SID",n.K),nt(e,"AID",n.V),nt(e,"CI",n.G?"0":"1"),!n.G&&n.qa&&nt(e,"TO",n.qa),nt(e,"TYPE","xmlhttp"),sf(n,e),n.o&&n.s&&zS(e,n.o,n.s),n.L&&n.g.setTimeout(n.L);var t=n.g;n=n.pa,t.L=1,t.v=Nm(ms(e)),t.s=null,t.S=!0,I$(t,n)}H.ib=function(){this.v!=null&&(this.v=null,Zm(this),jS(this),Dn(19))};function Sg(n){n.v!=null&&(me.clearTimeout(n.v),n.v=null)}function n2(n,e){var t=null;if(n.g==e){Sg(n),qS(n),n.g=null;var i=2}else if(m1(n.i,e))t=e.F,W$(n.i,e),i=1;else return;if(n.H!=0){if(e.i)if(i==1){t=e.s?e.s.length:0,e=Date.now()-e.G;var r=n.C;i=$m(),cn(i,new P$(i,t)),Um(n)}else e2(n);else if(r=e.o,r==3||r==0&&0<e.ca||!(i==1&&HX(n,e)||i==2&&jS(n)))switch(t&&0<t.length&&(e=n.i,e.i=e.i.concat(t)),r){case 1:el(n,5);break;case 4:el(n,10);break;case 3:el(n,6);break;default:el(n,2)}}}function i2(n,e){let t=n.ab+Math.floor(Math.random()*n.hb);return n.isActive()||(t*=2),t*e}function el(n,e){if(n.l.info("Error code "+e),e==2){var t=null;n.h&&(t=null);var i=kn(n.pb,n);t||(t=new ll("//www.google.com/images/cleardot.gif"),me.location&&me.location.protocol=="http"||vg(t,"https"),Nm(t)),FX(t.toString(),i)}else Dn(2);n.H=0,n.h&&n.h.za(e),r2(n),K$(n)}H.pb=function(n){n?(this.l.info("Successfully pinged google.com"),Dn(2)):(this.l.info("Failed to ping google.com"),Dn(1))};function r2(n){if(n.H=0,n.ma=[],n.h){const e=Y$(n.i);(e.length!=0||n.j.length!=0)&&(yP(n.ma,e),yP(n.ma,n.j),n.i.i.length=0,AS(n.j),n.j.length=0),n.h.ya()}}function s2(n,e,t){var i=t instanceof ll?ms(t):new ll(t);if(i.g!="")e&&(i.g=e+"."+i.g),wg(i,i.m);else{var r=me.location;i=r.protocol,e=e?e+"."+r.hostname:r.hostname,r=+r.port;var s=new ll(null);i&&vg(s,i),e&&(s.g=e),r&&wg(s,r),t&&(s.l=t),i=s}return t=n.F,e=n.Da,t&&e&&nt(i,t,e),nt(i,"VER",n.ra),sf(n,i),i}function o2(n,e,t){if(e&&!n.J)throw Error("Can't create secondary domain capable XhrIo object.");return e=t&&n.Ha&&!n.va?new St(new nf({ob:!0})):new St(n.va),e.Oa(n.J),e}H.isActive=function(){return!!this.h&&this.h.isActive(this)};function l2(){}H=l2.prototype;H.Ba=function(){};H.Aa=function(){};H.za=function(){};H.ya=function(){};H.isActive=function(){return!0};H.Va=function(){};function _g(){if(Fa&&!(10<=Number(cX)))throw Error("Environmental error: no available transport.")}_g.prototype.g=function(n,e){return new vi(n,e)};function vi(n,e){Gt.call(this),this.g=new H$(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(n?n["X-WebChannel-Client-Profile"]=e.Ca:n={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=n,(n=e&&e.cc)&&!uh(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!uh(e)&&(this.g.F=e,n=this.h,n!==null&&e in n&&(n=this.h,e in n&&delete n[e])),this.j=new du(this)}Ht(vi,Gt);vi.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var n=this.g,e=this.l,t=this.h||void 0;Dn(0),n.Y=e,n.na=t||{},n.G=n.aa,n.I=s2(n,null,n.Y),Um(n)};vi.prototype.close=function(){XS(this.g)};vi.prototype.u=function(n){var e=this.g;if(typeof n=="string"){var t={};t.__data__=n,n=t}else this.v&&(t={},t.__data__=NS(n),n=t);e.j.push(new ZX(e.fb++,n)),e.H==3&&Um(e)};vi.prototype.N=function(){this.g.h=null,delete this.j,XS(this.g),delete this.g,vi.$.N.call(this)};function a2(n){BS.call(this),n.__headers__&&(this.headers=n.__headers__,this.statusCode=n.__status__,delete n.__headers__,delete n.__status__);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=e!==null&&n in e?e[n]:void 0),this.data=e}else this.data=n}Ht(a2,BS);function u2(){WS.call(this),this.status=1}Ht(u2,WS);function du(n){this.g=n}Ht(du,l2);du.prototype.Ba=function(){cn(this.g,"a")};du.prototype.Aa=function(n){cn(this.g,new a2(n))};du.prototype.za=function(n){cn(this.g,new u2)};du.prototype.ya=function(){cn(this.g,"b")};function KX(){this.blockSize=-1}function lr(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}Ht(lr,KX);lr.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function Ty(n,e,t){t||(t=0);var i=Array(16);if(typeof e=="string")for(var r=0;16>r;++r)i[r]=e.charCodeAt(t++)|e.charCodeAt(t++)<<8|e.charCodeAt(t++)<<16|e.charCodeAt(t++)<<24;else for(r=0;16>r;++r)i[r]=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;e=n.g[0],t=n.g[1],r=n.g[2];var s=n.g[3],o=e+(s^t&(r^s))+i[0]+3614090360&4294967295;e=t+(o<<7&4294967295|o>>>25),o=s+(r^e&(t^r))+i[1]+3905402710&4294967295,s=e+(o<<12&4294967295|o>>>20),o=r+(t^s&(e^t))+i[2]+606105819&4294967295,r=s+(o<<17&4294967295|o>>>15),o=t+(e^r&(s^e))+i[3]+3250441966&4294967295,t=r+(o<<22&4294967295|o>>>10),o=e+(s^t&(r^s))+i[4]+4118548399&4294967295,e=t+(o<<7&4294967295|o>>>25),o=s+(r^e&(t^r))+i[5]+1200080426&4294967295,s=e+(o<<12&4294967295|o>>>20),o=r+(t^s&(e^t))+i[6]+2821735955&4294967295,r=s+(o<<17&4294967295|o>>>15),o=t+(e^r&(s^e))+i[7]+4249261313&4294967295,t=r+(o<<22&4294967295|o>>>10),o=e+(s^t&(r^s))+i[8]+1770035416&4294967295,e=t+(o<<7&4294967295|o>>>25),o=s+(r^e&(t^r))+i[9]+2336552879&4294967295,s=e+(o<<12&4294967295|o>>>20),o=r+(t^s&(e^t))+i[10]+4294925233&4294967295,r=s+(o<<17&4294967295|o>>>15),o=t+(e^r&(s^e))+i[11]+2304563134&4294967295,t=r+(o<<22&4294967295|o>>>10),o=e+(s^t&(r^s))+i[12]+1804603682&4294967295,e=t+(o<<7&4294967295|o>>>25),o=s+(r^e&(t^r))+i[13]+4254626195&4294967295,s=e+(o<<12&4294967295|o>>>20),o=r+(t^s&(e^t))+i[14]+2792965006&4294967295,r=s+(o<<17&4294967295|o>>>15),o=t+(e^r&(s^e))+i[15]+1236535329&4294967295,t=r+(o<<22&4294967295|o>>>10),o=e+(r^s&(t^r))+i[1]+4129170786&4294967295,e=t+(o<<5&4294967295|o>>>27),o=s+(t^r&(e^t))+i[6]+3225465664&4294967295,s=e+(o<<9&4294967295|o>>>23),o=r+(e^t&(s^e))+i[11]+643717713&4294967295,r=s+(o<<14&4294967295|o>>>18),o=t+(s^e&(r^s))+i[0]+3921069994&4294967295,t=r+(o<<20&4294967295|o>>>12),o=e+(r^s&(t^r))+i[5]+3593408605&4294967295,e=t+(o<<5&4294967295|o>>>27),o=s+(t^r&(e^t))+i[10]+38016083&4294967295,s=e+(o<<9&4294967295|o>>>23),o=r+(e^t&(s^e))+i[15]+3634488961&4294967295,r=s+(o<<14&4294967295|o>>>18),o=t+(s^e&(r^s))+i[4]+3889429448&4294967295,t=r+(o<<20&4294967295|o>>>12),o=e+(r^s&(t^r))+i[9]+568446438&4294967295,e=t+(o<<5&4294967295|o>>>27),o=s+(t^r&(e^t))+i[14]+3275163606&4294967295,s=e+(o<<9&4294967295|o>>>23),o=r+(e^t&(s^e))+i[3]+4107603335&4294967295,r=s+(o<<14&4294967295|o>>>18),o=t+(s^e&(r^s))+i[8]+1163531501&4294967295,t=r+(o<<20&4294967295|o>>>12),o=e+(r^s&(t^r))+i[13]+2850285829&4294967295,e=t+(o<<5&4294967295|o>>>27),o=s+(t^r&(e^t))+i[2]+4243563512&4294967295,s=e+(o<<9&4294967295|o>>>23),o=r+(e^t&(s^e))+i[7]+1735328473&4294967295,r=s+(o<<14&4294967295|o>>>18),o=t+(s^e&(r^s))+i[12]+2368359562&4294967295,t=r+(o<<20&4294967295|o>>>12),o=e+(t^r^s)+i[5]+4294588738&4294967295,e=t+(o<<4&4294967295|o>>>28),o=s+(e^t^r)+i[8]+2272392833&4294967295,s=e+(o<<11&4294967295|o>>>21),o=r+(s^e^t)+i[11]+1839030562&4294967295,r=s+(o<<16&4294967295|o>>>16),o=t+(r^s^e)+i[14]+4259657740&4294967295,t=r+(o<<23&4294967295|o>>>9),o=e+(t^r^s)+i[1]+2763975236&4294967295,e=t+(o<<4&4294967295|o>>>28),o=s+(e^t^r)+i[4]+1272893353&4294967295,s=e+(o<<11&4294967295|o>>>21),o=r+(s^e^t)+i[7]+4139469664&4294967295,r=s+(o<<16&4294967295|o>>>16),o=t+(r^s^e)+i[10]+3200236656&4294967295,t=r+(o<<23&4294967295|o>>>9),o=e+(t^r^s)+i[13]+681279174&4294967295,e=t+(o<<4&4294967295|o>>>28),o=s+(e^t^r)+i[0]+3936430074&4294967295,s=e+(o<<11&4294967295|o>>>21),o=r+(s^e^t)+i[3]+3572445317&4294967295,r=s+(o<<16&4294967295|o>>>16),o=t+(r^s^e)+i[6]+76029189&4294967295,t=r+(o<<23&4294967295|o>>>9),o=e+(t^r^s)+i[9]+3654602809&4294967295,e=t+(o<<4&4294967295|o>>>28),o=s+(e^t^r)+i[12]+3873151461&4294967295,s=e+(o<<11&4294967295|o>>>21),o=r+(s^e^t)+i[15]+530742520&4294967295,r=s+(o<<16&4294967295|o>>>16),o=t+(r^s^e)+i[2]+3299628645&4294967295,t=r+(o<<23&4294967295|o>>>9),o=e+(r^(t|~s))+i[0]+4096336452&4294967295,e=t+(o<<6&4294967295|o>>>26),o=s+(t^(e|~r))+i[7]+1126891415&4294967295,s=e+(o<<10&4294967295|o>>>22),o=r+(e^(s|~t))+i[14]+2878612391&4294967295,r=s+(o<<15&4294967295|o>>>17),o=t+(s^(r|~e))+i[5]+4237533241&4294967295,t=r+(o<<21&4294967295|o>>>11),o=e+(r^(t|~s))+i[12]+1700485571&4294967295,e=t+(o<<6&4294967295|o>>>26),o=s+(t^(e|~r))+i[3]+2399980690&4294967295,s=e+(o<<10&4294967295|o>>>22),o=r+(e^(s|~t))+i[10]+4293915773&4294967295,r=s+(o<<15&4294967295|o>>>17),o=t+(s^(r|~e))+i[1]+2240044497&4294967295,t=r+(o<<21&4294967295|o>>>11),o=e+(r^(t|~s))+i[8]+1873313359&4294967295,e=t+(o<<6&4294967295|o>>>26),o=s+(t^(e|~r))+i[15]+4264355552&4294967295,s=e+(o<<10&4294967295|o>>>22),o=r+(e^(s|~t))+i[6]+2734768916&4294967295,r=s+(o<<15&4294967295|o>>>17),o=t+(s^(r|~e))+i[13]+1309151649&4294967295,t=r+(o<<21&4294967295|o>>>11),o=e+(r^(t|~s))+i[4]+4149444226&4294967295,e=t+(o<<6&4294967295|o>>>26),o=s+(t^(e|~r))+i[11]+3174756917&4294967295,s=e+(o<<10&4294967295|o>>>22),o=r+(e^(s|~t))+i[2]+718787259&4294967295,r=s+(o<<15&4294967295|o>>>17),o=t+(s^(r|~e))+i[9]+3951481745&4294967295,n.g[0]=n.g[0]+e&4294967295,n.g[1]=n.g[1]+(r+(o<<21&4294967295|o>>>11))&4294967295,n.g[2]=n.g[2]+r&4294967295,n.g[3]=n.g[3]+s&4294967295}lr.prototype.j=function(n,e){e===void 0&&(e=n.length);for(var t=e-this.blockSize,i=this.m,r=this.h,s=0;s<e;){if(r==0)for(;s<=t;)Ty(this,n,s),s+=this.blockSize;if(typeof n=="string"){for(;s<e;)if(i[r++]=n.charCodeAt(s++),r==this.blockSize){Ty(this,i),r=0;break}}else for(;s<e;)if(i[r++]=n[s++],r==this.blockSize){Ty(this,i),r=0;break}}this.h=r,this.i+=e};lr.prototype.l=function(){var n=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);n[0]=128;for(var e=1;e<n.length-8;++e)n[e]=0;var t=8*this.i;for(e=n.length-8;e<n.length;++e)n[e]=t&255,t/=256;for(this.j(n),n=Array(16),e=t=0;4>e;++e)for(var i=0;32>i;i+=8)n[t++]=this.g[e]>>>i&255;return n};function Fe(n,e){this.h=e;for(var t=[],i=!0,r=n.length-1;0<=r;r--){var s=n[r]|0;i&&s==e||(t[r]=s,i=!1)}this.g=t}var JX={};function GS(n){return-128<=n&&128>n?lX(n,function(e){return new Fe([e|0],0>e?-1:0)}):new Fe([n|0],0>n?-1:0)}function br(n){if(isNaN(n)||!isFinite(n))return ka;if(0>n)return rn(br(-n));for(var e=[],t=1,i=0;n>=t;i++)e[i]=n/t|0,t*=O1;return new Fe(e,0)}function c2(n,e){if(n.length==0)throw Error("number format error: empty string");if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(n.charAt(0)=="-")return rn(c2(n.substring(1),e));if(0<=n.indexOf("-"))throw Error('number format error: interior "-" character');for(var t=br(Math.pow(e,8)),i=ka,r=0;r<n.length;r+=8){var s=Math.min(8,n.length-r),o=parseInt(n.substring(r,r+s),e);8>s?(s=br(Math.pow(e,s)),i=i.R(s).add(br(o))):(i=i.R(t),i=i.add(br(o)))}return i}var O1=4294967296,ka=GS(0),y1=GS(1),CP=GS(16777216);H=Fe.prototype;H.ea=function(){if(Qi(this))return-rn(this).ea();for(var n=0,e=1,t=0;t<this.g.length;t++){var i=this.D(t);n+=(0<=i?i:O1+i)*e,e*=O1}return n};H.toString=function(n){if(n=n||10,2>n||36<n)throw Error("radix out of range: "+n);if(os(this))return"0";if(Qi(this))return"-"+rn(this).toString(n);for(var e=br(Math.pow(n,6)),t=this,i="";;){var r=Tg(t,e).g;t=xg(t,r.R(e));var s=((0<t.g.length?t.g[0]:t.h)>>>0).toString(n);if(t=r,os(t))return s+i;for(;6>s.length;)s="0"+s;i=s+i}};H.D=function(n){return 0>n?0:n<this.g.length?this.g[n]:this.h};function os(n){if(n.h!=0)return!1;for(var e=0;e<n.g.length;e++)if(n.g[e]!=0)return!1;return!0}function Qi(n){return n.h==-1}H.X=function(n){return n=xg(this,n),Qi(n)?-1:os(n)?0:1};function rn(n){for(var e=n.g.length,t=[],i=0;i<e;i++)t[i]=~n.g[i];return new Fe(t,~n.h).add(y1)}H.abs=function(){return Qi(this)?rn(this):this};H.add=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],i=0,r=0;r<=e;r++){var s=i+(this.D(r)&65535)+(n.D(r)&65535),o=(s>>>16)+(this.D(r)>>>16)+(n.D(r)>>>16);i=o>>>16,s&=65535,o&=65535,t[r]=o<<16|s}return new Fe(t,t[t.length-1]&-2147483648?-1:0)};function xg(n,e){return n.add(rn(e))}H.R=function(n){if(os(this)||os(n))return ka;if(Qi(this))return Qi(n)?rn(this).R(rn(n)):rn(rn(this).R(n));if(Qi(n))return rn(this.R(rn(n)));if(0>this.X(CP)&&0>n.X(CP))return br(this.ea()*n.ea());for(var e=this.g.length+n.g.length,t=[],i=0;i<2*e;i++)t[i]=0;for(i=0;i<this.g.length;i++)for(var r=0;r<n.g.length;r++){var s=this.D(i)>>>16,o=this.D(i)&65535,l=n.D(r)>>>16,u=n.D(r)&65535;t[2*i+2*r]+=o*u,Nd(t,2*i+2*r),t[2*i+2*r+1]+=s*u,Nd(t,2*i+2*r+1),t[2*i+2*r+1]+=o*l,Nd(t,2*i+2*r+1),t[2*i+2*r+2]+=s*l,Nd(t,2*i+2*r+2)}for(i=0;i<e;i++)t[i]=t[2*i+1]<<16|t[2*i];for(i=e;i<2*e;i++)t[i]=0;return new Fe(t,0)};function Nd(n,e){for(;(n[e]&65535)!=n[e];)n[e+1]+=n[e]>>>16,n[e]&=65535,e++}function tc(n,e){this.g=n,this.h=e}function Tg(n,e){if(os(e))throw Error("division by zero");if(os(n))return new tc(ka,ka);if(Qi(n))return e=Tg(rn(n),e),new tc(rn(e.g),rn(e.h));if(Qi(e))return e=Tg(n,rn(e)),new tc(rn(e.g),e.h);if(30<n.g.length){if(Qi(n)||Qi(e))throw Error("slowDivide_ only works with positive integers.");for(var t=y1,i=e;0>=i.X(n);)t=AP(t),i=AP(i);var r=ql(t,1),s=ql(i,1);for(i=ql(i,2),t=ql(t,2);!os(i);){var o=s.add(i);0>=o.X(n)&&(r=r.add(t),s=o),i=ql(i,1),t=ql(t,1)}return e=xg(n,r.R(e)),new tc(r,e)}for(r=ka;0<=n.X(e);){for(t=Math.max(1,Math.floor(n.ea()/e.ea())),i=Math.ceil(Math.log(t)/Math.LN2),i=48>=i?1:Math.pow(2,i-48),s=br(t),o=s.R(e);Qi(o)||0<o.X(n);)t-=i,s=br(t),o=s.R(e);os(s)&&(s=y1),r=r.add(s),n=xg(n,o)}return new tc(r,n)}H.gb=function(n){return Tg(this,n).h};H.and=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],i=0;i<e;i++)t[i]=this.D(i)&n.D(i);return new Fe(t,this.h&n.h)};H.or=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],i=0;i<e;i++)t[i]=this.D(i)|n.D(i);return new Fe(t,this.h|n.h)};H.xor=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],i=0;i<e;i++)t[i]=this.D(i)^n.D(i);return new Fe(t,this.h^n.h)};function AP(n){for(var e=n.g.length+1,t=[],i=0;i<e;i++)t[i]=n.D(i)<<1|n.D(i-1)>>>31;return new Fe(t,n.h)}function ql(n,e){var t=e>>5;e%=32;for(var i=n.g.length-t,r=[],s=0;s<i;s++)r[s]=0<e?n.D(s+t)>>>e|n.D(s+t+1)<<32-e:n.D(s+t);return new Fe(r,n.h)}_g.prototype.createWebChannel=_g.prototype.g;vi.prototype.send=vi.prototype.u;vi.prototype.open=vi.prototype.m;vi.prototype.close=vi.prototype.close;Qm.NO_ERROR=0;Qm.TIMEOUT=8;Qm.HTTP_ERROR=6;b$.COMPLETE="complete";C$.EventType=Jh;Jh.OPEN="a";Jh.CLOSE="b";Jh.ERROR="c";Jh.MESSAGE="d";Gt.prototype.listen=Gt.prototype.O;St.prototype.listenOnce=St.prototype.P;St.prototype.getLastError=St.prototype.Sa;St.prototype.getLastErrorCode=St.prototype.Ia;St.prototype.getStatus=St.prototype.da;St.prototype.getResponseJson=St.prototype.Wa;St.prototype.getResponseText=St.prototype.ja;St.prototype.send=St.prototype.ha;St.prototype.setWithCredentials=St.prototype.Oa;lr.prototype.digest=lr.prototype.l;lr.prototype.reset=lr.prototype.reset;lr.prototype.update=lr.prototype.j;Fe.prototype.add=Fe.prototype.add;Fe.prototype.multiply=Fe.prototype.R;Fe.prototype.modulo=Fe.prototype.gb;Fe.prototype.compare=Fe.prototype.X;Fe.prototype.toNumber=Fe.prototype.ea;Fe.prototype.toString=Fe.prototype.toString;Fe.prototype.getBits=Fe.prototype.D;Fe.fromNumber=br;Fe.fromString=c2;var e6=function(){return new _g},t6=function(){return $m()},ky=Qm,n6=b$,i6=Pl,IP={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},r6=nf,Ld=C$,s6=St,o6=lr,Ea=Fe;const RP="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}yn.UNAUTHENTICATED=new yn(null),yn.GOOGLE_CREDENTIALS=new yn("google-credentials-uid"),yn.FIRST_PARTY=new yn("first-party-uid"),yn.MOCK_USER=new yn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let pu="10.5.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ol=new ES("@firebase/firestore");function nc(){return Ol.logLevel}function le(n,...e){if(Ol.logLevel<=Qe.DEBUG){const t=e.map(HS);Ol.debug(`Firestore (${pu}): ${n}`,...t)}}function Os(n,...e){if(Ol.logLevel<=Qe.ERROR){const t=e.map(HS);Ol.error(`Firestore (${pu}): ${n}`,...t)}}function za(n,...e){if(Ol.logLevel<=Qe.WARN){const t=e.map(HS);Ol.warn(`Firestore (${pu}): ${n}`,...t)}}function HS(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ge(n="Unexpected state"){const e=`FIRESTORE (${pu}) INTERNAL ASSERTION FAILED: `+n;throw Os(e),new Error(e)}function ot(n,e){n||ge()}function _e(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class re extends ks{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cs{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h2{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class l6{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(yn.UNAUTHENTICATED))}shutdown(){}}class a6{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class u6{constructor(e){this.t=e,this.currentUser=yn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){let i=this.i;const r=u=>this.i!==i?(i=this.i,t(u)):Promise.resolve();let s=new cs;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new cs,e.enqueueRetryable(()=>r(this.currentUser))};const o=()=>{const u=s;e.enqueueRetryable(async()=>{await u.promise,await r(this.currentUser)})},l=u=>{le("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(u=>l(u)),setTimeout(()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?l(u):(le("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new cs)}},0),o()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(i=>this.i!==e?(le("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(ot(typeof i.accessToken=="string"),new h2(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return ot(e===null||typeof e=="string"),new yn(e)}}class c6{constructor(e,t,i){this.l=e,this.h=t,this.P=i,this.type="FirstParty",this.user=yn.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class h6{constructor(e,t,i){this.l=e,this.h=t,this.P=i}getToken(){return Promise.resolve(new c6(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(yn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class f6{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class d6{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){const i=s=>{s.error!=null&&le("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.R;return this.R=s.token,le("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?t(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>i(s))};const r=s=>{le("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>r(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?r(s):le("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(ot(typeof t.token=="string"),this.R=t.token,new f6(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p6(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let i=0;i<n;i++)t[i]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f2{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let i="";for(;i.length<20;){const r=p6(40);for(let s=0;s<r.length;++s)i.length<20&&r[s]<t&&(i+=e.charAt(r[s]%e.length))}return i}}function Ze(n,e){return n<e?-1:n>e?1:0}function Xa(n,e,t){return n.length===e.length&&n.every((i,r)=>t(i,e[r]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yt{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new re(U.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new re(U.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new re(U.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new re(U.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Yt.fromMillis(Date.now())}static fromDate(e){return Yt.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),i=Math.floor(1e6*(e-1e3*t));return new Yt(t,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Ze(this.nanoseconds,e.nanoseconds):Ze(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ye{constructor(e){this.timestamp=e}static fromTimestamp(e){return new ye(e)}static min(){return new ye(new Yt(0,0))}static max(){return new ye(new Yt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oh{constructor(e,t,i){t===void 0?t=0:t>e.length&&ge(),i===void 0?i=e.length-t:i>e.length-t&&ge(),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return Oh.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Oh?e.forEach(i=>{t.push(i)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const i=Math.min(e.length,t.length);for(let r=0;r<i;r++){const s=e.get(r),o=t.get(r);if(s<o)return-1;if(s>o)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class it extends Oh{construct(e,t,i){return new it(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const i of e){if(i.indexOf("//")>=0)throw new re(U.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter(r=>r.length>0))}return new it(t)}static emptyPath(){return new it([])}}const g6=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ln extends Oh{construct(e,t,i){return new ln(e,t,i)}static isValidIdentifier(e){return g6.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ln.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new ln(["__name__"])}static fromServerFormat(e){const t=[];let i="",r=0;const s=()=>{if(i.length===0)throw new re(U.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""};let o=!1;for(;r<e.length;){const l=e[r];if(l==="\\"){if(r+1===e.length)throw new re(U.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[r+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new re(U.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=u,r+=2}else l==="`"?(o=!o,r++):l!=="."||o?(i+=l,r++):(s(),r++)}if(s(),o)throw new re(U.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new ln(t)}static emptyPath(){return new ln([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ce{constructor(e){this.path=e}static fromPath(e){return new ce(it.fromString(e))}static fromName(e){return new ce(it.fromString(e).popFirst(5))}static empty(){return new ce(it.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&it.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return it.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ce(new it(e.slice()))}}function m6(n,e){const t=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,r=ye.fromTimestamp(i===1e9?new Yt(t+1,0):new Yt(t,i));return new So(r,ce.empty(),e)}function O6(n){return new So(n.readTime,n.key,-1)}class So{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new So(ye.min(),ce.empty(),-1)}static max(){return new So(ye.max(),ce.empty(),-1)}}function y6(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=ce.comparator(n.documentKey,e.documentKey),t!==0?t:Ze(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v6="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class w6{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function of(n){if(n.code!==U.FAILED_PRECONDITION||n.message!==v6)throw n;le("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&ge(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Y((i,r)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(i,r)},this.catchCallback=s=>{this.wrapFailure(t,s).next(i,r)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof Y?t:Y.resolve(t)}catch(t){return Y.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):Y.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):Y.reject(t)}static resolve(e){return new Y((t,i)=>{t(e)})}static reject(e){return new Y((t,i)=>{i(e)})}static waitFor(e){return new Y((t,i)=>{let r=0,s=0,o=!1;e.forEach(l=>{++r,l.next(()=>{++s,o&&s===r&&t()},u=>i(u))}),o=!0,s===r&&t()})}static or(e){let t=Y.resolve(!1);for(const i of e)t=t.next(r=>r?Y.resolve(r):i());return t}static forEach(e,t){const i=[];return e.forEach((r,s)=>{i.push(t.call(this,r,s))}),this.waitFor(i)}static mapArray(e,t){return new Y((i,r)=>{const s=e.length,o=new Array(s);let l=0;for(let u=0;u<s;u++){const h=u;t(e[h]).next(f=>{o[h]=f,++l,l===s&&i(o)},f=>r(f))}})}static doWhile(e,t){return new Y((i,r)=>{const s=()=>{e()===!0?t().next(()=>{s()},r):i()};s()})}}function lf(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KS{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=i=>this.se(i),this.oe=i=>t.writeSequenceNumber(i))}se(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.oe&&this.oe(e),e}}KS._e=-1;function Bm(n){return n==null}function kg(n){return n===0&&1/n==-1/0}function S6(n){return typeof n=="number"&&Number.isInteger(n)&&!kg(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $P(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function gu(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function d2(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mt{constructor(e,t){this.comparator=e,this.root=t||nn.EMPTY}insert(e,t){return new mt(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,nn.BLACK,null,null))}remove(e){return new mt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,nn.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const i=this.comparator(e,t.key);if(i===0)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){const r=this.comparator(e,i.key);if(r===0)return t+i.left.size;r<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,i)=>(e(t,i),!1))}toString(){const e=[];return this.inorderTraversal((t,i)=>(e.push(`${t}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Vd(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Vd(this.root,e,this.comparator,!1)}getReverseIterator(){return new Vd(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Vd(this.root,e,this.comparator,!0)}}class Vd{constructor(e,t,i,r){this.isReverse=r,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=t?i(e.key,t):1,t&&r&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class nn{constructor(e,t,i,r,s){this.key=e,this.value=t,this.color=i??nn.RED,this.left=r??nn.EMPTY,this.right=s??nn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,r,s){return new nn(e??this.key,t??this.value,i??this.color,r??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let r=this;const s=i(e,r.key);return r=s<0?r.copy(null,null,null,r.left.insert(e,t,i),null):s===0?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return nn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),t(e,r.key)===0){if(r.right.isEmpty())return nn.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,nn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,nn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ge();const e=this.left.check();if(e!==this.right.check())throw ge();return e+(this.isRed()?0:1)}}nn.EMPTY=null,nn.RED=!0,nn.BLACK=!1;nn.EMPTY=new class{constructor(){this.size=0}get key(){throw ge()}get value(){throw ge()}get color(){throw ge()}get left(){throw ge()}get right(){throw ge()}copy(e,t,i,r,s){return this}insert(e,t,i){return new nn(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hn{constructor(e){this.comparator=e,this.data=new mt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,i)=>(e(t),!1))}forEachInRange(e,t){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const r=i.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let i;for(i=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new QP(this.data.getIterator())}getIteratorFrom(e){return new QP(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(i=>{t=t.add(i)}),t}isEqual(e){if(!(e instanceof hn)||this.size!==e.size)return!1;const t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){const r=t.getNext().key,s=i.getNext().key;if(this.comparator(r,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new hn(this.comparator);return t.data=e,t}}class QP{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nr{constructor(e){this.fields=e,e.sort(ln.comparator)}static empty(){return new nr([])}unionWith(e){let t=new hn(ln.comparator);for(const i of this.fields)t=t.add(i);for(const i of e)t=t.add(i);return new nr(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Xa(this.fields,e.fields,(t,i)=>t.isEqual(i))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p2 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cn{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(r){try{return atob(r)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new p2("Invalid base64 string: "+s):s}}(e);return new Cn(t)}static fromUint8Array(e){const t=function(r){let s="";for(let o=0;o<r.length;++o)s+=String.fromCharCode(r[o]);return s}(e);return new Cn(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const i=new Uint8Array(t.length);for(let r=0;r<t.length;r++)i[r]=t.charCodeAt(r);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ze(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Cn.EMPTY_BYTE_STRING=new Cn("");const _6=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function _o(n){if(ot(!!n),typeof n=="string"){let e=0;const t=_6.exec(n);if(ot(!!t),t[1]){let r=t[1];r=(r+"000000000").substr(0,9),e=Number(r)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:At(n.seconds),nanos:At(n.nanos)}}function At(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function yl(n){return typeof n=="string"?Cn.fromBase64String(n):Cn.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JS(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="server_timestamp"}function e_(n){const e=n.mapValue.fields.__previous_value__;return JS(e)?e_(e):e}function yh(n){const e=_o(n.mapValue.fields.__local_write_time__.timestampValue);return new Yt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x6{constructor(e,t,i,r,s,o,l,u,h){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=r,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=l,this.longPollingOptions=u,this.useFetchStreams=h}}class vh{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new vh("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof vh&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zd={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function vl(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?JS(n)?4:T6(n)?9007199254740991:10:ge()}function Vr(n,e){if(n===e)return!0;const t=vl(n);if(t!==vl(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return yh(n).isEqual(yh(e));case 3:return function(r,s){if(typeof r.timestampValue=="string"&&typeof s.timestampValue=="string"&&r.timestampValue.length===s.timestampValue.length)return r.timestampValue===s.timestampValue;const o=_o(r.timestampValue),l=_o(s.timestampValue);return o.seconds===l.seconds&&o.nanos===l.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(r,s){return yl(r.bytesValue).isEqual(yl(s.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(r,s){return At(r.geoPointValue.latitude)===At(s.geoPointValue.latitude)&&At(r.geoPointValue.longitude)===At(s.geoPointValue.longitude)}(n,e);case 2:return function(r,s){if("integerValue"in r&&"integerValue"in s)return At(r.integerValue)===At(s.integerValue);if("doubleValue"in r&&"doubleValue"in s){const o=At(r.doubleValue),l=At(s.doubleValue);return o===l?kg(o)===kg(l):isNaN(o)&&isNaN(l)}return!1}(n,e);case 9:return Xa(n.arrayValue.values||[],e.arrayValue.values||[],Vr);case 10:return function(r,s){const o=r.mapValue.fields||{},l=s.mapValue.fields||{};if($P(o)!==$P(l))return!1;for(const u in o)if(o.hasOwnProperty(u)&&(l[u]===void 0||!Vr(o[u],l[u])))return!1;return!0}(n,e);default:return ge()}}function wh(n,e){return(n.values||[]).find(t=>Vr(t,e))!==void 0}function ja(n,e){if(n===e)return 0;const t=vl(n),i=vl(e);if(t!==i)return Ze(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return Ze(n.booleanValue,e.booleanValue);case 2:return function(s,o){const l=At(s.integerValue||s.doubleValue),u=At(o.integerValue||o.doubleValue);return l<u?-1:l>u?1:l===u?0:isNaN(l)?isNaN(u)?0:-1:1}(n,e);case 3:return DP(n.timestampValue,e.timestampValue);case 4:return DP(yh(n),yh(e));case 5:return Ze(n.stringValue,e.stringValue);case 6:return function(s,o){const l=yl(s),u=yl(o);return l.compareTo(u)}(n.bytesValue,e.bytesValue);case 7:return function(s,o){const l=s.split("/"),u=o.split("/");for(let h=0;h<l.length&&h<u.length;h++){const f=Ze(l[h],u[h]);if(f!==0)return f}return Ze(l.length,u.length)}(n.referenceValue,e.referenceValue);case 8:return function(s,o){const l=Ze(At(s.latitude),At(o.latitude));return l!==0?l:Ze(At(s.longitude),At(o.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(s,o){const l=s.values||[],u=o.values||[];for(let h=0;h<l.length&&h<u.length;++h){const f=ja(l[h],u[h]);if(f)return f}return Ze(l.length,u.length)}(n.arrayValue,e.arrayValue);case 10:return function(s,o){if(s===Zd.mapValue&&o===Zd.mapValue)return 0;if(s===Zd.mapValue)return 1;if(o===Zd.mapValue)return-1;const l=s.fields||{},u=Object.keys(l),h=o.fields||{},f=Object.keys(h);u.sort(),f.sort();for(let p=0;p<u.length&&p<f.length;++p){const g=Ze(u[p],f[p]);if(g!==0)return g;const O=ja(l[u[p]],h[f[p]]);if(O!==0)return O}return Ze(u.length,f.length)}(n.mapValue,e.mapValue);default:throw ge()}}function DP(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return Ze(n,e);const t=_o(n),i=_o(e),r=Ze(t.seconds,i.seconds);return r!==0?r:Ze(t.nanos,i.nanos)}function qa(n){return v1(n)}function v1(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const i=_o(t);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return yl(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return ce.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let i="[",r=!0;for(const s of t.values||[])r?r=!1:i+=",",i+=v1(s);return i+"]"}(n.arrayValue):"mapValue"in n?function(t){const i=Object.keys(t.fields||{}).sort();let r="{",s=!0;for(const o of i)s?s=!1:r+=",",r+=`${o}:${v1(t.fields[o])}`;return r+"}"}(n.mapValue):ge()}function MP(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function w1(n){return!!n&&"integerValue"in n}function t_(n){return!!n&&"arrayValue"in n}function NP(n){return!!n&&"nullValue"in n}function LP(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function xp(n){return!!n&&"mapValue"in n}function Dc(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return gu(n.mapValue.fields,(t,i)=>e.mapValue.fields[t]=Dc(i)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Dc(n.arrayValue.values[t]);return e}return Object.assign({},n)}function T6(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Di{constructor(e){this.value=e}static empty(){return new Di({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!xp(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Dc(t)}setAll(e){let t=ln.emptyPath(),i={},r=[];e.forEach((o,l)=>{if(!t.isImmediateParentOf(l)){const u=this.getFieldsMap(t);this.applyChanges(u,i,r),i={},r=[],t=l.popLast()}o?i[l.lastSegment()]=Dc(o):r.push(l.lastSegment())});const s=this.getFieldsMap(t);this.applyChanges(s,i,r)}delete(e){const t=this.field(e.popLast());xp(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Vr(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let r=t.mapValue.fields[e.get(i)];xp(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,i){gu(t,(r,s)=>e[r]=s);for(const r of i)delete e[r]}clone(){return new Di(Dc(this.value))}}function g2(n){const e=[];return gu(n.fields,(t,i)=>{const r=new ln([t]);if(xp(i)){const s=g2(i.mapValue).fields;if(s.length===0)e.push(r);else for(const o of s)e.push(r.child(o))}else e.push(r)}),new nr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sn{constructor(e,t,i,r,s,o,l){this.key=e,this.documentType=t,this.version=i,this.readTime=r,this.createTime=s,this.data=o,this.documentState=l}static newInvalidDocument(e){return new Sn(e,0,ye.min(),ye.min(),ye.min(),Di.empty(),0)}static newFoundDocument(e,t,i,r){return new Sn(e,1,t,ye.min(),i,r,0)}static newNoDocument(e,t){return new Sn(e,2,t,ye.min(),ye.min(),Di.empty(),0)}static newUnknownDocument(e,t){return new Sn(e,3,t,ye.min(),ye.min(),Di.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(ye.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Di.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Di.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ye.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Sn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Sn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eg{constructor(e,t){this.position=e,this.inclusive=t}}function VP(n,e,t){let i=0;for(let r=0;r<n.position.length;r++){const s=e[r],o=n.position[r];if(s.field.isKeyField()?i=ce.comparator(ce.fromName(o.referenceValue),t.key):i=ja(o,t.data.field(s.field)),s.dir==="desc"&&(i*=-1),i!==0)break}return i}function ZP(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Vr(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pg{constructor(e,t="asc"){this.field=e,this.dir=t}}function k6(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m2{}class Rt extends m2{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,i):new P6(e,t,i):t==="array-contains"?new A6(e,i):t==="in"?new I6(e,i):t==="not-in"?new R6(e,i):t==="array-contains-any"?new $6(e,i):new Rt(e,t,i)}static createKeyFieldInFilter(e,t,i){return t==="in"?new b6(e,i):new C6(e,i)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(ja(t,this.value)):t!==null&&vl(this.value)===vl(t)&&this.matchesComparison(ja(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ge()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ar extends m2{constructor(e,t){super(),this.filters=e,this.op=t,this.ue=null}static create(e,t){return new ar(e,t)}matches(e){return O2(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.ue!==null||(this.ue=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ue}getFilters(){return Object.assign([],this.filters)}}function O2(n){return n.op==="and"}function y2(n){return E6(n)&&O2(n)}function E6(n){for(const e of n.filters)if(e instanceof ar)return!1;return!0}function S1(n){if(n instanceof Rt)return n.field.canonicalString()+n.op.toString()+qa(n.value);if(y2(n))return n.filters.map(e=>S1(e)).join(",");{const e=n.filters.map(t=>S1(t)).join(",");return`${n.op}(${e})`}}function v2(n,e){return n instanceof Rt?function(i,r){return r instanceof Rt&&i.op===r.op&&i.field.isEqual(r.field)&&Vr(i.value,r.value)}(n,e):n instanceof ar?function(i,r){return r instanceof ar&&i.op===r.op&&i.filters.length===r.filters.length?i.filters.reduce((s,o,l)=>s&&v2(o,r.filters[l]),!0):!1}(n,e):void ge()}function w2(n){return n instanceof Rt?function(t){return`${t.field.canonicalString()} ${t.op} ${qa(t.value)}`}(n):n instanceof ar?function(t){return t.op.toString()+" {"+t.getFilters().map(w2).join(" ,")+"}"}(n):"Filter"}class P6 extends Rt{constructor(e,t,i){super(e,t,i),this.key=ce.fromName(i.referenceValue)}matches(e){const t=ce.comparator(e.key,this.key);return this.matchesComparison(t)}}class b6 extends Rt{constructor(e,t){super(e,"in",t),this.keys=S2("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class C6 extends Rt{constructor(e,t){super(e,"not-in",t),this.keys=S2("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function S2(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(i=>ce.fromName(i.referenceValue))}class A6 extends Rt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return t_(t)&&wh(t.arrayValue,this.value)}}class I6 extends Rt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&wh(this.value.arrayValue,t)}}class R6 extends Rt{constructor(e,t){super(e,"not-in",t)}matches(e){if(wh(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&!wh(this.value.arrayValue,t)}}class $6 extends Rt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!t_(t)||!t.arrayValue.values)&&t.arrayValue.values.some(i=>wh(this.value.arrayValue,i))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q6{constructor(e,t=null,i=[],r=[],s=null,o=null,l=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=r,this.limit=s,this.startAt=o,this.endAt=l,this.ce=null}}function UP(n,e=null,t=[],i=[],r=null,s=null,o=null){return new Q6(n,e,t,i,r,s,o)}function n_(n){const e=_e(n);if(e.ce===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(i=>S1(i)).join(","),t+="|ob:",t+=e.orderBy.map(i=>function(s){return s.field.canonicalString()+s.dir}(i)).join(","),Bm(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(i=>qa(i)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(i=>qa(i)).join(",")),e.ce=t}return e.ce}function i_(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!k6(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!v2(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!ZP(n.startAt,e.startAt)&&ZP(n.endAt,e.endAt)}function _1(n){return ce.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class af{constructor(e,t=null,i=[],r=[],s=null,o="F",l=null,u=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=r,this.limit=s,this.limitType=o,this.startAt=l,this.endAt=u,this.le=null,this.he=null,this.Pe=null,this.startAt,this.endAt}}function D6(n,e,t,i,r,s,o,l){return new af(n,e,t,i,r,s,o,l)}function r_(n){return new af(n)}function BP(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function _2(n){return n.collectionGroup!==null}function Mc(n){const e=_e(n);if(e.le===null){e.le=[];const t=new Set;for(const s of e.explicitOrderBy)e.le.push(s),t.add(s.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let l=new hn(ln.comparator);return o.filters.forEach(u=>{u.getFlattenedFilters().forEach(h=>{h.isInequality()&&(l=l.add(h.field))})}),l})(e).forEach(s=>{t.has(s.canonicalString())||s.isKeyField()||e.le.push(new Pg(s,i))}),t.has(ln.keyField().canonicalString())||e.le.push(new Pg(ln.keyField(),i))}return e.le}function Qr(n){const e=_e(n);return e.he||(e.he=M6(e,Mc(n))),e.he}function M6(n,e){if(n.limitType==="F")return UP(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(r=>{const s=r.dir==="desc"?"asc":"desc";return new Pg(r.field,s)});const t=n.endAt?new Eg(n.endAt.position,n.endAt.inclusive):null,i=n.startAt?new Eg(n.startAt.position,n.startAt.inclusive):null;return UP(n.path,n.collectionGroup,e,n.filters,n.limit,t,i)}}function x1(n,e){const t=n.filters.concat([e]);return new af(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function T1(n,e,t){return new af(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Wm(n,e){return i_(Qr(n),Qr(e))&&n.limitType===e.limitType}function x2(n){return`${n_(Qr(n))}|lt:${n.limitType}`}function Hl(n){return`Query(target=${function(t){let i=t.path.canonicalString();return t.collectionGroup!==null&&(i+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(i+=`, filters: [${t.filters.map(r=>w2(r)).join(", ")}]`),Bm(t.limit)||(i+=", limit: "+t.limit),t.orderBy.length>0&&(i+=`, orderBy: [${t.orderBy.map(r=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(r)).join(", ")}]`),t.startAt&&(i+=", startAt: ",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map(r=>qa(r)).join(",")),t.endAt&&(i+=", endAt: ",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map(r=>qa(r)).join(",")),`Target(${i})`}(Qr(n))}; limitType=${n.limitType})`}function Ym(n,e){return e.isFoundDocument()&&function(i,r){const s=r.key.path;return i.collectionGroup!==null?r.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(s):ce.isDocumentKey(i.path)?i.path.isEqual(s):i.path.isImmediateParentOf(s)}(n,e)&&function(i,r){for(const s of Mc(i))if(!s.field.isKeyField()&&r.data.field(s.field)===null)return!1;return!0}(n,e)&&function(i,r){for(const s of i.filters)if(!s.matches(r))return!1;return!0}(n,e)&&function(i,r){return!(i.startAt&&!function(o,l,u){const h=VP(o,l,u);return o.inclusive?h<=0:h<0}(i.startAt,Mc(i),r)||i.endAt&&!function(o,l,u){const h=VP(o,l,u);return o.inclusive?h>=0:h>0}(i.endAt,Mc(i),r))}(n,e)}function N6(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function T2(n){return(e,t)=>{let i=!1;for(const r of Mc(n)){const s=L6(r,e,t);if(s!==0)return s;i=i||r.field.isKeyField()}return 0}}function L6(n,e,t){const i=n.field.isKeyField()?ce.comparator(e.key,t.key):function(s,o,l){const u=o.data.field(s),h=l.data.field(s);return u!==null&&h!==null?ja(u,h):ge()}(n.field,e,t);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return ge()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mu{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i!==void 0){for(const[r,s]of i)if(this.equalsFn(r,e))return s}}has(e){return this.get(e)!==void 0}set(e,t){const i=this.mapKeyFn(e),r=this.inner[i];if(r===void 0)return this.inner[i]=[[e,t]],void this.innerSize++;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return void(r[s]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i===void 0)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],e))return i.length===1?delete this.inner[t]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(e){gu(this.inner,(t,i)=>{for(const[r,s]of i)e(r,s)})}isEmpty(){return d2(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V6=new mt(ce.comparator);function ys(){return V6}const k2=new mt(ce.comparator);function mc(...n){let e=k2;for(const t of n)e=e.insert(t.key,t);return e}function E2(n){let e=k2;return n.forEach((t,i)=>e=e.insert(t,i.overlayedDocument)),e}function tl(){return Nc()}function P2(){return Nc()}function Nc(){return new mu(n=>n.toString(),(n,e)=>n.isEqual(e))}const Z6=new mt(ce.comparator),U6=new hn(ce.comparator);function Ae(...n){let e=U6;for(const t of n)e=e.add(t);return e}const B6=new hn(Ze);function W6(){return B6}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b2(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:kg(e)?"-0":e}}function C2(n){return{integerValue:""+n}}function Y6(n,e){return S6(e)?C2(e):b2(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fm{constructor(){this._=void 0}}function F6(n,e,t){return n instanceof Sh?function(r,s){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return s&&JS(s)&&(s=e_(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(t,e):n instanceof _h?I2(n,e):n instanceof xh?R2(n,e):function(r,s){const o=A2(r,s),l=WP(o)+WP(r.Ie);return w1(o)&&w1(r.Ie)?C2(l):b2(r.serializer,l)}(n,e)}function z6(n,e,t){return n instanceof _h?I2(n,e):n instanceof xh?R2(n,e):t}function A2(n,e){return n instanceof bg?function(i){return w1(i)||function(s){return!!s&&"doubleValue"in s}(i)}(e)?e:{integerValue:0}:null}class Sh extends Fm{}class _h extends Fm{constructor(e){super(),this.elements=e}}function I2(n,e){const t=$2(e);for(const i of n.elements)t.some(r=>Vr(r,i))||t.push(i);return{arrayValue:{values:t}}}class xh extends Fm{constructor(e){super(),this.elements=e}}function R2(n,e){let t=$2(e);for(const i of n.elements)t=t.filter(r=>!Vr(r,i));return{arrayValue:{values:t}}}class bg extends Fm{constructor(e,t){super(),this.serializer=e,this.Ie=t}}function WP(n){return At(n.integerValue||n.doubleValue)}function $2(n){return t_(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X6{constructor(e,t){this.field=e,this.transform=t}}function j6(n,e){return n.field.isEqual(e.field)&&function(i,r){return i instanceof _h&&r instanceof _h||i instanceof xh&&r instanceof xh?Xa(i.elements,r.elements,Vr):i instanceof bg&&r instanceof bg?Vr(i.Ie,r.Ie):i instanceof Sh&&r instanceof Sh}(n.transform,e.transform)}class q6{constructor(e,t){this.version=e,this.transformResults=t}}class hs{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new hs}static exists(e){return new hs(void 0,e)}static updateTime(e){return new hs(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Tp(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class zm{}function Q2(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new M2(n.key,hs.none()):new uf(n.key,n.data,hs.none());{const t=n.data,i=Di.empty();let r=new hn(ln.comparator);for(let s of e.fields)if(!r.has(s)){let o=t.field(s);o===null&&s.length>1&&(s=s.popLast(),o=t.field(s)),o===null?i.delete(s):i.set(s,o),r=r.add(s)}return new bl(n.key,i,new nr(r.toArray()),hs.none())}}function G6(n,e,t){n instanceof uf?function(r,s,o){const l=r.value.clone(),u=FP(r.fieldTransforms,s,o.transformResults);l.setAll(u),s.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(n,e,t):n instanceof bl?function(r,s,o){if(!Tp(r.precondition,s))return void s.convertToUnknownDocument(o.version);const l=FP(r.fieldTransforms,s,o.transformResults),u=s.data;u.setAll(D2(r)),u.setAll(l),s.convertToFoundDocument(o.version,u).setHasCommittedMutations()}(n,e,t):function(r,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,t)}function Lc(n,e,t,i){return n instanceof uf?function(s,o,l,u){if(!Tp(s.precondition,o))return l;const h=s.value.clone(),f=zP(s.fieldTransforms,u,o);return h.setAll(f),o.convertToFoundDocument(o.version,h).setHasLocalMutations(),null}(n,e,t,i):n instanceof bl?function(s,o,l,u){if(!Tp(s.precondition,o))return l;const h=zP(s.fieldTransforms,u,o),f=o.data;return f.setAll(D2(s)),f.setAll(h),o.convertToFoundDocument(o.version,f).setHasLocalMutations(),l===null?null:l.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(p=>p.field))}(n,e,t,i):function(s,o,l){return Tp(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):l}(n,e,t)}function H6(n,e){let t=null;for(const i of n.fieldTransforms){const r=e.data.field(i.field),s=A2(i.transform,r||null);s!=null&&(t===null&&(t=Di.empty()),t.set(i.field,s))}return t||null}function YP(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(i,r){return i===void 0&&r===void 0||!(!i||!r)&&Xa(i,r,(s,o)=>j6(s,o))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class uf extends zm{constructor(e,t,i,r=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class bl extends zm{constructor(e,t,i,r,s=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=r,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function D2(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const i=n.data.field(t);e.set(t,i)}}),e}function FP(n,e,t){const i=new Map;ot(n.length===t.length);for(let r=0;r<t.length;r++){const s=n[r],o=s.transform,l=e.data.field(s.field);i.set(s.field,z6(o,l,t[r]))}return i}function zP(n,e,t){const i=new Map;for(const r of n){const s=r.transform,o=t.data.field(r.field);i.set(r.field,F6(s,o,e))}return i}class M2 extends zm{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class K6 extends zm{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J6{constructor(e,t,i,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(e,t){const i=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const s=this.mutations[r];s.key.isEqual(e.key)&&G6(s,e,i[r])}}applyToLocalView(e,t){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(t=Lc(i,e,t,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(t=Lc(i,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const i=P2();return this.mutations.forEach(r=>{const s=e.get(r.key),o=s.overlayedDocument;let l=this.applyToLocalView(o,s.mutatedFields);l=t.has(r.key)?null:l;const u=Q2(o,l);u!==null&&i.set(r.key,u),o.isValidDocument()||o.convertToNoDocument(ye.min())}),i}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Ae())}isEqual(e){return this.batchId===e.batchId&&Xa(this.mutations,e.mutations,(t,i)=>YP(t,i))&&Xa(this.baseMutations,e.baseMutations,(t,i)=>YP(t,i))}}class s_{constructor(e,t,i,r){this.batch=e,this.commitVersion=t,this.mutationResults=i,this.docVersions=r}static from(e,t,i){ot(e.mutations.length===i.length);let r=function(){return Z6}();const s=e.mutations;for(let o=0;o<s.length;o++)r=r.insert(s[o].key,i[o].version);return new s_(e,t,i,r)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e7{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t7{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ct,De;function n7(n){switch(n){default:return ge();case U.CANCELLED:case U.UNKNOWN:case U.DEADLINE_EXCEEDED:case U.RESOURCE_EXHAUSTED:case U.INTERNAL:case U.UNAVAILABLE:case U.UNAUTHENTICATED:return!1;case U.INVALID_ARGUMENT:case U.NOT_FOUND:case U.ALREADY_EXISTS:case U.PERMISSION_DENIED:case U.FAILED_PRECONDITION:case U.ABORTED:case U.OUT_OF_RANGE:case U.UNIMPLEMENTED:case U.DATA_LOSS:return!0}}function N2(n){if(n===void 0)return Os("GRPC error has no .code"),U.UNKNOWN;switch(n){case Ct.OK:return U.OK;case Ct.CANCELLED:return U.CANCELLED;case Ct.UNKNOWN:return U.UNKNOWN;case Ct.DEADLINE_EXCEEDED:return U.DEADLINE_EXCEEDED;case Ct.RESOURCE_EXHAUSTED:return U.RESOURCE_EXHAUSTED;case Ct.INTERNAL:return U.INTERNAL;case Ct.UNAVAILABLE:return U.UNAVAILABLE;case Ct.UNAUTHENTICATED:return U.UNAUTHENTICATED;case Ct.INVALID_ARGUMENT:return U.INVALID_ARGUMENT;case Ct.NOT_FOUND:return U.NOT_FOUND;case Ct.ALREADY_EXISTS:return U.ALREADY_EXISTS;case Ct.PERMISSION_DENIED:return U.PERMISSION_DENIED;case Ct.FAILED_PRECONDITION:return U.FAILED_PRECONDITION;case Ct.ABORTED:return U.ABORTED;case Ct.OUT_OF_RANGE:return U.OUT_OF_RANGE;case Ct.UNIMPLEMENTED:return U.UNIMPLEMENTED;case Ct.DATA_LOSS:return U.DATA_LOSS;default:return ge()}}(De=Ct||(Ct={}))[De.OK=0]="OK",De[De.CANCELLED=1]="CANCELLED",De[De.UNKNOWN=2]="UNKNOWN",De[De.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",De[De.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",De[De.NOT_FOUND=5]="NOT_FOUND",De[De.ALREADY_EXISTS=6]="ALREADY_EXISTS",De[De.PERMISSION_DENIED=7]="PERMISSION_DENIED",De[De.UNAUTHENTICATED=16]="UNAUTHENTICATED",De[De.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",De[De.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",De[De.ABORTED=10]="ABORTED",De[De.OUT_OF_RANGE=11]="OUT_OF_RANGE",De[De.UNIMPLEMENTED=12]="UNIMPLEMENTED",De[De.INTERNAL=13]="INTERNAL",De[De.UNAVAILABLE=14]="UNAVAILABLE",De[De.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i7(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r7=new Ea([4294967295,4294967295],0);function XP(n){const e=i7().encode(n),t=new o6;return t.update(e),new Uint8Array(t.digest())}function jP(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),i=e.getUint32(4,!0),r=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Ea([t,i],0),new Ea([r,s],0)]}class o_{constructor(e,t,i){if(this.bitmap=e,this.padding=t,this.hashCount=i,t<0||t>=8)throw new Oc(`Invalid padding: ${t}`);if(i<0)throw new Oc(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new Oc(`Invalid hash count: ${i}`);if(e.length===0&&t!==0)throw new Oc(`Invalid padding when bitmap length is 0: ${t}`);this.Te=8*e.length-t,this.Ee=Ea.fromNumber(this.Te)}de(e,t,i){let r=e.add(t.multiply(Ea.fromNumber(i)));return r.compare(r7)===1&&(r=new Ea([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Ee).toNumber()}Ae(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Te===0)return!1;const t=XP(e),[i,r]=jP(t);for(let s=0;s<this.hashCount;s++){const o=this.de(i,r,s);if(!this.Ae(o))return!1}return!0}static create(e,t,i){const r=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new o_(s,r,t);return i.forEach(l=>o.insert(l)),o}insert(e){if(this.Te===0)return;const t=XP(e),[i,r]=jP(t);for(let s=0;s<this.hashCount;s++){const o=this.de(i,r,s);this.Re(o)}}Re(e){const t=Math.floor(e/8),i=e%8;this.bitmap[t]|=1<<i}}class Oc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xm{constructor(e,t,i,r,s){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,t,i){const r=new Map;return r.set(e,cf.createSynthesizedTargetChangeForCurrentChange(e,t,i)),new Xm(ye.min(),r,new mt(Ze),ys(),Ae())}}class cf{constructor(e,t,i,r,s){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,t,i){return new cf(i,t,Ae(),Ae(),Ae())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kp{constructor(e,t,i,r){this.Ve=e,this.removedTargetIds=t,this.key=i,this.me=r}}class L2{constructor(e,t){this.targetId=e,this.fe=t}}class V2{constructor(e,t,i=Cn.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=r}}class qP{constructor(){this.ge=0,this.pe=HP(),this.ye=Cn.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}get current(){return this.we}get resumeToken(){return this.ye}get be(){return this.ge!==0}get De(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.ye=e)}ve(){let e=Ae(),t=Ae(),i=Ae();return this.pe.forEach((r,s)=>{switch(s){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:i=i.add(r);break;default:ge()}}),new cf(this.ye,this.we,e,t,i)}Fe(){this.Se=!1,this.pe=HP()}Me(e,t){this.Se=!0,this.pe=this.pe.insert(e,t)}xe(e){this.Se=!0,this.pe=this.pe.remove(e)}Oe(){this.ge+=1}Ne(){this.ge-=1}Be(){this.Se=!0,this.we=!0}}class s7{constructor(e){this.Le=e,this.ke=new Map,this.qe=ys(),this.Qe=GP(),this.Ke=new mt(Ze)}$e(e){for(const t of e.Ve)e.me&&e.me.isFoundDocument()?this.Ue(t,e.me):this.We(t,e.key,e.me);for(const t of e.removedTargetIds)this.We(t,e.key,e.me)}Ge(e){this.forEachTarget(e,t=>{const i=this.ze(t);switch(e.state){case 0:this.je(t)&&i.Ce(e.resumeToken);break;case 1:i.Ne(),i.be||i.Fe(),i.Ce(e.resumeToken);break;case 2:i.Ne(),i.be||this.removeTarget(t);break;case 3:this.je(t)&&(i.Be(),i.Ce(e.resumeToken));break;case 4:this.je(t)&&(this.He(t),i.Ce(e.resumeToken));break;default:ge()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ke.forEach((i,r)=>{this.je(r)&&t(r)})}Je(e){const t=e.targetId,i=e.fe.count,r=this.Ye(t);if(r){const s=r.target;if(_1(s))if(i===0){const o=new ce(s.path);this.We(t,o,Sn.newNoDocument(o,ye.min()))}else ot(i===1);else{const o=this.Ze(t);if(o!==i){const l=this.Xe(e),u=l?this.et(l,e,o):1;if(u!==0){this.He(t);const h=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(t,h)}}}}}Xe(e){const t=e.fe.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:i="",padding:r=0},hashCount:s=0}=t;let o,l;try{o=yl(i).toUint8Array()}catch(u){if(u instanceof p2)return za("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{l=new o_(o,r,s)}catch(u){return za(u instanceof Oc?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return l.Te===0?null:l}et(e,t,i){return t.fe.count===i-this.rt(e,t.targetId)?0:2}rt(e,t){const i=this.Le.getRemoteKeysForTarget(t);let r=0;return i.forEach(s=>{const o=this.Le.nt(),l=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(l)||(this.We(t,s,null),r++)}),r}it(e){const t=new Map;this.ke.forEach((s,o)=>{const l=this.Ye(o);if(l){if(s.current&&_1(l.target)){const u=new ce(l.target.path);this.qe.get(u)!==null||this.st(o,u)||this.We(o,u,Sn.newNoDocument(u,e))}s.De&&(t.set(o,s.ve()),s.Fe())}});let i=Ae();this.Qe.forEach((s,o)=>{let l=!0;o.forEachWhile(u=>{const h=this.Ye(u);return!h||h.purpose==="TargetPurposeLimboResolution"||(l=!1,!1)}),l&&(i=i.add(s))}),this.qe.forEach((s,o)=>o.setReadTime(e));const r=new Xm(e,t,this.Ke,this.qe,i);return this.qe=ys(),this.Qe=GP(),this.Ke=new mt(Ze),r}Ue(e,t){if(!this.je(e))return;const i=this.st(e,t.key)?2:0;this.ze(e).Me(t.key,i),this.qe=this.qe.insert(t.key,t),this.Qe=this.Qe.insert(t.key,this.ot(t.key).add(e))}We(e,t,i){if(!this.je(e))return;const r=this.ze(e);this.st(e,t)?r.Me(t,1):r.xe(t),this.Qe=this.Qe.insert(t,this.ot(t).delete(e)),i&&(this.qe=this.qe.insert(t,i))}removeTarget(e){this.ke.delete(e)}Ze(e){const t=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Oe(e){this.ze(e).Oe()}ze(e){let t=this.ke.get(e);return t||(t=new qP,this.ke.set(e,t)),t}ot(e){let t=this.Qe.get(e);return t||(t=new hn(Ze),this.Qe=this.Qe.insert(e,t)),t}je(e){const t=this.Ye(e)!==null;return t||le("WatchChangeAggregator","Detected inactive target",e),t}Ye(e){const t=this.ke.get(e);return t&&t.be?null:this.Le._t(e)}He(e){this.ke.set(e,new qP),this.Le.getRemoteKeysForTarget(e).forEach(t=>{this.We(e,t,null)})}st(e,t){return this.Le.getRemoteKeysForTarget(e).has(t)}}function GP(){return new mt(ce.comparator)}function HP(){return new mt(ce.comparator)}const o7=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),l7=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))(),a7=(()=>({and:"AND",or:"OR"}))();class u7{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function k1(n,e){return n.useProto3Json||Bm(e)?e:{value:e}}function Cg(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Z2(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function c7(n,e){return Cg(n,e.toTimestamp())}function Dr(n){return ot(!!n),ye.fromTimestamp(function(t){const i=_o(t);return new Yt(i.seconds,i.nanos)}(n))}function l_(n,e){return function(i){return new it(["projects",i.projectId,"databases",i.database])}(n).child("documents").child(e).canonicalString()}function U2(n){const e=it.fromString(n);return ot(F2(e)),e}function E1(n,e){return l_(n.databaseId,e.path)}function Ey(n,e){const t=U2(e);if(t.get(1)!==n.databaseId.projectId)throw new re(U.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new re(U.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new ce(B2(t))}function P1(n,e){return l_(n.databaseId,e)}function h7(n){const e=U2(n);return e.length===4?it.emptyPath():B2(e)}function b1(n){return new it(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function B2(n){return ot(n.length>4&&n.get(4)==="documents"),n.popFirst(5)}function KP(n,e,t){return{name:E1(n,e),fields:t.value.mapValue.fields}}function f7(n,e){let t;if("targetChange"in e){e.targetChange;const i=function(h){return h==="NO_CHANGE"?0:h==="ADD"?1:h==="REMOVE"?2:h==="CURRENT"?3:h==="RESET"?4:ge()}(e.targetChange.targetChangeType||"NO_CHANGE"),r=e.targetChange.targetIds||[],s=function(h,f){return h.useProto3Json?(ot(f===void 0||typeof f=="string"),Cn.fromBase64String(f||"")):(ot(f===void 0||f instanceof Uint8Array),Cn.fromUint8Array(f||new Uint8Array))}(n,e.targetChange.resumeToken),o=e.targetChange.cause,l=o&&function(h){const f=h.code===void 0?U.UNKNOWN:N2(h.code);return new re(f,h.message||"")}(o);t=new V2(i,r,s,l||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const r=Ey(n,i.document.name),s=Dr(i.document.updateTime),o=i.document.createTime?Dr(i.document.createTime):ye.min(),l=new Di({mapValue:{fields:i.document.fields}}),u=Sn.newFoundDocument(r,s,o,l),h=i.targetIds||[],f=i.removedTargetIds||[];t=new kp(h,f,u.key,u)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const r=Ey(n,i.document),s=i.readTime?Dr(i.readTime):ye.min(),o=Sn.newNoDocument(r,s),l=i.removedTargetIds||[];t=new kp([],l,o.key,o)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const r=Ey(n,i.document),s=i.removedTargetIds||[];t=new kp([],s,r,null)}else{if(!("filter"in e))return ge();{e.filter;const i=e.filter;i.targetId;const{count:r=0,unchangedNames:s}=i,o=new t7(r,s),l=i.targetId;t=new L2(l,o)}}return t}function d7(n,e){let t;if(e instanceof uf)t={update:KP(n,e.key,e.value)};else if(e instanceof M2)t={delete:E1(n,e.key)};else if(e instanceof bl)t={update:KP(n,e.key,e.data),updateMask:_7(e.fieldMask)};else{if(!(e instanceof K6))return ge();t={verify:E1(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(i=>function(s,o){const l=o.transform;if(l instanceof Sh)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof _h)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof xh)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof bg)return{fieldPath:o.field.canonicalString(),increment:l.Ie};throw ge()}(0,i))),e.precondition.isNone||(t.currentDocument=function(r,s){return s.updateTime!==void 0?{updateTime:c7(r,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:ge()}(n,e.precondition)),t}function p7(n,e){return n&&n.length>0?(ot(e!==void 0),n.map(t=>function(r,s){let o=r.updateTime?Dr(r.updateTime):Dr(s);return o.isEqual(ye.min())&&(o=Dr(s)),new q6(o,r.transformResults||[])}(t,e))):[]}function g7(n,e){return{documents:[P1(n,e.path)]}}function m7(n,e){const t={structuredQuery:{}},i=e.path;e.collectionGroup!==null?(t.parent=P1(n,i),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=P1(n,i.popLast()),t.structuredQuery.from=[{collectionId:i.lastSegment()}]);const r=function(u){if(u.length!==0)return Y2(ar.create(u,"and"))}(e.filters);r&&(t.structuredQuery.where=r);const s=function(u){if(u.length!==0)return u.map(h=>function(p){return{field:Kl(p.field),direction:v7(p.dir)}}(h))}(e.orderBy);s&&(t.structuredQuery.orderBy=s);const o=k1(n,e.limit);return o!==null&&(t.structuredQuery.limit=o),e.startAt&&(t.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),t}function O7(n){let e=h7(n.parent);const t=n.structuredQuery,i=t.from?t.from.length:0;let r=null;if(i>0){ot(i===1);const f=t.from[0];f.allDescendants?r=f.collectionId:e=e.child(f.collectionId)}let s=[];t.where&&(s=function(p){const g=W2(p);return g instanceof ar&&y2(g)?g.getFilters():[g]}(t.where));let o=[];t.orderBy&&(o=function(p){return p.map(g=>function(v){return new Pg(Jl(v.field),function(k){switch(k){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(v.direction))}(g))}(t.orderBy));let l=null;t.limit&&(l=function(p){let g;return g=typeof p=="object"?p.value:p,Bm(g)?null:g}(t.limit));let u=null;t.startAt&&(u=function(p){const g=!!p.before,O=p.values||[];return new Eg(O,g)}(t.startAt));let h=null;return t.endAt&&(h=function(p){const g=!p.before,O=p.values||[];return new Eg(O,g)}(t.endAt)),D6(e,r,o,s,l,"F",u,h)}function y7(n,e){const t=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ge()}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function W2(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const i=Jl(t.unaryFilter.field);return Rt.create(i,"==",{doubleValue:NaN});case"IS_NULL":const r=Jl(t.unaryFilter.field);return Rt.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=Jl(t.unaryFilter.field);return Rt.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Jl(t.unaryFilter.field);return Rt.create(o,"!=",{nullValue:"NULL_VALUE"});default:return ge()}}(n):n.fieldFilter!==void 0?function(t){return Rt.create(Jl(t.fieldFilter.field),function(r){switch(r){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ge()}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return ar.create(t.compositeFilter.filters.map(i=>W2(i)),function(r){switch(r){case"AND":return"and";case"OR":return"or";default:return ge()}}(t.compositeFilter.op))}(n):ge()}function v7(n){return o7[n]}function w7(n){return l7[n]}function S7(n){return a7[n]}function Kl(n){return{fieldPath:n.canonicalString()}}function Jl(n){return ln.fromServerFormat(n.fieldPath)}function Y2(n){return n instanceof Rt?function(t){if(t.op==="=="){if(LP(t.value))return{unaryFilter:{field:Kl(t.field),op:"IS_NAN"}};if(NP(t.value))return{unaryFilter:{field:Kl(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(LP(t.value))return{unaryFilter:{field:Kl(t.field),op:"IS_NOT_NAN"}};if(NP(t.value))return{unaryFilter:{field:Kl(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Kl(t.field),op:w7(t.op),value:t.value}}}(n):n instanceof ar?function(t){const i=t.getFilters().map(r=>Y2(r));return i.length===1?i[0]:{compositeFilter:{op:S7(t.op),filters:i}}}(n):ge()}function _7(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function F2(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hs{constructor(e,t,i,r,s=ye.min(),o=ye.min(),l=Cn.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=l,this.expectedCount=u}withSequenceNumber(e){return new Hs(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Hs(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Hs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Hs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x7{constructor(e){this.ut=e}}function T7(n){const e=O7({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?T1(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k7{constructor(){this.on=new E7}addToCollectionParentIndex(e,t){return this.on.add(t),Y.resolve()}getCollectionParents(e,t){return Y.resolve(this.on.getEntries(t))}addFieldIndex(e,t){return Y.resolve()}deleteFieldIndex(e,t){return Y.resolve()}deleteAllFieldIndexes(e){return Y.resolve()}createTargetIndexes(e,t){return Y.resolve()}getDocumentsMatchingTarget(e,t){return Y.resolve(null)}getIndexType(e,t){return Y.resolve(0)}getFieldIndexes(e,t){return Y.resolve([])}getNextCollectionGroupToUpdate(e){return Y.resolve(null)}getMinOffset(e,t){return Y.resolve(So.min())}getMinOffsetFromCollectionGroup(e,t){return Y.resolve(So.min())}updateCollectionGroup(e,t,i){return Y.resolve()}updateIndexEntries(e,t){return Y.resolve()}}class E7{constructor(){this.index={}}add(e){const t=e.lastSegment(),i=e.popLast(),r=this.index[t]||new hn(it.comparator),s=!r.has(i);return this.index[t]=r.add(i),s}has(e){const t=e.lastSegment(),i=e.popLast(),r=this.index[t];return r&&r.has(i)}getEntries(e){return(this.index[e]||new hn(it.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ga{constructor(e){this.xn=e}next(){return this.xn+=2,this.xn}static On(){return new Ga(0)}static Nn(){return new Ga(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P7{constructor(){this.changes=new mu(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Sn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const i=this.changes.get(t);return i!==void 0?Y.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b7{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C7{constructor(e,t,i,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=i,this.indexManager=r}getDocument(e,t){let i=null;return this.documentOverlayCache.getOverlay(e,t).next(r=>(i=r,this.remoteDocumentCache.getEntry(e,t))).next(r=>(i!==null&&Lc(i.mutation,r,nr.empty(),Yt.now()),r))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.getLocalViewOfDocuments(e,i,Ae()).next(()=>i))}getLocalViewOfDocuments(e,t,i=Ae()){const r=tl();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,i).next(s=>{let o=mc();return s.forEach((l,u)=>{o=o.insert(l,u.overlayedDocument)}),o}))}getOverlayedDocuments(e,t){const i=tl();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,Ae()))}populateOverlays(e,t,i){const r=[];return i.forEach(s=>{t.has(s)||r.push(s)}),this.documentOverlayCache.getOverlays(e,r).next(s=>{s.forEach((o,l)=>{t.set(o,l)})})}computeViews(e,t,i,r){let s=ys();const o=Nc(),l=function(){return Nc()}();return t.forEach((u,h)=>{const f=i.get(h.key);r.has(h.key)&&(f===void 0||f.mutation instanceof bl)?s=s.insert(h.key,h):f!==void 0?(o.set(h.key,f.mutation.getFieldMask()),Lc(f.mutation,h,f.mutation.getFieldMask(),Yt.now())):o.set(h.key,nr.empty())}),this.recalculateAndSaveOverlays(e,s).next(u=>(u.forEach((h,f)=>o.set(h,f)),t.forEach((h,f)=>{var p;return l.set(h,new b7(f,(p=o.get(h))!==null&&p!==void 0?p:null))}),l))}recalculateAndSaveOverlays(e,t){const i=Nc();let r=new mt((o,l)=>o-l),s=Ae();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(o=>{for(const l of o)l.keys().forEach(u=>{const h=t.get(u);if(h===null)return;let f=i.get(u)||nr.empty();f=l.applyToLocalView(h,f),i.set(u,f);const p=(r.get(l.batchId)||Ae()).add(u);r=r.insert(l.batchId,p)})}).next(()=>{const o=[],l=r.getReverseIterator();for(;l.hasNext();){const u=l.getNext(),h=u.key,f=u.value,p=P2();f.forEach(g=>{if(!s.has(g)){const O=Q2(t.get(g),i.get(g));O!==null&&p.set(g,O),s=s.add(g)}}),o.push(this.documentOverlayCache.saveOverlays(e,h,p))}return Y.waitFor(o)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,t,i,r){return function(o){return ce.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):_2(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,i,r):this.getDocumentsMatchingCollectionQuery(e,t,i,r)}getNextDocuments(e,t,i,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,i,r).next(s=>{const o=r-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,i.largestBatchId,r-s.size):Y.resolve(tl());let l=-1,u=s;return o.next(h=>Y.forEach(h,(f,p)=>(l<p.largestBatchId&&(l=p.largestBatchId),s.get(f)?Y.resolve():this.remoteDocumentCache.getEntry(e,f).next(g=>{u=u.insert(f,g)}))).next(()=>this.populateOverlays(e,h,s)).next(()=>this.computeViews(e,u,h,Ae())).next(f=>({batchId:l,changes:E2(f)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new ce(t)).next(i=>{let r=mc();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r})}getDocumentsMatchingCollectionGroupQuery(e,t,i,r){const s=t.collectionGroup;let o=mc();return this.indexManager.getCollectionParents(e,s).next(l=>Y.forEach(l,u=>{const h=function(p,g){return new af(g,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)}(t,u.child(s));return this.getDocumentsMatchingCollectionQuery(e,h,i,r).next(f=>{f.forEach((p,g)=>{o=o.insert(p,g)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,t,i,r){let s;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,i.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,i,s,r))).next(o=>{s.forEach((u,h)=>{const f=h.getKey();o.get(f)===null&&(o=o.insert(f,Sn.newInvalidDocument(f)))});let l=mc();return o.forEach((u,h)=>{const f=s.get(u);f!==void 0&&Lc(f.mutation,h,nr.empty(),Yt.now()),Ym(t,h)&&(l=l.insert(u,h))}),l})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A7{constructor(e){this.serializer=e,this.ur=new Map,this.cr=new Map}getBundleMetadata(e,t){return Y.resolve(this.ur.get(t))}saveBundleMetadata(e,t){return this.ur.set(t.id,function(r){return{id:r.id,version:r.version,createTime:Dr(r.createTime)}}(t)),Y.resolve()}getNamedQuery(e,t){return Y.resolve(this.cr.get(t))}saveNamedQuery(e,t){return this.cr.set(t.name,function(r){return{name:r.name,query:T7(r.bundledQuery),readTime:Dr(r.readTime)}}(t)),Y.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I7{constructor(){this.overlays=new mt(ce.comparator),this.lr=new Map}getOverlay(e,t){return Y.resolve(this.overlays.get(t))}getOverlays(e,t){const i=tl();return Y.forEach(t,r=>this.getOverlay(e,r).next(s=>{s!==null&&i.set(r,s)})).next(()=>i)}saveOverlays(e,t,i){return i.forEach((r,s)=>{this.lt(e,t,s)}),Y.resolve()}removeOverlaysForBatchId(e,t,i){const r=this.lr.get(i);return r!==void 0&&(r.forEach(s=>this.overlays=this.overlays.remove(s)),this.lr.delete(i)),Y.resolve()}getOverlaysForCollection(e,t,i){const r=tl(),s=t.length+1,o=new ce(t.child("")),l=this.overlays.getIteratorFrom(o);for(;l.hasNext();){const u=l.getNext().value,h=u.getKey();if(!t.isPrefixOf(h.path))break;h.path.length===s&&u.largestBatchId>i&&r.set(u.getKey(),u)}return Y.resolve(r)}getOverlaysForCollectionGroup(e,t,i,r){let s=new mt((h,f)=>h-f);const o=this.overlays.getIterator();for(;o.hasNext();){const h=o.getNext().value;if(h.getKey().getCollectionGroup()===t&&h.largestBatchId>i){let f=s.get(h.largestBatchId);f===null&&(f=tl(),s=s.insert(h.largestBatchId,f)),f.set(h.getKey(),h)}}const l=tl(),u=s.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((h,f)=>l.set(h,f)),!(l.size()>=r)););return Y.resolve(l)}lt(e,t,i){const r=this.overlays.get(i.key);if(r!==null){const o=this.lr.get(r.largestBatchId).delete(i.key);this.lr.set(r.largestBatchId,o)}this.overlays=this.overlays.insert(i.key,new e7(t,i));let s=this.lr.get(t);s===void 0&&(s=Ae(),this.lr.set(t,s)),this.lr.set(t,s.add(i.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a_{constructor(){this.hr=new hn(Xt.Pr),this.Ir=new hn(Xt.Tr)}isEmpty(){return this.hr.isEmpty()}addReference(e,t){const i=new Xt(e,t);this.hr=this.hr.add(i),this.Ir=this.Ir.add(i)}Er(e,t){e.forEach(i=>this.addReference(i,t))}removeReference(e,t){this.dr(new Xt(e,t))}Ar(e,t){e.forEach(i=>this.removeReference(i,t))}Rr(e){const t=new ce(new it([])),i=new Xt(t,e),r=new Xt(t,e+1),s=[];return this.Ir.forEachInRange([i,r],o=>{this.dr(o),s.push(o.key)}),s}Vr(){this.hr.forEach(e=>this.dr(e))}dr(e){this.hr=this.hr.delete(e),this.Ir=this.Ir.delete(e)}mr(e){const t=new ce(new it([])),i=new Xt(t,e),r=new Xt(t,e+1);let s=Ae();return this.Ir.forEachInRange([i,r],o=>{s=s.add(o.key)}),s}containsKey(e){const t=new Xt(e,0),i=this.hr.firstAfterOrEqual(t);return i!==null&&e.isEqual(i.key)}}class Xt{constructor(e,t){this.key=e,this.gr=t}static Pr(e,t){return ce.comparator(e.key,t.key)||Ze(e.gr,t.gr)}static Tr(e,t){return Ze(e.gr,t.gr)||ce.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R7{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.pr=1,this.yr=new hn(Xt.Pr)}checkEmpty(e){return Y.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,i,r){const s=this.pr;this.pr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new J6(s,t,i,r);this.mutationQueue.push(o);for(const l of r)this.yr=this.yr.add(new Xt(l.key,s)),this.indexManager.addToCollectionParentIndex(e,l.key.path.popLast());return Y.resolve(o)}lookupMutationBatch(e,t){return Y.resolve(this.wr(t))}getNextMutationBatchAfterBatchId(e,t){const i=t+1,r=this.Sr(i),s=r<0?0:r;return Y.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return Y.resolve(this.mutationQueue.length===0?-1:this.pr-1)}getAllMutationBatches(e){return Y.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const i=new Xt(t,0),r=new Xt(t,Number.POSITIVE_INFINITY),s=[];return this.yr.forEachInRange([i,r],o=>{const l=this.wr(o.gr);s.push(l)}),Y.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new hn(Ze);return t.forEach(r=>{const s=new Xt(r,0),o=new Xt(r,Number.POSITIVE_INFINITY);this.yr.forEachInRange([s,o],l=>{i=i.add(l.gr)})}),Y.resolve(this.br(i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,r=i.length+1;let s=i;ce.isDocumentKey(s)||(s=s.child(""));const o=new Xt(new ce(s),0);let l=new hn(Ze);return this.yr.forEachWhile(u=>{const h=u.key.path;return!!i.isPrefixOf(h)&&(h.length===r&&(l=l.add(u.gr)),!0)},o),Y.resolve(this.br(l))}br(e){const t=[];return e.forEach(i=>{const r=this.wr(i);r!==null&&t.push(r)}),t}removeMutationBatch(e,t){ot(this.Dr(t.batchId,"removed")===0),this.mutationQueue.shift();let i=this.yr;return Y.forEach(t.mutations,r=>{const s=new Xt(r.key,t.batchId);return i=i.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.yr=i})}Fn(e){}containsKey(e,t){const i=new Xt(t,0),r=this.yr.firstAfterOrEqual(i);return Y.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,Y.resolve()}Dr(e,t){return this.Sr(e)}Sr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}wr(e){const t=this.Sr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $7{constructor(e){this.Cr=e,this.docs=function(){return new mt(ce.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const i=t.key,r=this.docs.get(i),s=r?r.size:0,o=this.Cr(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const i=this.docs.get(t);return Y.resolve(i?i.document.mutableCopy():Sn.newInvalidDocument(t))}getEntries(e,t){let i=ys();return t.forEach(r=>{const s=this.docs.get(r);i=i.insert(r,s?s.document.mutableCopy():Sn.newInvalidDocument(r))}),Y.resolve(i)}getDocumentsMatchingQuery(e,t,i,r){let s=ys();const o=t.path,l=new ce(o.child("")),u=this.docs.getIteratorFrom(l);for(;u.hasNext();){const{key:h,value:{document:f}}=u.getNext();if(!o.isPrefixOf(h.path))break;h.path.length>o.length+1||y6(O6(f),i)<=0||(r.has(f.key)||Ym(t,f))&&(s=s.insert(f.key,f.mutableCopy()))}return Y.resolve(s)}getAllFromCollectionGroup(e,t,i,r){ge()}vr(e,t){return Y.forEach(this.docs,i=>t(i))}newChangeBuffer(e){return new Q7(this)}getSize(e){return Y.resolve(this.size)}}class Q7 extends P7{constructor(e){super(),this._r=e}applyChanges(e){const t=[];return this.changes.forEach((i,r)=>{r.isValidDocument()?t.push(this._r.addEntry(e,r)):this._r.removeEntry(i)}),Y.waitFor(t)}getFromCache(e,t){return this._r.getEntry(e,t)}getAllFromCache(e,t){return this._r.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D7{constructor(e){this.persistence=e,this.Fr=new mu(t=>n_(t),i_),this.lastRemoteSnapshotVersion=ye.min(),this.highestTargetId=0,this.Mr=0,this.Or=new a_,this.targetCount=0,this.Nr=Ga.On()}forEachTarget(e,t){return this.Fr.forEach((i,r)=>t(r)),Y.resolve()}getLastRemoteSnapshotVersion(e){return Y.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Y.resolve(this.Mr)}allocateTargetId(e){return this.highestTargetId=this.Nr.next(),Y.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this.Mr&&(this.Mr=t),Y.resolve()}kn(e){this.Fr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Nr=new Ga(t),this.highestTargetId=t),e.sequenceNumber>this.Mr&&(this.Mr=e.sequenceNumber)}addTargetData(e,t){return this.kn(t),this.targetCount+=1,Y.resolve()}updateTargetData(e,t){return this.kn(t),Y.resolve()}removeTargetData(e,t){return this.Fr.delete(t.target),this.Or.Rr(t.targetId),this.targetCount-=1,Y.resolve()}removeTargets(e,t,i){let r=0;const s=[];return this.Fr.forEach((o,l)=>{l.sequenceNumber<=t&&i.get(l.targetId)===null&&(this.Fr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,l.targetId)),r++)}),Y.waitFor(s).next(()=>r)}getTargetCount(e){return Y.resolve(this.targetCount)}getTargetData(e,t){const i=this.Fr.get(t)||null;return Y.resolve(i)}addMatchingKeys(e,t,i){return this.Or.Er(t,i),Y.resolve()}removeMatchingKeys(e,t,i){this.Or.Ar(t,i);const r=this.persistence.referenceDelegate,s=[];return r&&t.forEach(o=>{s.push(r.markPotentiallyOrphaned(e,o))}),Y.waitFor(s)}removeMatchingKeysForTargetId(e,t){return this.Or.Rr(t),Y.resolve()}getMatchingKeysForTargetId(e,t){const i=this.Or.mr(t);return Y.resolve(i)}containsKey(e,t){return Y.resolve(this.Or.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M7{constructor(e,t){this.Br={},this.overlays={},this.Lr=new KS(0),this.kr=!1,this.kr=!0,this.referenceDelegate=e(this),this.qr=new D7(this),this.indexManager=new k7,this.remoteDocumentCache=function(r){return new $7(r)}(i=>this.referenceDelegate.Qr(i)),this.serializer=new x7(t),this.Kr=new A7(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.kr=!1,Promise.resolve()}get started(){return this.kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new I7,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this.Br[e.toKey()];return i||(i=new R7(t,this.referenceDelegate),this.Br[e.toKey()]=i),i}getTargetCache(){return this.qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Kr}runTransaction(e,t,i){le("MemoryPersistence","Starting transaction:",e);const r=new N7(this.Lr.next());return this.referenceDelegate.$r(),i(r).next(s=>this.referenceDelegate.Ur(r).next(()=>s)).toPromise().then(s=>(r.raiseOnCommittedEvent(),s))}Wr(e,t){return Y.or(Object.values(this.Br).map(i=>()=>i.containsKey(e,t)))}}class N7 extends w6{constructor(e){super(),this.currentSequenceNumber=e}}class u_{constructor(e){this.persistence=e,this.Gr=new a_,this.zr=null}static jr(e){return new u_(e)}get Hr(){if(this.zr)return this.zr;throw ge()}addReference(e,t,i){return this.Gr.addReference(i,t),this.Hr.delete(i.toString()),Y.resolve()}removeReference(e,t,i){return this.Gr.removeReference(i,t),this.Hr.add(i.toString()),Y.resolve()}markPotentiallyOrphaned(e,t){return this.Hr.add(t.toString()),Y.resolve()}removeTarget(e,t){this.Gr.Rr(t.targetId).forEach(r=>this.Hr.add(r.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next(r=>{r.forEach(s=>this.Hr.add(s.toString()))}).next(()=>i.removeTargetData(e,t))}$r(){this.zr=new Set}Ur(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Y.forEach(this.Hr,i=>{const r=ce.fromPath(i);return this.Jr(e,r).next(s=>{s||t.removeEntry(r,ye.min())})}).next(()=>(this.zr=null,t.apply(e)))}updateLimboDocument(e,t){return this.Jr(e,t).next(i=>{i?this.Hr.delete(t.toString()):this.Hr.add(t.toString())})}Qr(e){return 0}Jr(e,t){return Y.or([()=>Y.resolve(this.Gr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Wr(e,t)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c_{constructor(e,t,i,r){this.targetId=e,this.fromCache=t,this.ki=i,this.qi=r}static Qi(e,t){let i=Ae(),r=Ae();for(const s of t.docChanges)switch(s.type){case 0:i=i.add(s.doc.key);break;case 1:r=r.add(s.doc.key)}return new c_(e,t.fromCache,i,r)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L7{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V7{constructor(){this.Ki=!1,this.$i=!1,this.Ui=100,this.Wi=8}initialize(e,t){this.Gi=e,this.indexManager=t,this.Ki=!0}getDocumentsMatchingQuery(e,t,i,r){const s={result:null};return this.zi(e,t).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.ji(e,t,r,i).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new L7;return this.Hi(e,t,o).next(l=>{if(s.result=l,this.$i)return this.Ji(e,t,o,l.size)})}).next(()=>s.result)}Ji(e,t,i,r){return i.documentReadCount<this.Ui?(nc()<=Qe.DEBUG&&le("QueryEngine","SDK will not create cache indexes for query:",Hl(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Ui,"documents"),Y.resolve()):(nc()<=Qe.DEBUG&&le("QueryEngine","Query:",Hl(t),"scans",i.documentReadCount,"local documents and returns",r,"documents as results."),i.documentReadCount>this.Wi*r?(nc()<=Qe.DEBUG&&le("QueryEngine","The SDK decides to create cache indexes for query:",Hl(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Qr(t))):Y.resolve())}zi(e,t){if(BP(t))return Y.resolve(null);let i=Qr(t);return this.indexManager.getIndexType(e,i).next(r=>r===0?null:(t.limit!==null&&r===1&&(t=T1(t,null,"F"),i=Qr(t)),this.indexManager.getDocumentsMatchingTarget(e,i).next(s=>{const o=Ae(...s);return this.Gi.getDocuments(e,o).next(l=>this.indexManager.getMinOffset(e,i).next(u=>{const h=this.Yi(t,l);return this.Zi(t,h,o,u.readTime)?this.zi(e,T1(t,null,"F")):this.Xi(e,h,t,u)}))})))}ji(e,t,i,r){return BP(t)||r.isEqual(ye.min())?Y.resolve(null):this.Gi.getDocuments(e,i).next(s=>{const o=this.Yi(t,s);return this.Zi(t,o,i,r)?Y.resolve(null):(nc()<=Qe.DEBUG&&le("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Hl(t)),this.Xi(e,o,t,m6(r,-1)).next(l=>l))})}Yi(e,t){let i=new hn(T2(e));return t.forEach((r,s)=>{Ym(e,s)&&(i=i.add(s))}),i}Zi(e,t,i,r){if(e.limit===null)return!1;if(i.size!==t.size)return!0;const s=e.limitType==="F"?t.last():t.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(r)>0)}Hi(e,t,i){return nc()<=Qe.DEBUG&&le("QueryEngine","Using full collection scan to execute query:",Hl(t)),this.Gi.getDocumentsMatchingQuery(e,t,So.min(),i)}Xi(e,t,i,r){return this.Gi.getDocumentsMatchingQuery(e,i,r).next(s=>(t.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z7{constructor(e,t,i,r){this.persistence=e,this.es=t,this.serializer=r,this.ts=new mt(Ze),this.ns=new mu(s=>n_(s),i_),this.rs=new Map,this.ss=e.getRemoteDocumentCache(),this.qr=e.getTargetCache(),this.Kr=e.getBundleCache(),this.os(i)}os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new C7(this.ss,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ss.setIndexManager(this.indexManager),this.es.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.ts))}}function U7(n,e,t,i){return new Z7(n,e,t,i)}async function z2(n,e){const t=_e(n);return await t.persistence.runTransaction("Handle user change","readonly",i=>{let r;return t.mutationQueue.getAllMutationBatches(i).next(s=>(r=s,t.os(e),t.mutationQueue.getAllMutationBatches(i))).next(s=>{const o=[],l=[];let u=Ae();for(const h of r){o.push(h.batchId);for(const f of h.mutations)u=u.add(f.key)}for(const h of s){l.push(h.batchId);for(const f of h.mutations)u=u.add(f.key)}return t.localDocuments.getDocuments(i,u).next(h=>({_s:h,removedBatchIds:o,addedBatchIds:l}))})})}function B7(n,e){const t=_e(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const r=e.batch.keys(),s=t.ss.newChangeBuffer({trackRemovals:!0});return function(l,u,h,f){const p=h.batch,g=p.keys();let O=Y.resolve();return g.forEach(v=>{O=O.next(()=>f.getEntry(u,v)).next(x=>{const k=h.docVersions.get(v);ot(k!==null),x.version.compareTo(k)<0&&(p.applyToRemoteDocument(x,h),x.isValidDocument()&&(x.setReadTime(h.commitVersion),f.addEntry(x)))})}),O.next(()=>l.mutationQueue.removeMutationBatch(u,p))}(t,i,e,s).next(()=>s.apply(i)).next(()=>t.mutationQueue.performConsistencyCheck(i)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(i,r,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(l){let u=Ae();for(let h=0;h<l.mutationResults.length;++h)l.mutationResults[h].transformResults.length>0&&(u=u.add(l.batch.mutations[h].key));return u}(e))).next(()=>t.localDocuments.getDocuments(i,r))})}function X2(n){const e=_e(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.qr.getLastRemoteSnapshotVersion(t))}function W7(n,e){const t=_e(n),i=e.snapshotVersion;let r=t.ts;return t.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=t.ss.newChangeBuffer({trackRemovals:!0});r=t.ts;const l=[];e.targetChanges.forEach((f,p)=>{const g=r.get(p);if(!g)return;l.push(t.qr.removeMatchingKeys(s,f.removedDocuments,p).next(()=>t.qr.addMatchingKeys(s,f.addedDocuments,p)));let O=g.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(p)!==null?O=O.withResumeToken(Cn.EMPTY_BYTE_STRING,ye.min()).withLastLimboFreeSnapshotVersion(ye.min()):f.resumeToken.approximateByteSize()>0&&(O=O.withResumeToken(f.resumeToken,i)),r=r.insert(p,O),function(x,k,w){return x.resumeToken.approximateByteSize()===0||k.snapshotVersion.toMicroseconds()-x.snapshotVersion.toMicroseconds()>=3e8?!0:w.addedDocuments.size+w.modifiedDocuments.size+w.removedDocuments.size>0}(g,O,f)&&l.push(t.qr.updateTargetData(s,O))});let u=ys(),h=Ae();if(e.documentUpdates.forEach(f=>{e.resolvedLimboDocuments.has(f)&&l.push(t.persistence.referenceDelegate.updateLimboDocument(s,f))}),l.push(Y7(s,o,e.documentUpdates).next(f=>{u=f.us,h=f.cs})),!i.isEqual(ye.min())){const f=t.qr.getLastRemoteSnapshotVersion(s).next(p=>t.qr.setTargetsMetadata(s,s.currentSequenceNumber,i));l.push(f)}return Y.waitFor(l).next(()=>o.apply(s)).next(()=>t.localDocuments.getLocalViewOfDocuments(s,u,h)).next(()=>u)}).then(s=>(t.ts=r,s))}function Y7(n,e,t){let i=Ae(),r=Ae();return t.forEach(s=>i=i.add(s)),e.getEntries(n,i).next(s=>{let o=ys();return t.forEach((l,u)=>{const h=s.get(l);u.isFoundDocument()!==h.isFoundDocument()&&(r=r.add(l)),u.isNoDocument()&&u.version.isEqual(ye.min())?(e.removeEntry(l,u.readTime),o=o.insert(l,u)):!h.isValidDocument()||u.version.compareTo(h.version)>0||u.version.compareTo(h.version)===0&&h.hasPendingWrites?(e.addEntry(u),o=o.insert(l,u)):le("LocalStore","Ignoring outdated watch update for ",l,". Current version:",h.version," Watch version:",u.version)}),{us:o,cs:r}})}function F7(n,e){const t=_e(n);return t.persistence.runTransaction("Get next mutation batch","readonly",i=>(e===void 0&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function z7(n,e){const t=_e(n);return t.persistence.runTransaction("Allocate target","readwrite",i=>{let r;return t.qr.getTargetData(i,e).next(s=>s?(r=s,Y.resolve(r)):t.qr.allocateTargetId(i).next(o=>(r=new Hs(e,o,"TargetPurposeListen",i.currentSequenceNumber),t.qr.addTargetData(i,r).next(()=>r))))}).then(i=>{const r=t.ts.get(i.targetId);return(r===null||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(t.ts=t.ts.insert(i.targetId,i),t.ns.set(e,i.targetId)),i})}async function C1(n,e,t){const i=_e(n),r=i.ts.get(e),s=t?"readwrite":"readwrite-primary";try{t||await i.persistence.runTransaction("Release target",s,o=>i.persistence.referenceDelegate.removeTarget(o,r))}catch(o){if(!lf(o))throw o;le("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}i.ts=i.ts.remove(e),i.ns.delete(r.target)}function JP(n,e,t){const i=_e(n);let r=ye.min(),s=Ae();return i.persistence.runTransaction("Execute query","readwrite",o=>function(u,h,f){const p=_e(u),g=p.ns.get(f);return g!==void 0?Y.resolve(p.ts.get(g)):p.qr.getTargetData(h,f)}(i,o,Qr(e)).next(l=>{if(l)return r=l.lastLimboFreeSnapshotVersion,i.qr.getMatchingKeysForTargetId(o,l.targetId).next(u=>{s=u})}).next(()=>i.es.getDocumentsMatchingQuery(o,e,t?r:ye.min(),t?s:Ae())).next(l=>(X7(i,N6(e),l),{documents:l,ls:s})))}function X7(n,e,t){let i=n.rs.get(e)||ye.min();t.forEach((r,s)=>{s.readTime.compareTo(i)>0&&(i=s.readTime)}),n.rs.set(e,i)}class eb{constructor(){this.activeTargetIds=W6()}ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}As(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Es(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class j7{constructor(){this.eo=new eb,this.no={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e){return this.eo.ds(e),this.no[e]||"not-current"}updateQueryState(e,t,i){this.no[e]=t}removeLocalQueryTarget(e){this.eo.As(e)}isLocalQueryTarget(e){return this.eo.activeTargetIds.has(e)}clearQueryState(e){delete this.no[e]}getAllActiveQueryTargets(){return this.eo.activeTargetIds}isActiveQueryTarget(e){return this.eo.activeTargetIds.has(e)}start(){return this.eo=new eb,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q7{ro(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tb{constructor(){this.io=()=>this.so(),this.oo=()=>this._o(),this.ao=[],this.uo()}ro(e){this.ao.push(e)}shutdown(){window.removeEventListener("online",this.io),window.removeEventListener("offline",this.oo)}uo(){window.addEventListener("online",this.io),window.addEventListener("offline",this.oo)}so(){le("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ao)e(0)}_o(){le("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ao)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ud=null;function Py(){return Ud===null?Ud=function(){return 268435456+Math.round(2147483648*Math.random())}():Ud++,"0x"+Ud.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G7={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H7{constructor(e){this.co=e.co,this.lo=e.lo}ho(e){this.Po=e}Io(e){this.To=e}onMessage(e){this.Eo=e}close(){this.lo()}send(e){this.co(e)}Ao(){this.Po()}Ro(e){this.To(e)}Vo(e){this.Eo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const On="WebChannelConnection";class K7 extends class{constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const i=t.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.mo=i+"://"+t.host,this.fo=`projects/${r}/databases/${s}`,this.po=this.databaseId.database==="(default)"?`project_id=${r}`:`project_id=${r}&database_id=${s}`}get yo(){return!1}wo(t,i,r,s,o){const l=Py(),u=this.So(t,i);le("RestConnection",`Sending RPC '${t}' ${l}:`,u,r);const h={"google-cloud-resource-prefix":this.fo,"x-goog-request-params":this.po};return this.bo(h,s,o),this.Do(t,u,h,r).then(f=>(le("RestConnection",`Received RPC '${t}' ${l}: `,f),f),f=>{throw za("RestConnection",`RPC '${t}' ${l} failed with error: `,f,"url: ",u,"request:",r),f})}Co(t,i,r,s,o,l){return this.wo(t,i,r,s,o)}bo(t,i,r){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+pu}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach((s,o)=>t[o]=s),r&&r.headers.forEach((s,o)=>t[o]=s)}So(t,i){const r=G7[t];return`${this.mo}/v1/${i}:${r}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Do(e,t,i,r){const s=Py();return new Promise((o,l)=>{const u=new s6;u.setWithCredentials(!0),u.listenOnce(n6.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case ky.NO_ERROR:const f=u.getResponseJson();le(On,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(f)),o(f);break;case ky.TIMEOUT:le(On,`RPC '${e}' ${s} timed out`),l(new re(U.DEADLINE_EXCEEDED,"Request time out"));break;case ky.HTTP_ERROR:const p=u.getStatus();if(le(On,`RPC '${e}' ${s} failed with status:`,p,"response text:",u.getResponseText()),p>0){let g=u.getResponseJson();Array.isArray(g)&&(g=g[0]);const O=g==null?void 0:g.error;if(O&&O.status&&O.message){const v=function(k){const w=k.toLowerCase().replace(/_/g,"-");return Object.values(U).indexOf(w)>=0?w:U.UNKNOWN}(O.status);l(new re(v,O.message))}else l(new re(U.UNKNOWN,"Server responded with status "+u.getStatus()))}else l(new re(U.UNAVAILABLE,"Connection failed."));break;default:ge()}}finally{le(On,`RPC '${e}' ${s} completed.`)}});const h=JSON.stringify(r);le(On,`RPC '${e}' ${s} sending request:`,r),u.send(t,"POST",h,i,15)})}vo(e,t,i){const r=Py(),s=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=e6(),l=t6(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},h=this.longPollingOptions.timeoutSeconds;h!==void 0&&(u.longPollingTimeout=Math.round(1e3*h)),this.useFetchStreams&&(u.xmlHttpFactory=new r6({})),this.bo(u.initMessageHeaders,t,i),u.encodeInitMessageHeaders=!0;const f=s.join("");le(On,`Creating RPC '${e}' stream ${r}: ${f}`,u);const p=o.createWebChannel(f,u);let g=!1,O=!1;const v=new H7({co:k=>{O?le(On,`Not sending because RPC '${e}' stream ${r} is closed:`,k):(g||(le(On,`Opening RPC '${e}' stream ${r} transport.`),p.open(),g=!0),le(On,`RPC '${e}' stream ${r} sending:`,k),p.send(k))},lo:()=>p.close()}),x=(k,w,_)=>{k.listen(w,E=>{try{_(E)}catch(b){setTimeout(()=>{throw b},0)}})};return x(p,Ld.EventType.OPEN,()=>{O||le(On,`RPC '${e}' stream ${r} transport opened.`)}),x(p,Ld.EventType.CLOSE,()=>{O||(O=!0,le(On,`RPC '${e}' stream ${r} transport closed`),v.Ro())}),x(p,Ld.EventType.ERROR,k=>{O||(O=!0,za(On,`RPC '${e}' stream ${r} transport errored:`,k),v.Ro(new re(U.UNAVAILABLE,"The operation could not be completed")))}),x(p,Ld.EventType.MESSAGE,k=>{var w;if(!O){const _=k.data[0];ot(!!_);const E=_,b=E.error||((w=E[0])===null||w===void 0?void 0:w.error);if(b){le(On,`RPC '${e}' stream ${r} received error:`,b);const I=b.status;let Q=function(J){const j=Ct[J];if(j!==void 0)return N2(j)}(I),M=b.message;Q===void 0&&(Q=U.INTERNAL,M="Unknown error status: "+I+" with message "+b.message),O=!0,v.Ro(new re(Q,M)),p.close()}else le(On,`RPC '${e}' stream ${r} received:`,_),v.Vo(_)}}),x(l,i6.STAT_EVENT,k=>{k.stat===IP.PROXY?le(On,`RPC '${e}' stream ${r} detected buffering proxy`):k.stat===IP.NOPROXY&&le(On,`RPC '${e}' stream ${r} detected no buffering proxy`)}),setTimeout(()=>{v.Ao()},0),v}}function by(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jm(n){return new u7(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j2{constructor(e,t,i=1e3,r=1.5,s=6e4){this.si=e,this.timerId=t,this.Fo=i,this.Mo=r,this.xo=s,this.Oo=0,this.No=null,this.Bo=Date.now(),this.reset()}reset(){this.Oo=0}Lo(){this.Oo=this.xo}ko(e){this.cancel();const t=Math.floor(this.Oo+this.qo()),i=Math.max(0,Date.now()-this.Bo),r=Math.max(0,t-i);r>0&&le("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.Oo} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.No=this.si.enqueueAfterDelay(this.timerId,r,()=>(this.Bo=Date.now(),e())),this.Oo*=this.Mo,this.Oo<this.Fo&&(this.Oo=this.Fo),this.Oo>this.xo&&(this.Oo=this.xo)}Qo(){this.No!==null&&(this.No.skipDelay(),this.No=null)}cancel(){this.No!==null&&(this.No.cancel(),this.No=null)}qo(){return(Math.random()-.5)*this.Oo}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q2{constructor(e,t,i,r,s,o,l,u){this.si=e,this.Ko=i,this.$o=r,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=l,this.listener=u,this.state=0,this.Uo=0,this.Wo=null,this.Go=null,this.stream=null,this.zo=new j2(e,t)}jo(){return this.state===1||this.state===5||this.Ho()}Ho(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Jo()}async stop(){this.jo()&&await this.close(0)}Yo(){this.state=0,this.zo.reset()}Zo(){this.Ho()&&this.Wo===null&&(this.Wo=this.si.enqueueAfterDelay(this.Ko,6e4,()=>this.Xo()))}e_(e){this.t_(),this.stream.send(e)}async Xo(){if(this.Ho())return this.close(0)}t_(){this.Wo&&(this.Wo.cancel(),this.Wo=null)}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}async close(e,t){this.t_(),this.n_(),this.zo.cancel(),this.Uo++,e!==4?this.zo.reset():t&&t.code===U.RESOURCE_EXHAUSTED?(Os(t.toString()),Os("Using maximum backoff delay to prevent overloading the backend."),this.zo.Lo()):t&&t.code===U.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.r_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Io(t)}r_(){}auth(){this.state=1;const e=this.i_(this.Uo),t=this.Uo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,r])=>{this.Uo===t&&this.s_(i,r)},i=>{e(()=>{const r=new re(U.UNKNOWN,"Fetching auth token failed: "+i.message);return this.o_(r)})})}s_(e,t){const i=this.i_(this.Uo);this.stream=this.__(e,t),this.stream.ho(()=>{i(()=>(this.state=2,this.Go=this.si.enqueueAfterDelay(this.$o,1e4,()=>(this.Ho()&&(this.state=3),Promise.resolve())),this.listener.ho()))}),this.stream.Io(r=>{i(()=>this.o_(r))}),this.stream.onMessage(r=>{i(()=>this.onMessage(r))})}Jo(){this.state=5,this.zo.ko(async()=>{this.state=0,this.start()})}o_(e){return le("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}i_(e){return t=>{this.si.enqueueAndForget(()=>this.Uo===e?t():(le("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class J7 extends q2{constructor(e,t,i,r,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,r,o),this.serializer=s}__(e,t){return this.connection.vo("Listen",e,t)}onMessage(e){this.zo.reset();const t=f7(this.serializer,e),i=function(s){if(!("targetChange"in s))return ye.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?ye.min():o.readTime?Dr(o.readTime):ye.min()}(e);return this.listener.a_(t,i)}u_(e){const t={};t.database=b1(this.serializer),t.addTarget=function(s,o){let l;const u=o.target;if(l=_1(u)?{documents:g7(s,u)}:{query:m7(s,u)},l.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){l.resumeToken=Z2(s,o.resumeToken);const h=k1(s,o.expectedCount);h!==null&&(l.expectedCount=h)}else if(o.snapshotVersion.compareTo(ye.min())>0){l.readTime=Cg(s,o.snapshotVersion.toTimestamp());const h=k1(s,o.expectedCount);h!==null&&(l.expectedCount=h)}return l}(this.serializer,e);const i=y7(this.serializer,e);i&&(t.labels=i),this.e_(t)}c_(e){const t={};t.database=b1(this.serializer),t.removeTarget=e,this.e_(t)}}class ej extends q2{constructor(e,t,i,r,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,i,r,o),this.serializer=s,this.l_=!1}get h_(){return this.l_}start(){this.l_=!1,this.lastStreamToken=void 0,super.start()}r_(){this.l_&&this.P_([])}__(e,t){return this.connection.vo("Write",e,t)}onMessage(e){if(ot(!!e.streamToken),this.lastStreamToken=e.streamToken,this.l_){this.zo.reset();const t=p7(e.writeResults,e.commitTime),i=Dr(e.commitTime);return this.listener.I_(i,t)}return ot(!e.writeResults||e.writeResults.length===0),this.l_=!0,this.listener.T_()}E_(){const e={};e.database=b1(this.serializer),this.e_(e)}P_(e){const t={streamToken:this.lastStreamToken,writes:e.map(i=>d7(this.serializer,i))};this.e_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tj extends class{}{constructor(e,t,i,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=i,this.serializer=r,this.d_=!1}A_(){if(this.d_)throw new re(U.FAILED_PRECONDITION,"The client has already been terminated.")}wo(e,t,i){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([r,s])=>this.connection.wo(e,t,i,r,s)).catch(r=>{throw r.name==="FirebaseError"?(r.code===U.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),r):new re(U.UNKNOWN,r.toString())})}Co(e,t,i,r){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Co(e,t,i,s,o,r)).catch(s=>{throw s.name==="FirebaseError"?(s.code===U.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new re(U.UNKNOWN,s.toString())})}terminate(){this.d_=!0}}class nj{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.V_=0,this.m_=null,this.f_=!0}g_(){this.V_===0&&(this.p_("Unknown"),this.m_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.m_=null,this.y_("Backend didn't respond within 10 seconds."),this.p_("Offline"),Promise.resolve())))}w_(e){this.state==="Online"?this.p_("Unknown"):(this.V_++,this.V_>=1&&(this.S_(),this.y_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.p_("Offline")))}set(e){this.S_(),this.V_=0,e==="Online"&&(this.f_=!1),this.p_(e)}p_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}y_(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.f_?(Os(t),this.f_=!1):le("OnlineStateTracker",t)}S_(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ij{constructor(e,t,i,r,s){this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.b_=[],this.D_=new Map,this.C_=new Set,this.v_=[],this.F_=s,this.F_.ro(o=>{i.enqueueAndForget(async()=>{Cl(this)&&(le("RemoteStore","Restarting streams for network reachability change."),await async function(u){const h=_e(u);h.C_.add(4),await hf(h),h.M_.set("Unknown"),h.C_.delete(4),await qm(h)}(this))})}),this.M_=new nj(i,r)}}async function qm(n){if(Cl(n))for(const e of n.v_)await e(!0)}async function hf(n){for(const e of n.v_)await e(!1)}function G2(n,e){const t=_e(n);t.D_.has(e.targetId)||(t.D_.set(e.targetId,e),d_(t)?f_(t):Ou(t).Ho()&&h_(t,e))}function H2(n,e){const t=_e(n),i=Ou(t);t.D_.delete(e),i.Ho()&&K2(t,e),t.D_.size===0&&(i.Ho()?i.Zo():Cl(t)&&t.M_.set("Unknown"))}function h_(n,e){if(n.x_.Oe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ye.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Ou(n).u_(e)}function K2(n,e){n.x_.Oe(e),Ou(n).c_(e)}function f_(n){n.x_=new s7({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),_t:e=>n.D_.get(e)||null,nt:()=>n.datastore.serializer.databaseId}),Ou(n).start(),n.M_.g_()}function d_(n){return Cl(n)&&!Ou(n).jo()&&n.D_.size>0}function Cl(n){return _e(n).C_.size===0}function J2(n){n.x_=void 0}async function rj(n){n.D_.forEach((e,t)=>{h_(n,e)})}async function sj(n,e){J2(n),d_(n)?(n.M_.w_(e),f_(n)):n.M_.set("Unknown")}async function oj(n,e,t){if(n.M_.set("Online"),e instanceof V2&&e.state===2&&e.cause)try{await async function(r,s){const o=s.cause;for(const l of s.targetIds)r.D_.has(l)&&(await r.remoteSyncer.rejectListen(l,o),r.D_.delete(l),r.x_.removeTarget(l))}(n,e)}catch(i){le("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),i),await Ag(n,i)}else if(e instanceof kp?n.x_.$e(e):e instanceof L2?n.x_.Je(e):n.x_.Ge(e),!t.isEqual(ye.min()))try{const i=await X2(n.localStore);t.compareTo(i)>=0&&await function(s,o){const l=s.x_.it(o);return l.targetChanges.forEach((u,h)=>{if(u.resumeToken.approximateByteSize()>0){const f=s.D_.get(h);f&&s.D_.set(h,f.withResumeToken(u.resumeToken,o))}}),l.targetMismatches.forEach((u,h)=>{const f=s.D_.get(u);if(!f)return;s.D_.set(u,f.withResumeToken(Cn.EMPTY_BYTE_STRING,f.snapshotVersion)),K2(s,u);const p=new Hs(f.target,u,h,f.sequenceNumber);h_(s,p)}),s.remoteSyncer.applyRemoteEvent(l)}(n,t)}catch(i){le("RemoteStore","Failed to raise snapshot:",i),await Ag(n,i)}}async function Ag(n,e,t){if(!lf(e))throw e;n.C_.add(1),await hf(n),n.M_.set("Offline"),t||(t=()=>X2(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{le("RemoteStore","Retrying IndexedDB access"),await t(),n.C_.delete(1),await qm(n)})}function eQ(n,e){return e().catch(t=>Ag(n,t,e))}async function Gm(n){const e=_e(n),t=xo(e);let i=e.b_.length>0?e.b_[e.b_.length-1].batchId:-1;for(;lj(e);)try{const r=await F7(e.localStore,i);if(r===null){e.b_.length===0&&t.Zo();break}i=r.batchId,aj(e,r)}catch(r){await Ag(e,r)}tQ(e)&&nQ(e)}function lj(n){return Cl(n)&&n.b_.length<10}function aj(n,e){n.b_.push(e);const t=xo(n);t.Ho()&&t.h_&&t.P_(e.mutations)}function tQ(n){return Cl(n)&&!xo(n).jo()&&n.b_.length>0}function nQ(n){xo(n).start()}async function uj(n){xo(n).E_()}async function cj(n){const e=xo(n);for(const t of n.b_)e.P_(t.mutations)}async function hj(n,e,t){const i=n.b_.shift(),r=s_.from(i,e,t);await eQ(n,()=>n.remoteSyncer.applySuccessfulWrite(r)),await Gm(n)}async function fj(n,e){e&&xo(n).h_&&await async function(i,r){if(function(o){return n7(o)&&o!==U.ABORTED}(r.code)){const s=i.b_.shift();xo(i).Yo(),await eQ(i,()=>i.remoteSyncer.rejectFailedWrite(s.batchId,r)),await Gm(i)}}(n,e),tQ(n)&&nQ(n)}async function nb(n,e){const t=_e(n);t.asyncQueue.verifyOperationInProgress(),le("RemoteStore","RemoteStore received new credentials");const i=Cl(t);t.C_.add(3),await hf(t),i&&t.M_.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.C_.delete(3),await qm(t)}async function dj(n,e){const t=_e(n);e?(t.C_.delete(2),await qm(t)):e||(t.C_.add(2),await hf(t),t.M_.set("Unknown"))}function Ou(n){return n.O_||(n.O_=function(t,i,r){const s=_e(t);return s.A_(),new J7(i,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,r)}(n.datastore,n.asyncQueue,{ho:rj.bind(null,n),Io:sj.bind(null,n),a_:oj.bind(null,n)}),n.v_.push(async e=>{e?(n.O_.Yo(),d_(n)?f_(n):n.M_.set("Unknown")):(await n.O_.stop(),J2(n))})),n.O_}function xo(n){return n.N_||(n.N_=function(t,i,r){const s=_e(t);return s.A_(),new ej(i,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,r)}(n.datastore,n.asyncQueue,{ho:uj.bind(null,n),Io:fj.bind(null,n),T_:cj.bind(null,n),I_:hj.bind(null,n)}),n.v_.push(async e=>{e?(n.N_.Yo(),await Gm(n)):(await n.N_.stop(),n.b_.length>0&&(le("RemoteStore",`Stopping write stream with ${n.b_.length} pending writes`),n.b_=[]))})),n.N_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p_{constructor(e,t,i,r,s){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=r,this.removalCallback=s,this.deferred=new cs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,i,r,s){const o=Date.now()+i,l=new p_(e,t,o,r,s);return l.start(i),l}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new re(U.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function g_(n,e){if(Os("AsyncQueue",`${e}: ${n}`),lf(n))return new re(U.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pa{constructor(e){this.comparator=e?(t,i)=>e(t,i)||ce.comparator(t.key,i.key):(t,i)=>ce.comparator(t.key,i.key),this.keyedMap=mc(),this.sortedSet=new mt(this.comparator)}static emptySet(e){return new Pa(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,i)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Pa)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){const r=t.getNext().key,s=i.getNext().key;if(!r.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const i=new Pa;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ib{constructor(){this.B_=new mt(ce.comparator)}track(e){const t=e.doc.key,i=this.B_.get(t);i?e.type!==0&&i.type===3?this.B_=this.B_.insert(t,e):e.type===3&&i.type!==1?this.B_=this.B_.insert(t,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.B_=this.B_.insert(t,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.B_=this.B_.insert(t,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.B_=this.B_.remove(t):e.type===1&&i.type===2?this.B_=this.B_.insert(t,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.B_=this.B_.insert(t,{type:2,doc:e.doc}):ge():this.B_=this.B_.insert(t,e)}L_(){const e=[];return this.B_.inorderTraversal((t,i)=>{e.push(i)}),e}}class Ha{constructor(e,t,i,r,s,o,l,u,h){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=l,this.excludesMetadataChanges=u,this.hasCachedResults=h}static fromInitialDocuments(e,t,i,r,s){const o=[];return t.forEach(l=>{o.push({type:0,doc:l})}),new Ha(e,t,Pa.emptySet(t),o,i,r,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Wm(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==i[r].type||!t[r].doc.isEqual(i[r].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pj{constructor(){this.k_=void 0,this.listeners=[]}}class gj{constructor(){this.queries=new mu(e=>x2(e),Wm),this.onlineState="Unknown",this.q_=new Set}}async function iQ(n,e){const t=_e(n),i=e.query;let r=!1,s=t.queries.get(i);if(s||(r=!0,s=new pj),r)try{s.k_=await t.onListen(i)}catch(o){const l=g_(o,`Initialization of query '${Hl(e.query)}' failed`);return void e.onError(l)}t.queries.set(i,s),s.listeners.push(e),e.Q_(t.onlineState),s.k_&&e.K_(s.k_)&&m_(t)}async function rQ(n,e){const t=_e(n),i=e.query;let r=!1;const s=t.queries.get(i);if(s){const o=s.listeners.indexOf(e);o>=0&&(s.listeners.splice(o,1),r=s.listeners.length===0)}if(r)return t.queries.delete(i),t.onUnlisten(i)}function mj(n,e){const t=_e(n);let i=!1;for(const r of e){const s=r.query,o=t.queries.get(s);if(o){for(const l of o.listeners)l.K_(r)&&(i=!0);o.k_=r}}i&&m_(t)}function Oj(n,e,t){const i=_e(n),r=i.queries.get(e);if(r)for(const s of r.listeners)s.onError(t);i.queries.delete(e)}function m_(n){n.q_.forEach(e=>{e.next()})}class sQ{constructor(e,t,i){this.query=e,this.U_=t,this.W_=!1,this.G_=null,this.onlineState="Unknown",this.options=i||{}}K_(e){if(!this.options.includeMetadataChanges){const i=[];for(const r of e.docChanges)r.type!==3&&i.push(r);e=new Ha(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.W_?this.z_(e)&&(this.U_.next(e),t=!0):this.j_(e,this.onlineState)&&(this.H_(e),t=!0),this.G_=e,t}onError(e){this.U_.error(e)}Q_(e){this.onlineState=e;let t=!1;return this.G_&&!this.W_&&this.j_(this.G_,e)&&(this.H_(this.G_),t=!0),t}j_(e,t){if(!e.fromCache)return!0;const i=t!=="Offline";return(!this.options.J_||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}z_(e){if(e.docChanges.length>0)return!0;const t=this.G_&&this.G_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}H_(e){e=Ha.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.W_=!0,this.U_.next(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oQ{constructor(e){this.key=e}}class lQ{constructor(e){this.key=e}}class yj{constructor(e,t){this.query=e,this.ia=t,this.sa=null,this.hasCachedResults=!1,this.current=!1,this.oa=Ae(),this.mutatedKeys=Ae(),this._a=T2(e),this.aa=new Pa(this._a)}get ua(){return this.ia}ca(e,t){const i=t?t.la:new ib,r=t?t.aa:this.aa;let s=t?t.mutatedKeys:this.mutatedKeys,o=r,l=!1;const u=this.query.limitType==="F"&&r.size===this.query.limit?r.last():null,h=this.query.limitType==="L"&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((f,p)=>{const g=r.get(f),O=Ym(this.query,p)?p:null,v=!!g&&this.mutatedKeys.has(g.key),x=!!O&&(O.hasLocalMutations||this.mutatedKeys.has(O.key)&&O.hasCommittedMutations);let k=!1;g&&O?g.data.isEqual(O.data)?v!==x&&(i.track({type:3,doc:O}),k=!0):this.ha(g,O)||(i.track({type:2,doc:O}),k=!0,(u&&this._a(O,u)>0||h&&this._a(O,h)<0)&&(l=!0)):!g&&O?(i.track({type:0,doc:O}),k=!0):g&&!O&&(i.track({type:1,doc:g}),k=!0,(u||h)&&(l=!0)),k&&(O?(o=o.add(O),s=x?s.add(f):s.delete(f)):(o=o.delete(f),s=s.delete(f)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const f=this.query.limitType==="F"?o.last():o.first();o=o.delete(f.key),s=s.delete(f.key),i.track({type:1,doc:f})}return{aa:o,la:i,Zi:l,mutatedKeys:s}}ha(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i){const r=this.aa;this.aa=e.aa,this.mutatedKeys=e.mutatedKeys;const s=e.la.L_();s.sort((h,f)=>function(g,O){const v=x=>{switch(x){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ge()}};return v(g)-v(O)}(h.type,f.type)||this._a(h.doc,f.doc)),this.Pa(i);const o=t?this.Ia():[],l=this.oa.size===0&&this.current?1:0,u=l!==this.sa;return this.sa=l,s.length!==0||u?{snapshot:new Ha(this.query,e.aa,r,s,e.mutatedKeys,l===0,u,!1,!!i&&i.resumeToken.approximateByteSize()>0),Ta:o}:{Ta:o}}Q_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({aa:this.aa,la:new ib,mutatedKeys:this.mutatedKeys,Zi:!1},!1)):{Ta:[]}}Ea(e){return!this.ia.has(e)&&!!this.aa.has(e)&&!this.aa.get(e).hasLocalMutations}Pa(e){e&&(e.addedDocuments.forEach(t=>this.ia=this.ia.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.ia=this.ia.delete(t)),this.current=e.current)}Ia(){if(!this.current)return[];const e=this.oa;this.oa=Ae(),this.aa.forEach(i=>{this.Ea(i.key)&&(this.oa=this.oa.add(i.key))});const t=[];return e.forEach(i=>{this.oa.has(i)||t.push(new lQ(i))}),this.oa.forEach(i=>{e.has(i)||t.push(new oQ(i))}),t}da(e){this.ia=e.ls,this.oa=Ae();const t=this.ca(e.documents);return this.applyChanges(t,!0)}Aa(){return Ha.fromInitialDocuments(this.query,this.aa,this.mutatedKeys,this.sa===0,this.hasCachedResults)}}class vj{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}}class wj{constructor(e){this.key=e,this.Ra=!1}}class Sj{constructor(e,t,i,r,s,o){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=r,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Va={},this.ma=new mu(l=>x2(l),Wm),this.fa=new Map,this.ga=new Set,this.pa=new mt(ce.comparator),this.ya=new Map,this.wa=new a_,this.Sa={},this.ba=new Map,this.Da=Ga.Nn(),this.onlineState="Unknown",this.Ca=void 0}get isPrimaryClient(){return this.Ca===!0}}async function _j(n,e){const t=Rj(n);let i,r;const s=t.ma.get(e);if(s)i=s.targetId,t.sharedClientState.addLocalQueryTarget(i),r=s.view.Aa();else{const o=await z7(t.localStore,Qr(e)),l=t.sharedClientState.addLocalQueryTarget(o.targetId);i=o.targetId,r=await xj(t,e,i,l==="current",o.resumeToken),t.isPrimaryClient&&G2(t.remoteStore,o)}return r}async function xj(n,e,t,i,r){n.va=(p,g,O)=>async function(x,k,w,_){let E=k.view.ca(w);E.Zi&&(E=await JP(x.localStore,k.query,!1).then(({documents:Q})=>k.view.ca(Q,E)));const b=_&&_.targetChanges.get(k.targetId),I=k.view.applyChanges(E,x.isPrimaryClient,b);return sb(x,k.targetId,I.Ta),I.snapshot}(n,p,g,O);const s=await JP(n.localStore,e,!0),o=new yj(e,s.ls),l=o.ca(s.documents),u=cf.createSynthesizedTargetChangeForCurrentChange(t,i&&n.onlineState!=="Offline",r),h=o.applyChanges(l,n.isPrimaryClient,u);sb(n,t,h.Ta);const f=new vj(e,t,o);return n.ma.set(e,f),n.fa.has(t)?n.fa.get(t).push(e):n.fa.set(t,[e]),h.snapshot}async function Tj(n,e){const t=_e(n),i=t.ma.get(e),r=t.fa.get(i.targetId);if(r.length>1)return t.fa.set(i.targetId,r.filter(s=>!Wm(s,e))),void t.ma.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(i.targetId),t.sharedClientState.isActiveQueryTarget(i.targetId)||await C1(t.localStore,i.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(i.targetId),H2(t.remoteStore,i.targetId),A1(t,i.targetId)}).catch(of)):(A1(t,i.targetId),await C1(t.localStore,i.targetId,!0))}async function kj(n,e,t){const i=$j(n);try{const r=await function(o,l){const u=_e(o),h=Yt.now(),f=l.reduce((O,v)=>O.add(v.key),Ae());let p,g;return u.persistence.runTransaction("Locally write mutations","readwrite",O=>{let v=ys(),x=Ae();return u.ss.getEntries(O,f).next(k=>{v=k,v.forEach((w,_)=>{_.isValidDocument()||(x=x.add(w))})}).next(()=>u.localDocuments.getOverlayedDocuments(O,v)).next(k=>{p=k;const w=[];for(const _ of l){const E=H6(_,p.get(_.key).overlayedDocument);E!=null&&w.push(new bl(_.key,E,g2(E.value.mapValue),hs.exists(!0)))}return u.mutationQueue.addMutationBatch(O,h,w,l)}).next(k=>{g=k;const w=k.applyToLocalDocumentSet(p,x);return u.documentOverlayCache.saveOverlays(O,k.batchId,w)})}).then(()=>({batchId:g.batchId,changes:E2(p)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(r.batchId),function(o,l,u){let h=o.Sa[o.currentUser.toKey()];h||(h=new mt(Ze)),h=h.insert(l,u),o.Sa[o.currentUser.toKey()]=h}(i,r.batchId,t),await ff(i,r.changes),await Gm(i.remoteStore)}catch(r){const s=g_(r,"Failed to persist write");t.reject(s)}}async function aQ(n,e){const t=_e(n);try{const i=await W7(t.localStore,e);e.targetChanges.forEach((r,s)=>{const o=t.ya.get(s);o&&(ot(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1),r.addedDocuments.size>0?o.Ra=!0:r.modifiedDocuments.size>0?ot(o.Ra):r.removedDocuments.size>0&&(ot(o.Ra),o.Ra=!1))}),await ff(t,i,e)}catch(i){await of(i)}}function rb(n,e,t){const i=_e(n);if(i.isPrimaryClient&&t===0||!i.isPrimaryClient&&t===1){const r=[];i.ma.forEach((s,o)=>{const l=o.view.Q_(e);l.snapshot&&r.push(l.snapshot)}),function(o,l){const u=_e(o);u.onlineState=l;let h=!1;u.queries.forEach((f,p)=>{for(const g of p.listeners)g.Q_(l)&&(h=!0)}),h&&m_(u)}(i.eventManager,e),r.length&&i.Va.a_(r),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function Ej(n,e,t){const i=_e(n);i.sharedClientState.updateQueryState(e,"rejected",t);const r=i.ya.get(e),s=r&&r.key;if(s){let o=new mt(ce.comparator);o=o.insert(s,Sn.newNoDocument(s,ye.min()));const l=Ae().add(s),u=new Xm(ye.min(),new Map,new mt(Ze),o,l);await aQ(i,u),i.pa=i.pa.remove(s),i.ya.delete(e),O_(i)}else await C1(i.localStore,e,!1).then(()=>A1(i,e,t)).catch(of)}async function Pj(n,e){const t=_e(n),i=e.batch.batchId;try{const r=await B7(t.localStore,e);cQ(t,i,null),uQ(t,i),t.sharedClientState.updateMutationState(i,"acknowledged"),await ff(t,r)}catch(r){await of(r)}}async function bj(n,e,t){const i=_e(n);try{const r=await function(o,l){const u=_e(o);return u.persistence.runTransaction("Reject batch","readwrite-primary",h=>{let f;return u.mutationQueue.lookupMutationBatch(h,l).next(p=>(ot(p!==null),f=p.keys(),u.mutationQueue.removeMutationBatch(h,p))).next(()=>u.mutationQueue.performConsistencyCheck(h)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(h,f,l)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(h,f)).next(()=>u.localDocuments.getDocuments(h,f))})}(i.localStore,e);cQ(i,e,t),uQ(i,e),i.sharedClientState.updateMutationState(e,"rejected",t),await ff(i,r)}catch(r){await of(r)}}function uQ(n,e){(n.ba.get(e)||[]).forEach(t=>{t.resolve()}),n.ba.delete(e)}function cQ(n,e,t){const i=_e(n);let r=i.Sa[i.currentUser.toKey()];if(r){const s=r.get(e);s&&(t?s.reject(t):s.resolve(),r=r.remove(e)),i.Sa[i.currentUser.toKey()]=r}}function A1(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const i of n.fa.get(e))n.ma.delete(i),t&&n.Va.Fa(i,t);n.fa.delete(e),n.isPrimaryClient&&n.wa.Rr(e).forEach(i=>{n.wa.containsKey(i)||hQ(n,i)})}function hQ(n,e){n.ga.delete(e.path.canonicalString());const t=n.pa.get(e);t!==null&&(H2(n.remoteStore,t),n.pa=n.pa.remove(e),n.ya.delete(t),O_(n))}function sb(n,e,t){for(const i of t)i instanceof oQ?(n.wa.addReference(i.key,e),Cj(n,i)):i instanceof lQ?(le("SyncEngine","Document no longer in limbo: "+i.key),n.wa.removeReference(i.key,e),n.wa.containsKey(i.key)||hQ(n,i.key)):ge()}function Cj(n,e){const t=e.key,i=t.path.canonicalString();n.pa.get(t)||n.ga.has(i)||(le("SyncEngine","New document in limbo: "+t),n.ga.add(i),O_(n))}function O_(n){for(;n.ga.size>0&&n.pa.size<n.maxConcurrentLimboResolutions;){const e=n.ga.values().next().value;n.ga.delete(e);const t=new ce(it.fromString(e)),i=n.Da.next();n.ya.set(i,new wj(t)),n.pa=n.pa.insert(t,i),G2(n.remoteStore,new Hs(Qr(r_(t.path)),i,"TargetPurposeLimboResolution",KS._e))}}async function ff(n,e,t){const i=_e(n),r=[],s=[],o=[];i.ma.isEmpty()||(i.ma.forEach((l,u)=>{o.push(i.va(u,e,t).then(h=>{if((h||t)&&i.isPrimaryClient&&i.sharedClientState.updateQueryState(u.targetId,h!=null&&h.fromCache?"not-current":"current"),h){r.push(h);const f=c_.Qi(u.targetId,h);s.push(f)}}))}),await Promise.all(o),i.Va.a_(r),await async function(u,h){const f=_e(u);try{await f.persistence.runTransaction("notifyLocalViewChanges","readwrite",p=>Y.forEach(h,g=>Y.forEach(g.ki,O=>f.persistence.referenceDelegate.addReference(p,g.targetId,O)).next(()=>Y.forEach(g.qi,O=>f.persistence.referenceDelegate.removeReference(p,g.targetId,O)))))}catch(p){if(!lf(p))throw p;le("LocalStore","Failed to update sequence numbers: "+p)}for(const p of h){const g=p.targetId;if(!p.fromCache){const O=f.ts.get(g),v=O.snapshotVersion,x=O.withLastLimboFreeSnapshotVersion(v);f.ts=f.ts.insert(g,x)}}}(i.localStore,s))}async function Aj(n,e){const t=_e(n);if(!t.currentUser.isEqual(e)){le("SyncEngine","User change. New user:",e.toKey());const i=await z2(t.localStore,e);t.currentUser=e,function(s,o){s.ba.forEach(l=>{l.forEach(u=>{u.reject(new re(U.CANCELLED,o))})}),s.ba.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await ff(t,i._s)}}function Ij(n,e){const t=_e(n),i=t.ya.get(e);if(i&&i.Ra)return Ae().add(i.key);{let r=Ae();const s=t.fa.get(e);if(!s)return r;for(const o of s){const l=t.ma.get(o);r=r.unionWith(l.view.ua)}return r}}function Rj(n){const e=_e(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=aQ.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Ij.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Ej.bind(null,e),e.Va.a_=mj.bind(null,e.eventManager),e.Va.Fa=Oj.bind(null,e.eventManager),e}function $j(n){const e=_e(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Pj.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=bj.bind(null,e),e}class ob{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=jm(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return U7(this.persistence,new V7,e.initialUser,this.serializer)}createPersistence(e){return new M7(u_.jr,this.serializer)}createSharedClientState(e){return new j7}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class Qj{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>rb(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=Aj.bind(null,this.syncEngine),await dj(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new gj}()}createDatastore(e){const t=jm(e.databaseInfo.databaseId),i=function(s){return new K7(s)}(e.databaseInfo);return function(s,o,l,u){return new tj(s,o,l,u)}(e.authCredentials,e.appCheckCredentials,i,t)}createRemoteStore(e){return function(i,r,s,o,l){return new ij(i,r,s,o,l)}(this.localStore,this.datastore,e.asyncQueue,t=>rb(this.syncEngine,t,0),function(){return tb.D()?new tb:new q7}())}createSyncEngine(e,t){return function(r,s,o,l,u,h,f){const p=new Sj(r,s,o,l,u,h);return f&&(p.Ca=!0),p}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return async function(t){const i=_e(t);le("RemoteStore","RemoteStore shutting down."),i.C_.add(5),await hf(i),i.F_.shutdown(),i.M_.set("Unknown")}(this.remoteStore)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fQ{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Oa(this.observer.next,e)}error(e){this.observer.error?this.Oa(this.observer.error,e):Os("Uncaught Error in snapshot listener:",e.toString())}Na(){this.muted=!0}Oa(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dj{constructor(e,t,i,r){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this.databaseInfo=r,this.user=yn.UNAUTHENTICATED,this.clientId=f2.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(i,async s=>{le("FirestoreClient","Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(i,s=>(le("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new re(U.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new cs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const i=g_(t,"Failed to shutdown persistence");e.reject(i)}}),e.promise}}async function Cy(n,e){n.asyncQueue.verifyOperationInProgress(),le("FirestoreClient","Initializing OfflineComponentProvider");const t=await n.getConfiguration();await e.initialize(t);let i=t.initialUser;n.setCredentialChangeListener(async r=>{i.isEqual(r)||(await z2(e.localStore,r),i=r)}),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}async function lb(n,e){n.asyncQueue.verifyOperationInProgress();const t=await Nj(n);le("FirestoreClient","Initializing OnlineComponentProvider");const i=await n.getConfiguration();await e.initialize(t,i),n.setCredentialChangeListener(r=>nb(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,s)=>nb(e.remoteStore,s)),n._onlineComponents=e}function Mj(n){return n.name==="FirebaseError"?n.code===U.FAILED_PRECONDITION||n.code===U.UNIMPLEMENTED:!(typeof DOMException<"u"&&n instanceof DOMException)||n.code===22||n.code===20||n.code===11}async function Nj(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){le("FirestoreClient","Using user provided OfflineComponentProvider");try{await Cy(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!Mj(t))throw t;za("Error using user provided cache. Falling back to memory cache: "+t),await Cy(n,new ob)}}else le("FirestoreClient","Using default OfflineComponentProvider"),await Cy(n,new ob);return n._offlineComponents}async function dQ(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(le("FirestoreClient","Using user provided OnlineComponentProvider"),await lb(n,n._uninitializedComponentsProvider._online)):(le("FirestoreClient","Using default OnlineComponentProvider"),await lb(n,new Qj))),n._onlineComponents}function Lj(n){return dQ(n).then(e=>e.syncEngine)}async function pQ(n){const e=await dQ(n),t=e.eventManager;return t.onListen=_j.bind(null,e.syncEngine),t.onUnlisten=Tj.bind(null,e.syncEngine),t}function Vj(n,e,t={}){const i=new cs;return n.asyncQueue.enqueueAndForget(async()=>function(s,o,l,u,h){const f=new fQ({next:g=>{o.enqueueAndForget(()=>rQ(s,p));const O=g.docs.has(l);!O&&g.fromCache?h.reject(new re(U.UNAVAILABLE,"Failed to get document because the client is offline.")):O&&g.fromCache&&u&&u.source==="server"?h.reject(new re(U.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):h.resolve(g)},error:g=>h.reject(g)}),p=new sQ(r_(l.path),f,{includeMetadataChanges:!0,J_:!0});return iQ(s,p)}(await pQ(n),n.asyncQueue,e,t,i)),i.promise}function Zj(n,e,t={}){const i=new cs;return n.asyncQueue.enqueueAndForget(async()=>function(s,o,l,u,h){const f=new fQ({next:g=>{o.enqueueAndForget(()=>rQ(s,p)),g.fromCache&&u.source==="server"?h.reject(new re(U.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):h.resolve(g)},error:g=>h.reject(g)}),p=new sQ(l,f,{includeMetadataChanges:!0,J_:!0});return iQ(s,p)}(await pQ(n),n.asyncQueue,e,t,i)),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gQ(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ab=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mQ(n,e,t){if(!t)throw new re(U.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function Uj(n,e,t,i){if(e===!0&&i===!0)throw new re(U.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function ub(n){if(!ce.isDocumentKey(n))throw new re(U.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function cb(n){if(ce.isDocumentKey(n))throw new re(U.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function Hm(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=function(i){return i.constructor?i.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":ge()}function Ka(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new re(U.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Hm(n);throw new re(U.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hb{constructor(e){var t,i;if(e.host===void 0){if(e.ssl!==void 0)throw new re(U.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(t=e.ssl)===null||t===void 0||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new re(U.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Uj("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=gQ((i=e.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new re(U.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new re(U.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new re(U.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(i,r){return i.timeoutSeconds===r.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Km{constructor(e,t,i,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=i,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new hb({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new re(U.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new re(U.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new hb(e),e.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new l6;switch(i.type){case"firstParty":return new h6(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new re(U.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const i=ab.get(t);i&&(le("ComponentProvider","Removing Datastore"),ab.delete(t),i.terminate())}(this),Promise.resolve()}}function Bj(n,e,t,i={}){var r;const s=(n=Ka(n,Km))._getSettings(),o=`${e}:${t}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&za("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),i.mockUserToken){let l,u;if(typeof i.mockUserToken=="string")l=i.mockUserToken,u=yn.MOCK_USER;else{l=DF(i.mockUserToken,(r=n._app)===null||r===void 0?void 0:r.options.projectId);const h=i.mockUserToken.sub||i.mockUserToken.user_id;if(!h)throw new re(U.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new yn(h)}n._authCredentials=new a6(new h2(l,u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yu{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new yu(this.firestore,e,this._query)}}class mi{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new po(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new mi(this.firestore,e,this._key)}}class po extends yu{constructor(e,t,i){super(e,t,r_(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new mi(this.firestore,null,new ce(e))}withConverter(e){return new po(this.firestore,e,this._path)}}function OQ(n,e,...t){if(n=yi(n),mQ("collection","path",e),n instanceof Km){const i=it.fromString(e,...t);return cb(i),new po(n,null,i)}{if(!(n instanceof mi||n instanceof po))throw new re(U.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(it.fromString(e,...t));return cb(i),new po(n.firestore,null,i)}}function yQ(n,e,...t){if(n=yi(n),arguments.length===1&&(e=f2.newId()),mQ("doc","path",e),n instanceof Km){const i=it.fromString(e,...t);return ub(i),new mi(n,null,new ce(i))}{if(!(n instanceof mi||n instanceof po))throw new re(U.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(it.fromString(e,...t));return ub(i),new mi(n.firestore,n instanceof po?n.converter:null,new ce(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wj{constructor(){this.Ja=Promise.resolve(),this.Ya=[],this.Za=!1,this.Xa=[],this.eu=null,this.tu=!1,this.nu=!1,this.ru=[],this.zo=new j2(this,"async_queue_retry"),this.iu=()=>{const t=by();t&&le("AsyncQueue","Visibility state changed to "+t.visibilityState),this.zo.Qo()};const e=by();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.iu)}get isShuttingDown(){return this.Za}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.su(),this.ou(e)}enterRestrictedMode(e){if(!this.Za){this.Za=!0,this.nu=e||!1;const t=by();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.iu)}}enqueue(e){if(this.su(),this.Za)return new Promise(()=>{});const t=new cs;return this.ou(()=>this.Za&&this.nu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Ya.push(e),this._u()))}async _u(){if(this.Ya.length!==0){try{await this.Ya[0](),this.Ya.shift(),this.zo.reset()}catch(e){if(!lf(e))throw e;le("AsyncQueue","Operation failed with retryable error: "+e)}this.Ya.length>0&&this.zo.ko(()=>this._u())}}ou(e){const t=this.Ja.then(()=>(this.tu=!0,e().catch(i=>{this.eu=i,this.tu=!1;const r=function(o){let l=o.message||"";return o.stack&&(l=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),l}(i);throw Os("INTERNAL UNHANDLED ERROR: ",r),i}).then(i=>(this.tu=!1,i))));return this.Ja=t,t}enqueueAfterDelay(e,t,i){this.su(),this.ru.indexOf(e)>-1&&(t=0);const r=p_.createAndSchedule(this,e,t,i,s=>this.au(s));return this.Xa.push(r),r}su(){this.eu&&ge()}verifyOperationInProgress(){}async uu(){let e;do e=this.Ja,await e;while(e!==this.Ja)}cu(e){for(const t of this.Xa)if(t.timerId===e)return!0;return!1}lu(e){return this.uu().then(()=>{this.Xa.sort((t,i)=>t.targetTimeMs-i.targetTimeMs);for(const t of this.Xa)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.uu()})}hu(e){this.ru.push(e)}au(e){const t=this.Xa.indexOf(e);this.Xa.splice(t,1)}}class Jm extends Km{constructor(e,t,i,r){super(e,t,i,r),this.type="firestore",this._queue=function(){return new Wj}(),this._persistenceKey=(r==null?void 0:r.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||vQ(this),this._firestoreClient.terminate()}}function Yj(n,e){const t=typeof n=="object"?n:o$(),i=typeof n=="string"?n:e||"(default)",r=bS(t,"firestore").getImmediate({identifier:i});if(!r._initialized){const s=$F("firestore");s&&Bj(r,...s)}return r}function y_(n){return n._firestoreClient||vQ(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function vQ(n){var e,t,i;const r=n._freezeSettings(),s=function(l,u,h,f){return new x6(l,u,h,f.host,f.ssl,f.experimentalForceLongPolling,f.experimentalAutoDetectLongPolling,gQ(f.experimentalLongPollingOptions),f.useFetchStreams)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,r);n._firestoreClient=new Dj(n._authCredentials,n._appCheckCredentials,n._queue,s),!((t=r.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((i=r.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(n._firestoreClient._uninitializedComponentsProvider={_offlineKind:r.localCache.kind,_offline:r.localCache._offlineComponentProvider,_online:r.localCache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ja{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ja(Cn.fromBase64String(e))}catch(t){throw new re(U.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Ja(Cn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v_{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new re(U.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ln(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w_{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S_{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new re(U.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new re(U.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ze(this._lat,e._lat)||Ze(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fj=/^__.*__$/;class zj{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return this.fieldMask!==null?new bl(e,this.data,this.fieldMask,t,this.fieldTransforms):new uf(e,this.data,t,this.fieldTransforms)}}function wQ(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ge()}}class __{constructor(e,t,i,r,s,o){this.settings=e,this.databaseId=t,this.serializer=i,this.ignoreUndefinedProperties=r,s===void 0&&this.Pu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Iu(){return this.settings.Iu}Tu(e){return new __(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Eu(e){var t;const i=(t=this.path)===null||t===void 0?void 0:t.child(e),r=this.Tu({path:i,du:!1});return r.Au(e),r}Ru(e){var t;const i=(t=this.path)===null||t===void 0?void 0:t.child(e),r=this.Tu({path:i,du:!1});return r.Pu(),r}Vu(e){return this.Tu({path:void 0,du:!0})}mu(e){return Ig(e,this.settings.methodName,this.settings.fu||!1,this.path,this.settings.gu)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Pu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Au(this.path.get(e))}Au(e){if(e.length===0)throw this.mu("Document fields must not be empty");if(wQ(this.Iu)&&Fj.test(e))throw this.mu('Document fields cannot begin and end with "__"')}}class Xj{constructor(e,t,i){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=i||jm(e)}pu(e,t,i,r=!1){return new __({Iu:e,methodName:t,gu:i,path:ln.emptyPath(),du:!1,fu:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function SQ(n){const e=n._freezeSettings(),t=jm(n._databaseId);return new Xj(n._databaseId,!!e.ignoreUndefinedProperties,t)}function jj(n,e,t,i,r,s={}){const o=n.pu(s.merge||s.mergeFields?2:0,e,t,r);TQ("Data must be an object, but it was:",o,i);const l=_Q(i,o);let u,h;if(s.merge)u=new nr(o.fieldMask),h=o.fieldTransforms;else if(s.mergeFields){const f=[];for(const p of s.mergeFields){const g=Gj(e,p,t);if(!o.contains(g))throw new re(U.INVALID_ARGUMENT,`Field '${g}' is specified in your field mask but missing from your input data.`);Kj(f,g)||f.push(g)}u=new nr(f),h=o.fieldTransforms.filter(p=>u.covers(p.field))}else u=null,h=o.fieldTransforms;return new zj(new Di(l),u,h)}class x_ extends w_{_toFieldTransform(e){return new X6(e.path,new Sh)}isEqual(e){return e instanceof x_}}function qj(n,e,t,i=!1){return T_(t,n.pu(i?4:3,e))}function T_(n,e){if(xQ(n=yi(n)))return TQ("Unsupported field value:",e,n),_Q(n,e);if(n instanceof w_)return function(i,r){if(!wQ(r.Iu))throw r.mu(`${i._methodName}() can only be used with update() and set()`);if(!r.path)throw r.mu(`${i._methodName}() is not currently supported inside arrays`);const s=i._toFieldTransform(r);s&&r.fieldTransforms.push(s)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.du&&e.Iu!==4)throw e.mu("Nested arrays are not supported");return function(i,r){const s=[];let o=0;for(const l of i){let u=T_(l,r.Vu(o));u==null&&(u={nullValue:"NULL_VALUE"}),s.push(u),o++}return{arrayValue:{values:s}}}(n,e)}return function(i,r){if((i=yi(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return Y6(r.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const s=Yt.fromDate(i);return{timestampValue:Cg(r.serializer,s)}}if(i instanceof Yt){const s=new Yt(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:Cg(r.serializer,s)}}if(i instanceof S_)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof Ja)return{bytesValue:Z2(r.serializer,i._byteString)};if(i instanceof mi){const s=r.databaseId,o=i.firestore._databaseId;if(!o.isEqual(s))throw r.mu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:l_(i.firestore._databaseId||r.databaseId,i._key.path)}}throw r.mu(`Unsupported field value: ${Hm(i)}`)}(n,e)}function _Q(n,e){const t={};return d2(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):gu(n,(i,r)=>{const s=T_(r,e.Eu(i));s!=null&&(t[i]=s)}),{mapValue:{fields:t}}}function xQ(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof Yt||n instanceof S_||n instanceof Ja||n instanceof mi||n instanceof w_)}function TQ(n,e,t){if(!xQ(t)||!function(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}(t)){const i=Hm(t);throw i==="an object"?e.mu(n+" a custom object"):e.mu(n+" "+i)}}function Gj(n,e,t){if((e=yi(e))instanceof v_)return e._internalPath;if(typeof e=="string")return kQ(n,e);throw Ig("Field path arguments must be of type string or ",n,!1,void 0,t)}const Hj=new RegExp("[~\\*/\\[\\]]");function kQ(n,e,t){if(e.search(Hj)>=0)throw Ig(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new v_(...e.split("."))._internalPath}catch{throw Ig(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Ig(n,e,t,i,r){const s=i&&!i.isEmpty(),o=r!==void 0;let l=`Function ${e}() called with invalid data`;t&&(l+=" (via `toFirestore()`)"),l+=". ";let u="";return(s||o)&&(u+=" (found",s&&(u+=` in field ${i}`),o&&(u+=` in document ${r}`),u+=")"),new re(U.INVALID_ARGUMENT,l+n+u)}function Kj(n,e){return n.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EQ{constructor(e,t,i,r,s){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=r,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new mi(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Jj(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(k_("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class Jj extends EQ{data(){return super.data()}}function k_(n,e){return typeof e=="string"?kQ(n,e):e instanceof v_?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e8(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new re(U.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class E_{}class t8 extends E_{}function n8(n,e,...t){let i=[];e instanceof E_&&i.push(e),i=i.concat(t),function(s){const o=s.filter(u=>u instanceof P_).length,l=s.filter(u=>u instanceof eO).length;if(o>1||o>0&&l>0)throw new re(U.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(const r of i)n=r._apply(n);return n}class eO extends t8{constructor(e,t,i){super(),this._field=e,this._op=t,this._value=i,this.type="where"}static _create(e,t,i){return new eO(e,t,i)}_apply(e){const t=this._parse(e);return PQ(e._query,t),new yu(e.firestore,e.converter,x1(e._query,t))}_parse(e){const t=SQ(e.firestore);return function(s,o,l,u,h,f,p){let g;if(h.isKeyField()){if(f==="array-contains"||f==="array-contains-any")throw new re(U.INVALID_ARGUMENT,`Invalid Query. You can't perform '${f}' queries on documentId().`);if(f==="in"||f==="not-in"){db(p,f);const O=[];for(const v of p)O.push(fb(u,s,v));g={arrayValue:{values:O}}}else g=fb(u,s,p)}else f!=="in"&&f!=="not-in"&&f!=="array-contains-any"||db(p,f),g=qj(l,o,p,f==="in"||f==="not-in");return Rt.create(h,f,g)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function i8(n,e,t){const i=e,r=k_("where",n);return eO._create(r,i,t)}class P_ extends E_{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new P_(e,t)}_parse(e){const t=this._queryConstraints.map(i=>i._parse(e)).filter(i=>i.getFilters().length>0);return t.length===1?t[0]:ar.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:(function(r,s){let o=r;const l=s.getFlattenedFilters();for(const u of l)PQ(o,u),o=x1(o,u)}(e._query,t),new yu(e.firestore,e.converter,x1(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function fb(n,e,t){if(typeof(t=yi(t))=="string"){if(t==="")throw new re(U.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!_2(e)&&t.indexOf("/")!==-1)throw new re(U.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const i=e.path.child(it.fromString(t));if(!ce.isDocumentKey(i))throw new re(U.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return MP(n,new ce(i))}if(t instanceof mi)return MP(n,t._key);throw new re(U.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Hm(t)}.`)}function db(n,e){if(!Array.isArray(n)||n.length===0)throw new re(U.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function PQ(n,e){const t=function(r,s){for(const o of r)for(const l of o.getFlattenedFilters())if(s.indexOf(l.op)>=0)return l.op;return null}(n.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new re(U.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new re(U.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class r8{convertValue(e,t="none"){switch(vl(e)){case 0:return null;case 1:return e.booleanValue;case 2:return At(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(yl(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw ge()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const i={};return gu(e,(r,s)=>{i[r]=this.convertValue(s,t)}),i}convertGeoPoint(e){return new S_(At(e.latitude),At(e.longitude))}convertArray(e,t){return(e.values||[]).map(i=>this.convertValue(i,t))}convertServerTimestamp(e,t){switch(t){case"previous":const i=e_(e);return i==null?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(yh(e));default:return null}}convertTimestamp(e){const t=_o(e);return new Yt(t.seconds,t.nanos)}convertDocumentKey(e,t){const i=it.fromString(e);ot(F2(i));const r=new vh(i.get(1),i.get(3)),s=new ce(i.popFirst(5));return r.isEqual(t)||Os(`Document ${s} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s8(n,e,t){let i;return i=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yc{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class bQ extends EQ{constructor(e,t,i,r,s,o){super(e,t,i,r,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Ep(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const i=this._document.data.field(k_("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}}class Ep extends bQ{data(e={}){return super.data(e)}}class o8{constructor(e,t,i,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new yc(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(i=>{e.call(t,new Ep(this._firestore,this._userDataWriter,i.key,i,new yc(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new re(U.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(r,s){if(r._snapshot.oldDocs.isEmpty()){let o=0;return r._snapshot.docChanges.map(l=>{const u=new Ep(r._firestore,r._userDataWriter,l.doc.key,l.doc,new yc(r._snapshot.mutatedKeys.has(l.doc.key),r._snapshot.fromCache),r.query.converter);return l.doc,{type:"added",doc:u,oldIndex:-1,newIndex:o++}})}{let o=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(l=>s||l.type!==3).map(l=>{const u=new Ep(r._firestore,r._userDataWriter,l.doc.key,l.doc,new yc(r._snapshot.mutatedKeys.has(l.doc.key),r._snapshot.fromCache),r.query.converter);let h=-1,f=-1;return l.type!==0&&(h=o.indexOf(l.doc.key),o=o.delete(l.doc.key)),l.type!==1&&(o=o.add(l.doc),f=o.indexOf(l.doc.key)),{type:l8(l.type),doc:u,oldIndex:h,newIndex:f}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function l8(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ge()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a8(n){n=Ka(n,mi);const e=Ka(n.firestore,Jm);return Vj(y_(e),n._key).then(t=>f8(e,n,t))}class CQ extends r8{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ja(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new mi(this.firestore,null,t)}}function u8(n){n=Ka(n,yu);const e=Ka(n.firestore,Jm),t=y_(e),i=new CQ(e);return e8(n._query),Zj(t,n._query).then(r=>new o8(e,i,n,r))}function c8(n,e){const t=Ka(n.firestore,Jm),i=yQ(n),r=s8(n.converter,e);return h8(t,[jj(SQ(n.firestore),"addDoc",i._key,r,n.converter!==null,{}).toMutation(i._key,hs.exists(!1))]).then(()=>i)}function h8(n,e){return function(i,r){const s=new cs;return i.asyncQueue.enqueueAndForget(async()=>kj(await Lj(i),r,s)),s.promise}(y_(n),e)}function f8(n,e,t){const i=t.docs.get(e._key),r=new CQ(n);return new bQ(n,r,e._key,i,new yc(t.hasPendingWrites,t.fromCache),e.converter)}function d8(){return new x_("serverTimestamp")}(function(e,t=!0){(function(r){pu=r})(hu),Ya(new gl("firestore",(i,{instanceIdentifier:r,options:s})=>{const o=i.getProvider("app").getImmediate(),l=new Jm(new u6(i.getProvider("auth-internal")),new d6(i.getProvider("app-check-internal")),function(h,f){if(!Object.prototype.hasOwnProperty.apply(h.options,["projectId"]))throw new re(U.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new vh(h.options.projectId,f)}(o,r),o);return s=Object.assign({useFetchStreams:t},s),l._setSettings(s),l},"PUBLIC").setMultipleInstances(!0)),fo(RP,"4.3.2",e),fo(RP,"4.3.2","esm2017")})();var p8="firebase",g8="10.5.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */fo(p8,g8,"app");function b_(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(n);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(t[i[r]]=n[i[r]]);return t}function AQ(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const m8=AQ,IQ=new jh("auth","Firebase",AQ());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rg=new ES("@firebase/auth");function O8(n,...e){Rg.logLevel<=Qe.WARN&&Rg.warn(`Auth (${hu}): ${n}`,...e)}function Pp(n,...e){Rg.logLevel<=Qe.ERROR&&Rg.error(`Auth (${hu}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zr(n,...e){throw C_(n,...e)}function Mr(n,...e){return C_(n,...e)}function RQ(n,e,t){const i=Object.assign(Object.assign({},m8()),{[e]:t});return new jh("auth","Firebase",i).create(e,{appName:n.name})}function y8(n,e,t){const i=t;if(!(e instanceof i))throw i.name!==e.constructor.name&&Zr(n,"argument-error"),RQ(n,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function C_(n,...e){if(typeof n!="string"){const t=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=n.name),n._errorFactory.create(t,...i)}return IQ.create(n,...e)}function ve(n,e,...t){if(!n)throw C_(e,...t)}function ls(n){const e="INTERNAL ASSERTION FAILED: "+n;throw Pp(e),new Error(e)}function vs(n,e){n||ls(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I1(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function v8(){return pb()==="http:"||pb()==="https:"}function pb(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w8(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(v8()||NF()||"connection"in navigator)?navigator.onLine:!0}function S8(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class df{constructor(e,t){this.shortDelay=e,this.longDelay=t,vs(t>e,"Short delay should be less than long delay!"),this.isMobile=MF()||LF()}get(){return w8()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A_(n,e){vs(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $Q{static initialize(e,t,i){this.fetchImpl=e,t&&(this.headersImpl=t),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ls("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ls("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ls("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _8={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x8=new df(3e4,6e4);function QQ(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}async function pf(n,e,t,i,r={}){return DQ(n,r,async()=>{let s={},o={};i&&(e==="GET"?o=i:s={body:JSON.stringify(i)});const l=qh(Object.assign({key:n.config.apiKey},o)).slice(1),u=await n._getAdditionalHeaders();return u["Content-Type"]="application/json",n.languageCode&&(u["X-Firebase-Locale"]=n.languageCode),$Q.fetch()(MQ(n,n.config.apiHost,t,l),Object.assign({method:e,headers:u,referrerPolicy:"no-referrer"},s))})}async function DQ(n,e,t){n._canInitEmulator=!1;const i=Object.assign(Object.assign({},_8),e);try{const r=new k8(n),s=await Promise.race([t(),r.promise]);r.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw Bd(n,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const l=s.ok?o.errorMessage:o.error.message,[u,h]=l.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw Bd(n,"credential-already-in-use",o);if(u==="EMAIL_EXISTS")throw Bd(n,"email-already-in-use",o);if(u==="USER_DISABLED")throw Bd(n,"user-disabled",o);const f=i[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(h)throw RQ(n,f,h);Zr(n,f)}}catch(r){if(r instanceof ks)throw r;Zr(n,"network-request-failed",{message:String(r)})}}async function T8(n,e,t,i,r={}){const s=await pf(n,e,t,i,r);return"mfaPendingCredential"in s&&Zr(n,"multi-factor-auth-required",{_serverResponse:s}),s}function MQ(n,e,t,i){const r=`${e}${t}?${i}`;return n.config.emulator?A_(n.config,r):`${n.config.apiScheme}://${r}`}class k8{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,i)=>{this.timer=setTimeout(()=>i(Mr(this.auth,"network-request-failed")),x8.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Bd(n,e,t){const i={appName:n.name};t.email&&(i.email=t.email),t.phoneNumber&&(i.phoneNumber=t.phoneNumber);const r=Mr(n,e,i);return r.customData._tokenResponse=t,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function E8(n,e){return pf(n,"POST","/v1/accounts:delete",e)}async function P8(n,e){return pf(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vc(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function b8(n,e=!1){const t=yi(n),i=await t.getIdToken(e),r=I_(i);ve(r&&r.exp&&r.auth_time&&r.iat,t.auth,"internal-error");const s=typeof r.firebase=="object"?r.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:r,token:i,authTime:Vc(Ay(r.auth_time)),issuedAtTime:Vc(Ay(r.iat)),expirationTime:Vc(Ay(r.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function Ay(n){return Number(n)*1e3}function I_(n){const[e,t,i]=n.split(".");if(e===void 0||t===void 0||i===void 0)return Pp("JWT malformed, contained fewer than 3 sections"),null;try{const r=JR(t);return r?JSON.parse(r):(Pp("Failed to decode base64 JWT payload"),null)}catch(r){return Pp("Caught error parsing JWT payload as JSON",r==null?void 0:r.toString()),null}}function C8(n){const e=I_(n);return ve(e,"internal-error"),ve(typeof e.exp<"u","internal-error"),ve(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Th(n,e,t=!1){if(t)return e;try{return await e}catch(i){throw i instanceof ks&&A8(i)&&n.auth.currentUser===n&&await n.auth.signOut(),i}}function A8({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I8{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const r=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NQ{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Vc(this.lastLoginAt),this.creationTime=Vc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $g(n){var e;const t=n.auth,i=await n.getIdToken(),r=await Th(n,P8(t,{idToken:i}));ve(r==null?void 0:r.users.length,t,"internal-error");const s=r.users[0];n._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?Q8(s.providerUserInfo):[],l=$8(n.providerData,o),u=n.isAnonymous,h=!(n.email&&s.passwordHash)&&!(l!=null&&l.length),f=u?h:!1,p={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:l,metadata:new NQ(s.createdAt,s.lastLoginAt),isAnonymous:f};Object.assign(n,p)}async function R8(n){const e=yi(n);await $g(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function $8(n,e){return[...n.filter(i=>!e.some(r=>r.providerId===i.providerId)),...e]}function Q8(n){return n.map(e=>{var{providerId:t}=e,i=b_(e,["providerId"]);return{providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function D8(n,e){const t=await DQ(n,{},async()=>{const i=qh({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:r,apiKey:s}=n.config,o=MQ(n,r,"/v1/token",`key=${s}`),l=await n._getAdditionalHeaders();return l["Content-Type"]="application/x-www-form-urlencoded",$Q.fetch()(o,{method:"POST",headers:l,body:i})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kh{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ve(e.idToken,"internal-error"),ve(typeof e.idToken<"u","internal-error"),ve(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):C8(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}async getToken(e,t=!1){return ve(!this.accessToken||this.refreshToken,e,"user-token-expired"),!t&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:i,refreshToken:r,expiresIn:s}=await D8(e,t);this.updateTokensAndExpiration(i,r,Number(s))}updateTokensAndExpiration(e,t,i){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,t){const{refreshToken:i,accessToken:r,expirationTime:s}=t,o=new kh;return i&&(ve(typeof i=="string","internal-error",{appName:e}),o.refreshToken=i),r&&(ve(typeof r=="string","internal-error",{appName:e}),o.accessToken=r),s&&(ve(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new kh,this.toJSON())}_performRefresh(){return ls("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ns(n,e){ve(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class al{constructor(e){var{uid:t,auth:i,stsTokenManager:r}=e,s=b_(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new I8(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new NQ(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const t=await Th(this,this.stsTokenManager.getToken(this.auth,e));return ve(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return b8(this,e)}reload(){return R8(this)}_assign(e){this!==e&&(ve(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new al(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){ve(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),t&&await $g(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await Th(this,E8(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var i,r,s,o,l,u,h,f;const p=(i=t.displayName)!==null&&i!==void 0?i:void 0,g=(r=t.email)!==null&&r!==void 0?r:void 0,O=(s=t.phoneNumber)!==null&&s!==void 0?s:void 0,v=(o=t.photoURL)!==null&&o!==void 0?o:void 0,x=(l=t.tenantId)!==null&&l!==void 0?l:void 0,k=(u=t._redirectEventId)!==null&&u!==void 0?u:void 0,w=(h=t.createdAt)!==null&&h!==void 0?h:void 0,_=(f=t.lastLoginAt)!==null&&f!==void 0?f:void 0,{uid:E,emailVerified:b,isAnonymous:I,providerData:Q,stsTokenManager:M}=t;ve(E&&M,e,"internal-error");const W=kh.fromJSON(this.name,M);ve(typeof E=="string",e,"internal-error"),Ns(p,e.name),Ns(g,e.name),ve(typeof b=="boolean",e,"internal-error"),ve(typeof I=="boolean",e,"internal-error"),Ns(O,e.name),Ns(v,e.name),Ns(x,e.name),Ns(k,e.name),Ns(w,e.name),Ns(_,e.name);const J=new al({uid:E,auth:e,email:g,emailVerified:b,displayName:p,isAnonymous:I,photoURL:v,phoneNumber:O,tenantId:x,stsTokenManager:W,createdAt:w,lastLoginAt:_});return Q&&Array.isArray(Q)&&(J.providerData=Q.map(j=>Object.assign({},j))),k&&(J._redirectEventId=k),J}static async _fromIdTokenResponse(e,t,i=!1){const r=new kh;r.updateFromServerResponse(t);const s=new al({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:i});return await $g(s),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gb=new Map;function as(n){vs(n instanceof Function,"Expected a class definition");let e=gb.get(n);return e?(vs(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,gb.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LQ{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}LQ.type="NONE";const mb=LQ;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bp(n,e,t){return`firebase:${n}:${e}:${t}`}class ba{constructor(e,t,i){this.persistence=e,this.auth=t,this.userKey=i;const{config:r,name:s}=this.auth;this.fullUserKey=bp(this.userKey,r.apiKey,s),this.fullPersistenceKey=bp("persistence",r.apiKey,s),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?al._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,i="authUser"){if(!t.length)return new ba(as(mb),e,i);const r=(await Promise.all(t.map(async h=>{if(await h._isAvailable())return h}))).filter(h=>h);let s=r[0]||as(mb);const o=bp(i,e.config.apiKey,e.name);let l=null;for(const h of t)try{const f=await h._get(o);if(f){const p=al._fromJSON(e,f);h!==s&&(l=p),s=h;break}}catch{}const u=r.filter(h=>h._shouldAllowMigration);return!s._shouldAllowMigration||!u.length?new ba(s,e,i):(s=u[0],l&&await s._set(o,l.toJSON()),await Promise.all(t.map(async h=>{if(h!==s)try{await h._remove(o)}catch{}})),new ba(s,e,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ob(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(UQ(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(VQ(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(WQ(e))return"Blackberry";if(YQ(e))return"Webos";if(R_(e))return"Safari";if((e.includes("chrome/")||ZQ(e))&&!e.includes("edge/"))return"Chrome";if(BQ(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=n.match(t);if((i==null?void 0:i.length)===2)return i[1]}return"Other"}function VQ(n=bn()){return/firefox\//i.test(n)}function R_(n=bn()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function ZQ(n=bn()){return/crios\//i.test(n)}function UQ(n=bn()){return/iemobile/i.test(n)}function BQ(n=bn()){return/android/i.test(n)}function WQ(n=bn()){return/blackberry/i.test(n)}function YQ(n=bn()){return/webos/i.test(n)}function tO(n=bn()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function M8(n=bn()){var e;return tO(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function N8(){return VF()&&document.documentMode===10}function FQ(n=bn()){return tO(n)||BQ(n)||YQ(n)||WQ(n)||/windows phone/i.test(n)||UQ(n)}function L8(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zQ(n,e=[]){let t;switch(n){case"Browser":t=Ob(bn());break;case"Worker":t=`${Ob(bn())}-${n}`;break;default:t=n}const i=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${hu}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V8{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const i=s=>new Promise((o,l)=>{try{const u=e(s);o(u)}catch(u){l(u)}});i.onAbort=t,this.queue.push(i);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const i of this.queue)await i(e),i.onAbort&&t.push(i.onAbort)}catch(i){t.reverse();for(const r of t)try{r()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i==null?void 0:i.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Z8(n,e={}){return pf(n,"GET","/v2/passwordPolicy",QQ(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U8=6;class B8{constructor(e){var t,i,r,s;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=o.minPasswordLength)!==null&&t!==void 0?t:U8,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(r=(i=e.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&r!==void 0?r:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,i,r,s,o,l;const u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,u),this.validatePasswordCharacterOptions(e,u),u.isValid&&(u.isValid=(t=u.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),u.isValid&&(u.isValid=(i=u.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),u.isValid&&(u.isValid=(r=u.containsLowercaseLetter)!==null&&r!==void 0?r:!0),u.isValid&&(u.isValid=(s=u.containsUppercaseLetter)!==null&&s!==void 0?s:!0),u.isValid&&(u.isValid=(o=u.containsNumericCharacter)!==null&&o!==void 0?o:!0),u.isValid&&(u.isValid=(l=u.containsNonAlphanumericCharacter)!==null&&l!==void 0?l:!0),u}validatePasswordLengthOptions(e,t){const i=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;i&&(t.meetsMinPasswordLength=e.length>=i),r&&(t.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let i;for(let r=0;r<e.length;r++)i=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(t,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,t,i,r,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W8{constructor(e,t,i,r){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=i,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new yb(this),this.idTokenSubscription=new yb(this),this.beforeStateQueue=new V8(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=IQ,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=as(t)),this._initializationPromise=this.queue(async()=>{var i,r;if(!this._deleted&&(this.persistenceManager=await ba.create(this,e),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((r=this.currentUser)===null||r===void 0?void 0:r.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUser(e){var t;const i=await this.assertedPersistence.getCurrentUser();let r=i,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,l=r==null?void 0:r._redirectEventId,u=await this.tryRedirectSignIn(e);(!o||o===l)&&(u!=null&&u.user)&&(r=u.user,s=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(r)}catch(o){r=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return ve(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await $g(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=S8()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const t=e?yi(e):null;return t&&ve(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&ve(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue(async()=>{await this.assertedPersistence.setPersistence(as(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await Z8(this),t=new B8(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new jh("auth","Firebase",e())}onAuthStateChanged(e,t,i){return this.registerStateListener(this.authStateSubscription,e,t,i)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,i){return this.registerStateListener(this.idTokenSubscription,e,t,i)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},t)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const i=await this.getOrInitRedirectPersistenceManager(t);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&as(e)||this._popupRedirectResolver;ve(t,this,"argument-error"),this.redirectPersistenceManager=await ba.create(this,[as(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,i;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,i,r){if(this._deleted)return()=>{};const s=typeof t=="function"?t:t.next.bind(t);let o=!1;const l=this._isInitialized?Promise.resolve():this._initializationPromise;if(ve(l,this,"internal-error"),l.then(()=>{o||s(this.currentUser)}),typeof t=="function"){const u=e.addObserver(t,i,r);return()=>{o=!0,u()}}else{const u=e.addObserver(t);return()=>{o=!0,u()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ve(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=zQ(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const i=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());i&&(t["X-Firebase-Client"]=i);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){var e;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&O8(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function nO(n){return yi(n)}class yb{constructor(e){this.auth=e,this.observer=null,this.addObserver=zF(t=>this.observer=t)}get next(){return ve(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y8(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}function F8(n){return new Promise((e,t)=>{const i=document.createElement("script");i.setAttribute("src",n),i.onload=e,i.onerror=r=>{const s=Mr("internal-error");s.customData=r,t(s)},i.type="text/javascript",i.charset="UTF-8",Y8().appendChild(i)})}function z8(n){return`__${n}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X8(n,e){const t=bS(n,"auth");if(t.isInitialized()){const r=t.getImmediate(),s=t.getOptions();if(mg(s,e??{}))return r;Zr(r,"already-initialized")}return t.initialize({options:e})}function j8(n,e){const t=(e==null?void 0:e.persistence)||[],i=(Array.isArray(t)?t:[t]).map(as);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(i,e==null?void 0:e.popupRedirectResolver)}function q8(n,e,t){const i=nO(n);ve(i._canInitEmulator,i,"emulator-config-failed"),ve(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const r=!!(t!=null&&t.disableWarnings),s=XQ(e),{host:o,port:l}=G8(e),u=l===null?"":`:${l}`;i.config.emulator={url:`${s}//${o}${u}/`},i.settings.appVerificationDisabledForTesting=!0,i.emulatorConfig=Object.freeze({host:o,port:l,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:r})}),r||H8()}function XQ(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function G8(n){const e=XQ(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const i=t[2].split("@").pop()||"",r=/^(\[[^\]]+\])(:|$)/.exec(i);if(r){const s=r[1];return{host:s,port:vb(i.substr(s.length+1))}}else{const[s,o]=i.split(":");return{host:s,port:vb(o)}}}function vb(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function H8(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jQ{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return ls("not implemented")}_getIdTokenResponse(e){return ls("not implemented")}_linkToIdToken(e,t){return ls("not implemented")}_getReauthenticationResolver(e){return ls("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ca(n,e){return T8(n,"POST","/v1/accounts:signInWithIdp",QQ(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K8="http://localhost";class wl extends jQ{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new wl(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Zr("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:r}=t,s=b_(t,["providerId","signInMethod"]);if(!i||!r)return null;const o=new wl(i,r);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const t=this.buildRequest();return Ca(e,t)}_linkToIdToken(e,t){const i=this.buildRequest();return i.idToken=t,Ca(e,i)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Ca(e,t)}buildRequest(){const e={requestUri:K8,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=qh(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $_{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gf extends $_{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ys extends gf{constructor(){super("facebook.com")}static credential(e){return wl._fromParams({providerId:Ys.PROVIDER_ID,signInMethod:Ys.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ys.credentialFromTaggedObject(e)}static credentialFromError(e){return Ys.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ys.credential(e.oauthAccessToken)}catch{return null}}}Ys.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ys.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class is extends gf{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return wl._fromParams({providerId:is.PROVIDER_ID,signInMethod:is.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return is.credentialFromTaggedObject(e)}static credentialFromError(e){return is.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:i}=e;if(!t&&!i)return null;try{return is.credential(t,i)}catch{return null}}}is.GOOGLE_SIGN_IN_METHOD="google.com";is.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fs extends gf{constructor(){super("github.com")}static credential(e){return wl._fromParams({providerId:Fs.PROVIDER_ID,signInMethod:Fs.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Fs.credentialFromTaggedObject(e)}static credentialFromError(e){return Fs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Fs.credential(e.oauthAccessToken)}catch{return null}}}Fs.GITHUB_SIGN_IN_METHOD="github.com";Fs.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zs extends gf{constructor(){super("twitter.com")}static credential(e,t){return wl._fromParams({providerId:zs.PROVIDER_ID,signInMethod:zs.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return zs.credentialFromTaggedObject(e)}static credentialFromError(e){return zs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:i}=e;if(!t||!i)return null;try{return zs.credential(t,i)}catch{return null}}}zs.TWITTER_SIGN_IN_METHOD="twitter.com";zs.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eu{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,i,r=!1){const s=await al._fromIdTokenResponse(e,i,r),o=wb(i);return new eu({user:s,providerId:o,_tokenResponse:i,operationType:t})}static async _forOperation(e,t,i){await e._updateTokensIfNecessary(i,!0);const r=wb(i);return new eu({user:e,providerId:r,_tokenResponse:i,operationType:t})}}function wb(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qg extends ks{constructor(e,t,i,r){var s;super(t.code,t.message),this.operationType=i,this.user=r,Object.setPrototypeOf(this,Qg.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:t.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,t,i,r){return new Qg(e,t,i,r)}}function qQ(n,e,t,i){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?Qg._fromErrorAndOperation(n,s,e,i):s})}async function J8(n,e,t=!1){const i=await Th(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return eu._forOperation(n,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eq(n,e,t=!1){const{auth:i}=n,r="reauthenticate";try{const s=await Th(n,qQ(i,r,e,n),t);ve(s.idToken,i,"internal-error");const o=I_(s.idToken);ve(o,i,"internal-error");const{sub:l}=o;return ve(n.uid===l,i,"user-mismatch"),eu._forOperation(n,r,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&Zr(i,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tq(n,e,t=!1){const i="signIn",r=await qQ(n,i,e),s=await eu._fromIdTokenResponse(n,i,r);return t||await n._updateCurrentUser(s.user),s}function nq(n,e,t,i){return yi(n).onIdTokenChanged(e,t,i)}function iq(n,e,t){return yi(n).beforeAuthStateChanged(e,t)}function rq(n){return yi(n).signOut()}const Dg="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GQ{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Dg,"1"),this.storage.removeItem(Dg),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sq(){const n=bn();return R_(n)||tO(n)}const oq=1e3,lq=10;class HQ extends GQ{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=sq()&&L8(),this.fallbackToPolling=FQ(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const i=this.storage.getItem(t),r=this.localCache[t];i!==r&&e(t,r,i)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((o,l,u)=>{this.notifyListeners(o,u)});return}const i=e.key;if(t?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const o=this.storage.getItem(i);if(e.newValue!==o)e.newValue!==null?this.storage.setItem(i,e.newValue):this.storage.removeItem(i);else if(this.localCache[i]===e.newValue&&!t)return}const r=()=>{const o=this.storage.getItem(i);!t&&this.localCache[i]===o||this.notifyListeners(i,o)},s=this.storage.getItem(i);N8()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,lq):r()}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const r of Array.from(i))r(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:i}),!0)})},oq)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}HQ.type="LOCAL";const aq=HQ;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KQ extends GQ{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}KQ.type="SESSION";const JQ=KQ;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uq(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iO{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(r=>r.isListeningto(e));if(t)return t;const i=new iO(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:i,eventType:r,data:s}=t.data,o=this.handlersMap[r];if(!(o!=null&&o.size))return;t.ports[0].postMessage({status:"ack",eventId:i,eventType:r});const l=Array.from(o).map(async h=>h(t.origin,s)),u=await uq(l);t.ports[0].postMessage({status:"done",eventId:i,eventType:r,response:u})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}iO.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q_(n="",e=10){let t="";for(let i=0;i<e;i++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cq{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,i=50){const r=typeof MessageChannel<"u"?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let s,o;return new Promise((l,u)=>{const h=Q_("",20);r.port1.start();const f=setTimeout(()=>{u(new Error("unsupported_event"))},i);o={messageChannel:r,onMessage(p){const g=p;if(g.data.eventId===h)switch(g.data.status){case"ack":clearTimeout(f),s=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),l(g.data.response);break;default:clearTimeout(f),clearTimeout(s),u(new Error("invalid_response"));break}}},this.handlers.add(o),r.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:h,data:t},[r.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nr(){return window}function hq(n){Nr().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eD(){return typeof Nr().WorkerGlobalScope<"u"&&typeof Nr().importScripts=="function"}async function fq(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function dq(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function pq(){return eD()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tD="firebaseLocalStorageDb",gq=1,Mg="firebaseLocalStorage",nD="fbase_key";class mf{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function rO(n,e){return n.transaction([Mg],e?"readwrite":"readonly").objectStore(Mg)}function mq(){const n=indexedDB.deleteDatabase(tD);return new mf(n).toPromise()}function R1(){const n=indexedDB.open(tD,gq);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const i=n.result;try{i.createObjectStore(Mg,{keyPath:nD})}catch(r){t(r)}}),n.addEventListener("success",async()=>{const i=n.result;i.objectStoreNames.contains(Mg)?e(i):(i.close(),await mq(),e(await R1()))})})}async function Sb(n,e,t){const i=rO(n,!0).put({[nD]:e,value:t});return new mf(i).toPromise()}async function Oq(n,e){const t=rO(n,!1).get(e),i=await new mf(t).toPromise();return i===void 0?null:i.value}function _b(n,e){const t=rO(n,!0).delete(e);return new mf(t).toPromise()}const yq=800,vq=3;class iD{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await R1(),this.db)}async _withRetries(e){let t=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(t++>vq)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return eD()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=iO._getInstance(pq()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await fq(),!this.activeServiceWorker)return;this.sender=new cq(this.activeServiceWorker);const i=await this.sender._send("ping",{},800);i&&!((e=i[0])===null||e===void 0)&&e.fulfilled&&!((t=i[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||dq()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await R1();return await Sb(e,Dg,"1"),await _b(e,Dg),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(i=>Sb(i,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(i=>Oq(i,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>_b(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(r=>{const s=rO(r,!1).getAll();return new mf(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],i=new Set;for(const{fbase_key:r,value:s}of e)i.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(s)&&(this.notifyListeners(r,s),t.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!i.has(r)&&(this.notifyListeners(r,null),t.push(r));return t}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const r of Array.from(i))r(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),yq)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}iD.type="LOCAL";const wq=iD;new df(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rD(n,e){return e?as(e):(ve(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D_ extends jQ{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ca(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Ca(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Ca(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function Sq(n){return tq(n.auth,new D_(n),n.bypassAuthState)}function _q(n){const{auth:e,user:t}=n;return ve(t,e,"internal-error"),eq(t,new D_(n),n.bypassAuthState)}async function xq(n){const{auth:e,user:t}=n;return ve(t,e,"internal-error"),J8(t,new D_(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sD{constructor(e,t,i,r,s=!1){this.auth=e,this.resolver=i,this.user=r,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:i,postBody:r,tenantId:s,error:o,type:l}=e;if(o){this.reject(o);return}const u={auth:this.auth,requestUri:t,sessionId:i,tenantId:s||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(l)(u))}catch(h){this.reject(h)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Sq;case"linkViaPopup":case"linkViaRedirect":return xq;case"reauthViaPopup":case"reauthViaRedirect":return _q;default:Zr(this.auth,"internal-error")}}resolve(e){vs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){vs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tq=new df(2e3,1e4);async function kq(n,e,t){const i=nO(n);y8(n,e,$_);const r=rD(i,t);return new nl(i,"signInViaPopup",e,r).executeNotNull()}class nl extends sD{constructor(e,t,i,r,s){super(e,t,r,s),this.provider=i,this.authWindow=null,this.pollId=null,nl.currentPopupAction&&nl.currentPopupAction.cancel(),nl.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ve(e,this.auth,"internal-error"),e}async onExecution(){vs(this.filter.length===1,"Popup operations only handle one event");const e=Q_();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(Mr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Mr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,nl.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,i;if(!((i=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Mr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,Tq.get())};e()}}nl.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eq="pendingRedirect",Cp=new Map;class Pq extends sD{constructor(e,t,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,i),this.eventId=null}async execute(){let e=Cp.get(this.auth._key());if(!e){try{const i=await bq(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(t){e=()=>Promise.reject(t)}Cp.set(this.auth._key(),e)}return this.bypassAuthState||Cp.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function bq(n,e){const t=Iq(e),i=Aq(n);if(!await i._isAvailable())return!1;const r=await i._get(t)==="true";return await i._remove(t),r}function Cq(n,e){Cp.set(n._key(),e)}function Aq(n){return as(n._redirectPersistence)}function Iq(n){return bp(Eq,n.config.apiKey,n.name)}async function Rq(n,e,t=!1){const i=nO(n),r=rD(i,e),o=await new Pq(i,r,t).execute();return o&&!t&&(delete o.user._redirectEventId,await i._persistUserIfCurrent(o.user),await i._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $q=10*60*1e3;class Qq{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(t=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!Dq(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var i;if(e.error&&!oD(e)){const r=((i=e.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";t.onError(Mr(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const i=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=$q&&this.cachedEventUids.clear(),this.cachedEventUids.has(xb(e))}saveEventToCache(e){this.cachedEventUids.add(xb(e)),this.lastProcessedEventTime=Date.now()}}function xb(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function oD({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function Dq(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return oD(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Mq(n,e={}){return pf(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nq=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Lq=/^https?/;async function Vq(n){if(n.config.emulator)return;const{authorizedDomains:e}=await Mq(n);for(const t of e)try{if(Zq(t))return}catch{}Zr(n,"unauthorized-domain")}function Zq(n){const e=I1(),{protocol:t,hostname:i}=new URL(e);if(n.startsWith("chrome-extension://")){const o=new URL(n);return o.hostname===""&&i===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&o.hostname===i}if(!Lq.test(t))return!1;if(Nq.test(n))return i===n;const r=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+r+"|"+r+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uq=new df(3e4,6e4);function Tb(){const n=Nr().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function Bq(n){return new Promise((e,t)=>{var i,r,s;function o(){Tb(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Tb(),t(Mr(n,"network-request-failed"))},timeout:Uq.get()})}if(!((r=(i=Nr().gapi)===null||i===void 0?void 0:i.iframes)===null||r===void 0)&&r.Iframe)e(gapi.iframes.getContext());else if(!((s=Nr().gapi)===null||s===void 0)&&s.load)o();else{const l=z8("iframefcb");return Nr()[l]=()=>{gapi.load?o():t(Mr(n,"network-request-failed"))},F8(`https://apis.google.com/js/api.js?onload=${l}`).catch(u=>t(u))}}).catch(e=>{throw Ap=null,e})}let Ap=null;function Wq(n){return Ap=Ap||Bq(n),Ap}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yq=new df(5e3,15e3),Fq="__/auth/iframe",zq="emulator/auth/iframe",Xq={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},jq=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function qq(n){const e=n.config;ve(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?A_(e,zq):`https://${n.config.authDomain}/${Fq}`,i={apiKey:e.apiKey,appName:n.name,v:hu},r=jq.get(n.config.apiHost);r&&(i.eid=r);const s=n._getFrameworks();return s.length&&(i.fw=s.join(",")),`${t}?${qh(i).slice(1)}`}async function Gq(n){const e=await Wq(n),t=Nr().gapi;return ve(t,n,"internal-error"),e.open({where:document.body,url:qq(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Xq,dontclear:!0},i=>new Promise(async(r,s)=>{await i.restyle({setHideOnLeave:!1});const o=Mr(n,"network-request-failed"),l=Nr().setTimeout(()=>{s(o)},Yq.get());function u(){Nr().clearTimeout(l),r(i)}i.ping(u).then(u,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hq={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Kq=500,Jq=600,eG="_blank",tG="http://localhost";class kb{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function nG(n,e,t,i=Kq,r=Jq){const s=Math.max((window.screen.availHeight-r)/2,0).toString(),o=Math.max((window.screen.availWidth-i)/2,0).toString();let l="";const u=Object.assign(Object.assign({},Hq),{width:i.toString(),height:r.toString(),top:s,left:o}),h=bn().toLowerCase();t&&(l=ZQ(h)?eG:t),VQ(h)&&(e=e||tG,u.scrollbars="yes");const f=Object.entries(u).reduce((g,[O,v])=>`${g}${O}=${v},`,"");if(M8(h)&&l!=="_self")return iG(e||"",l),new kb(null);const p=window.open(e||"",l,f);ve(p,n,"popup-blocked");try{p.focus()}catch{}return new kb(p)}function iG(n,e){const t=document.createElement("a");t.href=n,t.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rG="__/auth/handler",sG="emulator/auth/handler",oG=encodeURIComponent("fac");async function Eb(n,e,t,i,r,s){ve(n.config.authDomain,n,"auth-domain-config-required"),ve(n.config.apiKey,n,"invalid-api-key");const o={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:i,v:hu,eventId:r};if(e instanceof $_){e.setDefaultLanguage(n.languageCode),o.providerId=e.providerId||"",FF(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[f,p]of Object.entries(s||{}))o[f]=p}if(e instanceof gf){const f=e.getScopes().filter(p=>p!=="");f.length>0&&(o.scopes=f.join(","))}n.tenantId&&(o.tid=n.tenantId);const l=o;for(const f of Object.keys(l))l[f]===void 0&&delete l[f];const u=await n._getAppCheckToken(),h=u?`#${oG}=${encodeURIComponent(u)}`:"";return`${lG(n)}?${qh(l).slice(1)}${h}`}function lG({config:n}){return n.emulator?A_(n,sG):`https://${n.authDomain}/${rG}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Iy="webStorageSupport";class aG{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=JQ,this._completeRedirectFn=Rq,this._overrideRedirectResult=Cq}async _openPopup(e,t,i,r){var s;vs((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await Eb(e,t,i,I1(),r);return nG(e,o,Q_())}async _openRedirect(e,t,i,r){await this._originValidation(e);const s=await Eb(e,t,i,I1(),r);return hq(s),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:r,promise:s}=this.eventManagers[t];return r?Promise.resolve(r):(vs(s,"If manager is not set, promise should be"),s)}const i=this.initAndGetManager(e);return this.eventManagers[t]={promise:i},i.catch(()=>{delete this.eventManagers[t]}),i}async initAndGetManager(e){const t=await Gq(e),i=new Qq(e);return t.register("authEvent",r=>(ve(r==null?void 0:r.authEvent,e,"invalid-auth-event"),{status:i.onEvent(r.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=t,i}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Iy,{type:Iy},r=>{var s;const o=(s=r==null?void 0:r[0])===null||s===void 0?void 0:s[Iy];o!==void 0&&t(!!o),Zr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=Vq(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return FQ()||R_()||tO()}}const uG=aG;var Pb="@firebase/auth",bb="1.3.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cG{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(i=>{e((i==null?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){ve(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hG(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}function fG(n){Ya(new gl("auth",(e,{options:t})=>{const i=e.getProvider("app").getImmediate(),r=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:l}=i.options;ve(o&&!o.includes(":"),"invalid-api-key",{appName:i.name});const u={apiKey:o,authDomain:l,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:zQ(n)},h=new W8(i,r,s,u);return j8(h,t),h},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,i)=>{e.getProvider("auth-internal").initialize()})),Ya(new gl("auth-internal",e=>{const t=nO(e.getProvider("auth").getImmediate());return(i=>new cG(i))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),fo(Pb,bb,hG(n)),fo(Pb,bb,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dG=5*60,pG=n$("authIdTokenMaxAge")||dG;let Cb=null;const gG=n=>async e=>{const t=e&&await e.getIdTokenResult(),i=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(i&&i>pG)return;const r=t==null?void 0:t.token;Cb!==r&&(Cb=r,await fetch(n,{method:r?"POST":"DELETE",headers:r?{Authorization:`Bearer ${r}`}:{}}))};function mG(n=o$()){const e=bS(n,"auth");if(e.isInitialized())return e.getImmediate();const t=X8(n,{popupRedirectResolver:uG,persistence:[wq,aq,JQ]}),i=n$("authTokenSyncURL");if(i){const s=gG(i);iq(t,s,()=>s(t.currentUser)),nq(t,o=>s(o))}const r=e$("auth");return r&&q8(t,`http://${r}`),t}fG("Browser");const OG={apiKey:"AIzaSyB5_RcSU-EcHFHgsW0Lts0VbyrLV9GgxaM",authDomain:"fir-102-a1e12.firebaseapp.com",projectId:"fir-102-a1e12",storageBucket:"fir-102-a1e12.appspot.com",messagingSenderId:"921393008132",appId:"1:921393008132:web:068e4150d8225e94e5ef51"},lD=s$(OG),Ab=mG(lD),yG=new is,M_=Yj(lD),sO=()=>{const n=XR(),e=async()=>{const l=await kq(Ab,yG),u={userID:l.user.uid,name:l.user.displayName,profilePhoto:l.user.photoURL,isAuth:!0};localStorage.setItem("auth",JSON.stringify(u)),n("/dash"),console.log(l)},t=async()=>{await rq(Ab),localStorage.removeItem("auth"),n("/")},{userID:i,name:r,profilePhoto:s,isAuth:o}=JSON.parse(localStorage.getItem("auth"))||{};return{signInGoogle:e,signOutGoogle:t,userID:i,name:r,profilePhoto:s,isAuth:o}},vG=()=>{const n=OQ(M_,"problems"),{userID:e}=sO();return{addProblem:async({title:i="",code:r="",description:s="",difficulty:o="",tags:l=[]})=>{console.log("attempting a save for userid: ",e);const u=await c8(n,{userID:e,title:i,code:r,description:s||"",difficulty:o,tags:l,createdAt:d8()});console.log("Document written with ID: ",u.id)}}};class Le{lineAt(e){if(e<0||e>this.length)throw new RangeError(`Invalid position ${e} in document of length ${this.length}`);return this.lineInner(e,!1,1,0)}line(e){if(e<1||e>this.lines)throw new RangeError(`Invalid line number ${e} in ${this.lines}-line document`);return this.lineInner(e,!0,1,0)}replace(e,t,i){let r=[];return this.decompose(0,e,r,2),i.length&&i.decompose(0,i.length,r,3),this.decompose(t,this.length,r,1),kr.from(r,this.length-(t-e)+i.length)}append(e){return this.replace(this.length,this.length,e)}slice(e,t=this.length){let i=[];return this.decompose(e,t,i,0),kr.from(i,t-e)}eq(e){if(e==this)return!0;if(e.length!=this.length||e.lines!=this.lines)return!1;let t=this.scanIdentical(e,1),i=this.length-this.scanIdentical(e,-1),r=new Zc(this),s=new Zc(e);for(let o=t,l=t;;){if(r.next(o),s.next(o),o=0,r.lineBreak!=s.lineBreak||r.done!=s.done||r.value!=s.value)return!1;if(l+=r.value.length,r.done||l>=i)return!0}}iter(e=1){return new Zc(this,e)}iterRange(e,t=this.length){return new aD(this,e,t)}iterLines(e,t){let i;if(e==null)i=this.iter();else{t==null&&(t=this.lines+1);let r=this.line(e).from;i=this.iterRange(r,Math.max(r,t==this.lines+1?this.length:t<=1?0:this.line(t-1).to))}return new uD(i)}toString(){return this.sliceString(0)}toJSON(){let e=[];return this.flatten(e),e}constructor(){}static of(e){if(e.length==0)throw new RangeError("A document must have at least one line");return e.length==1&&!e[0]?Le.empty:e.length<=32?new kt(e):kr.from(kt.split(e,[]))}}class kt extends Le{constructor(e,t=wG(e)){super(),this.text=e,this.length=t}get lines(){return this.text.length}get children(){return null}lineInner(e,t,i,r){for(let s=0;;s++){let o=this.text[s],l=r+o.length;if((t?i:l)>=e)return new SG(r,l,i,o);r=l+1,i++}}decompose(e,t,i,r){let s=e<=0&&t>=this.length?this:new kt(Ib(this.text,e,t),Math.min(t,this.length)-Math.max(0,e));if(r&1){let o=i.pop(),l=Ip(s.text,o.text.slice(),0,s.length);if(l.length<=32)i.push(new kt(l,o.length+s.length));else{let u=l.length>>1;i.push(new kt(l.slice(0,u)),new kt(l.slice(u)))}}else i.push(s)}replace(e,t,i){if(!(i instanceof kt))return super.replace(e,t,i);let r=Ip(this.text,Ip(i.text,Ib(this.text,0,e)),t),s=this.length+i.length-(t-e);return r.length<=32?new kt(r,s):kr.from(kt.split(r,[]),s)}sliceString(e,t=this.length,i=`
`){let r="";for(let s=0,o=0;s<=t&&o<this.text.length;o++){let l=this.text[o],u=s+l.length;s>e&&o&&(r+=i),e<u&&t>s&&(r+=l.slice(Math.max(0,e-s),t-s)),s=u+1}return r}flatten(e){for(let t of this.text)e.push(t)}scanIdentical(){return 0}static split(e,t){let i=[],r=-1;for(let s of e)i.push(s),r+=s.length+1,i.length==32&&(t.push(new kt(i,r)),i=[],r=-1);return r>-1&&t.push(new kt(i,r)),t}}class kr extends Le{constructor(e,t){super(),this.children=e,this.length=t,this.lines=0;for(let i of e)this.lines+=i.lines}lineInner(e,t,i,r){for(let s=0;;s++){let o=this.children[s],l=r+o.length,u=i+o.lines-1;if((t?u:l)>=e)return o.lineInner(e,t,i,r);r=l+1,i=u+1}}decompose(e,t,i,r){for(let s=0,o=0;o<=t&&s<this.children.length;s++){let l=this.children[s],u=o+l.length;if(e<=u&&t>=o){let h=r&((o<=e?1:0)|(u>=t?2:0));o>=e&&u<=t&&!h?i.push(l):l.decompose(e-o,t-o,i,h)}o=u+1}}replace(e,t,i){if(i.lines<this.lines)for(let r=0,s=0;r<this.children.length;r++){let o=this.children[r],l=s+o.length;if(e>=s&&t<=l){let u=o.replace(e-s,t-s,i),h=this.lines-o.lines+u.lines;if(u.lines<h>>5-1&&u.lines>h>>5+1){let f=this.children.slice();return f[r]=u,new kr(f,this.length-(t-e)+i.length)}return super.replace(s,l,u)}s=l+1}return super.replace(e,t,i)}sliceString(e,t=this.length,i=`
`){let r="";for(let s=0,o=0;s<this.children.length&&o<=t;s++){let l=this.children[s],u=o+l.length;o>e&&s&&(r+=i),e<u&&t>o&&(r+=l.sliceString(e-o,t-o,i)),o=u+1}return r}flatten(e){for(let t of this.children)t.flatten(e)}scanIdentical(e,t){if(!(e instanceof kr))return 0;let i=0,[r,s,o,l]=t>0?[0,0,this.children.length,e.children.length]:[this.children.length-1,e.children.length-1,-1,-1];for(;;r+=t,s+=t){if(r==o||s==l)return i;let u=this.children[r],h=e.children[s];if(u!=h)return i+u.scanIdentical(h,t);i+=u.length+1}}static from(e,t=e.reduce((i,r)=>i+r.length+1,-1)){let i=0;for(let O of e)i+=O.lines;if(i<32){let O=[];for(let v of e)v.flatten(O);return new kt(O,t)}let r=Math.max(32,i>>5),s=r<<1,o=r>>1,l=[],u=0,h=-1,f=[];function p(O){let v;if(O.lines>s&&O instanceof kr)for(let x of O.children)p(x);else O.lines>o&&(u>o||!u)?(g(),l.push(O)):O instanceof kt&&u&&(v=f[f.length-1])instanceof kt&&O.lines+v.lines<=32?(u+=O.lines,h+=O.length+1,f[f.length-1]=new kt(v.text.concat(O.text),v.length+1+O.length)):(u+O.lines>r&&g(),u+=O.lines,h+=O.length+1,f.push(O))}function g(){u!=0&&(l.push(f.length==1?f[0]:kr.from(f,h)),h=-1,u=f.length=0)}for(let O of e)p(O);return g(),l.length==1?l[0]:new kr(l,t)}}Le.empty=new kt([""],0);function wG(n){let e=-1;for(let t of n)e+=t.length+1;return e}function Ip(n,e,t=0,i=1e9){for(let r=0,s=0,o=!0;s<n.length&&r<=i;s++){let l=n[s],u=r+l.length;u>=t&&(u>i&&(l=l.slice(0,i-r)),r<t&&(l=l.slice(t-r)),o?(e[e.length-1]+=l,o=!1):e.push(l)),r=u+1}return e}function Ib(n,e,t){return Ip(n,[""],e,t)}class Zc{constructor(e,t=1){this.dir=t,this.done=!1,this.lineBreak=!1,this.value="",this.nodes=[e],this.offsets=[t>0?1:(e instanceof kt?e.text.length:e.children.length)<<1]}nextInner(e,t){for(this.done=this.lineBreak=!1;;){let i=this.nodes.length-1,r=this.nodes[i],s=this.offsets[i],o=s>>1,l=r instanceof kt?r.text.length:r.children.length;if(o==(t>0?l:0)){if(i==0)return this.done=!0,this.value="",this;t>0&&this.offsets[i-1]++,this.nodes.pop(),this.offsets.pop()}else if((s&1)==(t>0?0:1)){if(this.offsets[i]+=t,e==0)return this.lineBreak=!0,this.value=`
`,this;e--}else if(r instanceof kt){let u=r.text[o+(t<0?-1:0)];if(this.offsets[i]+=t,u.length>Math.max(0,e))return this.value=e==0?u:t>0?u.slice(e):u.slice(0,u.length-e),this;e-=u.length}else{let u=r.children[o+(t<0?-1:0)];e>u.length?(e-=u.length,this.offsets[i]+=t):(t<0&&this.offsets[i]--,this.nodes.push(u),this.offsets.push(t>0?1:(u instanceof kt?u.text.length:u.children.length)<<1))}}}next(e=0){return e<0&&(this.nextInner(-e,-this.dir),e=this.value.length),this.nextInner(e,this.dir)}}class aD{constructor(e,t,i){this.value="",this.done=!1,this.cursor=new Zc(e,t>i?-1:1),this.pos=t>i?e.length:0,this.from=Math.min(t,i),this.to=Math.max(t,i)}nextInner(e,t){if(t<0?this.pos<=this.from:this.pos>=this.to)return this.value="",this.done=!0,this;e+=Math.max(0,t<0?this.pos-this.to:this.from-this.pos);let i=t<0?this.pos-this.from:this.to-this.pos;e>i&&(e=i),i-=e;let{value:r}=this.cursor.next(e);return this.pos+=(r.length+e)*t,this.value=r.length<=i?r:t<0?r.slice(r.length-i):r.slice(0,i),this.done=!this.value,this}next(e=0){return e<0?e=Math.max(e,this.from-this.pos):e>0&&(e=Math.min(e,this.to-this.pos)),this.nextInner(e,this.cursor.dir)}get lineBreak(){return this.cursor.lineBreak&&this.value!=""}}class uD{constructor(e){this.inner=e,this.afterBreak=!0,this.value="",this.done=!1}next(e=0){let{done:t,lineBreak:i,value:r}=this.inner.next(e);return t?(this.done=!0,this.value=""):i?this.afterBreak?this.value="":(this.afterBreak=!0,this.next()):(this.value=r,this.afterBreak=!1),this}get lineBreak(){return!1}}typeof Symbol<"u"&&(Le.prototype[Symbol.iterator]=function(){return this.iter()},Zc.prototype[Symbol.iterator]=aD.prototype[Symbol.iterator]=uD.prototype[Symbol.iterator]=function(){return this});class SG{constructor(e,t,i,r){this.from=e,this.to=t,this.number=i,this.text=r}get length(){return this.to-this.from}}let Aa="lc,34,7n,7,7b,19,,,,2,,2,,,20,b,1c,l,g,,2t,7,2,6,2,2,,4,z,,u,r,2j,b,1m,9,9,,o,4,,9,,3,,5,17,3,3b,f,,w,1j,,,,4,8,4,,3,7,a,2,t,,1m,,,,2,4,8,,9,,a,2,q,,2,2,1l,,4,2,4,2,2,3,3,,u,2,3,,b,2,1l,,4,5,,2,4,,k,2,m,6,,,1m,,,2,,4,8,,7,3,a,2,u,,1n,,,,c,,9,,14,,3,,1l,3,5,3,,4,7,2,b,2,t,,1m,,2,,2,,3,,5,2,7,2,b,2,s,2,1l,2,,,2,4,8,,9,,a,2,t,,20,,4,,2,3,,,8,,29,,2,7,c,8,2q,,2,9,b,6,22,2,r,,,,,,1j,e,,5,,2,5,b,,10,9,,2u,4,,6,,2,2,2,p,2,4,3,g,4,d,,2,2,6,,f,,jj,3,qa,3,t,3,t,2,u,2,1s,2,,7,8,,2,b,9,,19,3,3b,2,y,,3a,3,4,2,9,,6,3,63,2,2,,1m,,,7,,,,,2,8,6,a,2,,1c,h,1r,4,1c,7,,,5,,14,9,c,2,w,4,2,2,,3,1k,,,2,3,,,3,1m,8,2,2,48,3,,d,,7,4,,6,,3,2,5i,1m,,5,ek,,5f,x,2da,3,3x,,2o,w,fe,6,2x,2,n9w,4,,a,w,2,28,2,7k,,3,,4,,p,2,5,,47,2,q,i,d,,12,8,p,b,1a,3,1c,,2,4,2,2,13,,1v,6,2,2,2,2,c,,8,,1b,,1f,,,3,2,2,5,2,,,16,2,8,,6m,,2,,4,,fn4,,kh,g,g,g,a6,2,gt,,6a,,45,5,1ae,3,,2,5,4,14,3,4,,4l,2,fx,4,ar,2,49,b,4w,,1i,f,1k,3,1d,4,2,2,1x,3,10,5,,8,1q,,c,2,1g,9,a,4,2,,2n,3,2,,,2,6,,4g,,3,8,l,2,1l,2,,,,,m,,e,7,3,5,5f,8,2,3,,,n,,29,,2,6,,,2,,,2,,2,6j,,2,4,6,2,,2,r,2,2d,8,2,,,2,2y,,,,2,6,,,2t,3,2,4,,5,77,9,,2,6t,,a,2,,,4,,40,4,2,2,4,,w,a,14,6,2,4,8,,9,6,2,3,1a,d,,2,ba,7,,6,,,2a,m,2,7,,2,,2,3e,6,3,,,2,,7,,,20,2,3,,,,9n,2,f0b,5,1n,7,t4,,1r,4,29,,f5k,2,43q,,,3,4,5,8,8,2,7,u,4,44,3,1iz,1j,4,1e,8,,e,,m,5,,f,11s,7,,h,2,7,,2,,5,79,7,c5,4,15s,7,31,7,240,5,gx7k,2o,3k,6o".split(",").map(n=>n?parseInt(n,36):1);for(let n=1;n<Aa.length;n++)Aa[n]+=Aa[n-1];function _G(n){for(let e=1;e<Aa.length;e+=2)if(Aa[e]>n)return Aa[e-1]<=n;return!1}function Rb(n){return n>=127462&&n<=127487}const $b=8205;function Tn(n,e,t=!0,i=!0){return(t?cD:xG)(n,e,i)}function cD(n,e,t){if(e==n.length)return e;e&&hD(n.charCodeAt(e))&&fD(n.charCodeAt(e-1))&&e--;let i=sn(n,e);for(e+=Mi(i);e<n.length;){let r=sn(n,e);if(i==$b||r==$b||t&&_G(r))e+=Mi(r),i=r;else if(Rb(r)){let s=0,o=e-2;for(;o>=0&&Rb(sn(n,o));)s++,o-=2;if(s%2==0)break;e+=2}else break}return e}function xG(n,e,t){for(;e>0;){let i=cD(n,e-2,t);if(i<e)return i;e--}return 0}function hD(n){return n>=56320&&n<57344}function fD(n){return n>=55296&&n<56320}function sn(n,e){let t=n.charCodeAt(e);if(!fD(t)||e+1==n.length)return t;let i=n.charCodeAt(e+1);return hD(i)?(t-55296<<10)+(i-56320)+65536:t}function N_(n){return n<=65535?String.fromCharCode(n):(n-=65536,String.fromCharCode((n>>10)+55296,(n&1023)+56320))}function Mi(n){return n<65536?1:2}const $1=/\r\n?|\n/;var an=function(n){return n[n.Simple=0]="Simple",n[n.TrackDel=1]="TrackDel",n[n.TrackBefore=2]="TrackBefore",n[n.TrackAfter=3]="TrackAfter",n}(an||(an={}));class Lr{constructor(e){this.sections=e}get length(){let e=0;for(let t=0;t<this.sections.length;t+=2)e+=this.sections[t];return e}get newLength(){let e=0;for(let t=0;t<this.sections.length;t+=2){let i=this.sections[t+1];e+=i<0?this.sections[t]:i}return e}get empty(){return this.sections.length==0||this.sections.length==2&&this.sections[1]<0}iterGaps(e){for(let t=0,i=0,r=0;t<this.sections.length;){let s=this.sections[t++],o=this.sections[t++];o<0?(e(i,r,s),r+=s):r+=o,i+=s}}iterChangedRanges(e,t=!1){Q1(this,e,t)}get invertedDesc(){let e=[];for(let t=0;t<this.sections.length;){let i=this.sections[t++],r=this.sections[t++];r<0?e.push(i,r):e.push(r,i)}return new Lr(e)}composeDesc(e){return this.empty?e:e.empty?this:dD(this,e)}mapDesc(e,t=!1){return e.empty?this:D1(this,e,t)}mapPos(e,t=-1,i=an.Simple){let r=0,s=0;for(let o=0;o<this.sections.length;){let l=this.sections[o++],u=this.sections[o++],h=r+l;if(u<0){if(h>e)return s+(e-r);s+=l}else{if(i!=an.Simple&&h>=e&&(i==an.TrackDel&&r<e&&h>e||i==an.TrackBefore&&r<e||i==an.TrackAfter&&h>e))return null;if(h>e||h==e&&t<0&&!l)return e==r||t<0?s:s+u;s+=u}r=h}if(e>r)throw new RangeError(`Position ${e} is out of range for changeset of length ${r}`);return s}touchesRange(e,t=e){for(let i=0,r=0;i<this.sections.length&&r<=t;){let s=this.sections[i++],o=this.sections[i++],l=r+s;if(o>=0&&r<=t&&l>=e)return r<e&&l>t?"cover":!0;r=l}return!1}toString(){let e="";for(let t=0;t<this.sections.length;){let i=this.sections[t++],r=this.sections[t++];e+=(e?" ":"")+i+(r>=0?":"+r:"")}return e}toJSON(){return this.sections}static fromJSON(e){if(!Array.isArray(e)||e.length%2||e.some(t=>typeof t!="number"))throw new RangeError("Invalid JSON representation of ChangeDesc");return new Lr(e)}static create(e){return new Lr(e)}}class Zt extends Lr{constructor(e,t){super(e),this.inserted=t}apply(e){if(this.length!=e.length)throw new RangeError("Applying change set to a document with the wrong length");return Q1(this,(t,i,r,s,o)=>e=e.replace(r,r+(i-t),o),!1),e}mapDesc(e,t=!1){return D1(this,e,t,!0)}invert(e){let t=this.sections.slice(),i=[];for(let r=0,s=0;r<t.length;r+=2){let o=t[r],l=t[r+1];if(l>=0){t[r]=l,t[r+1]=o;let u=r>>1;for(;i.length<u;)i.push(Le.empty);i.push(o?e.slice(s,s+o):Le.empty)}s+=o}return new Zt(t,i)}compose(e){return this.empty?e:e.empty?this:dD(this,e,!0)}map(e,t=!1){return e.empty?this:D1(this,e,t,!0)}iterChanges(e,t=!1){Q1(this,e,t)}get desc(){return Lr.create(this.sections)}filter(e){let t=[],i=[],r=[],s=new Eh(this);e:for(let o=0,l=0;;){let u=o==e.length?1e9:e[o++];for(;l<u||l==u&&s.len==0;){if(s.done)break e;let f=Math.min(s.len,u-l);vn(r,f,-1);let p=s.ins==-1?-1:s.off==0?s.ins:0;vn(t,f,p),p>0&&Ks(i,t,s.text),s.forward(f),l+=f}let h=e[o++];for(;l<h;){if(s.done)break e;let f=Math.min(s.len,h-l);vn(t,f,-1),vn(r,f,s.ins==-1?-1:s.off==0?s.ins:0),s.forward(f),l+=f}}return{changes:new Zt(t,i),filtered:Lr.create(r)}}toJSON(){let e=[];for(let t=0;t<this.sections.length;t+=2){let i=this.sections[t],r=this.sections[t+1];r<0?e.push(i):r==0?e.push([i]):e.push([i].concat(this.inserted[t>>1].toJSON()))}return e}static of(e,t,i){let r=[],s=[],o=0,l=null;function u(f=!1){if(!f&&!r.length)return;o<t&&vn(r,t-o,-1);let p=new Zt(r,s);l=l?l.compose(p.map(l)):p,r=[],s=[],o=0}function h(f){if(Array.isArray(f))for(let p of f)h(p);else if(f instanceof Zt){if(f.length!=t)throw new RangeError(`Mismatched change set length (got ${f.length}, expected ${t})`);u(),l=l?l.compose(f.map(l)):f}else{let{from:p,to:g=p,insert:O}=f;if(p>g||p<0||g>t)throw new RangeError(`Invalid change range ${p} to ${g} (in doc of length ${t})`);let v=O?typeof O=="string"?Le.of(O.split(i||$1)):O:Le.empty,x=v.length;if(p==g&&x==0)return;p<o&&u(),p>o&&vn(r,p-o,-1),vn(r,g-p,x),Ks(s,r,v),o=g}}return h(e),u(!l),l}static empty(e){return new Zt(e?[e,-1]:[],[])}static fromJSON(e){if(!Array.isArray(e))throw new RangeError("Invalid JSON representation of ChangeSet");let t=[],i=[];for(let r=0;r<e.length;r++){let s=e[r];if(typeof s=="number")t.push(s,-1);else{if(!Array.isArray(s)||typeof s[0]!="number"||s.some((o,l)=>l&&typeof o!="string"))throw new RangeError("Invalid JSON representation of ChangeSet");if(s.length==1)t.push(s[0],0);else{for(;i.length<r;)i.push(Le.empty);i[r]=Le.of(s.slice(1)),t.push(s[0],i[r].length)}}}return new Zt(t,i)}static createSet(e,t){return new Zt(e,t)}}function vn(n,e,t,i=!1){if(e==0&&t<=0)return;let r=n.length-2;r>=0&&t<=0&&t==n[r+1]?n[r]+=e:e==0&&n[r]==0?n[r+1]+=t:i?(n[r]+=e,n[r+1]+=t):n.push(e,t)}function Ks(n,e,t){if(t.length==0)return;let i=e.length-2>>1;if(i<n.length)n[n.length-1]=n[n.length-1].append(t);else{for(;n.length<i;)n.push(Le.empty);n.push(t)}}function Q1(n,e,t){let i=n.inserted;for(let r=0,s=0,o=0;o<n.sections.length;){let l=n.sections[o++],u=n.sections[o++];if(u<0)r+=l,s+=l;else{let h=r,f=s,p=Le.empty;for(;h+=l,f+=u,u&&i&&(p=p.append(i[o-2>>1])),!(t||o==n.sections.length||n.sections[o+1]<0);)l=n.sections[o++],u=n.sections[o++];e(r,h,s,f,p),r=h,s=f}}}function D1(n,e,t,i=!1){let r=[],s=i?[]:null,o=new Eh(n),l=new Eh(e);for(let u=-1;;)if(o.ins==-1&&l.ins==-1){let h=Math.min(o.len,l.len);vn(r,h,-1),o.forward(h),l.forward(h)}else if(l.ins>=0&&(o.ins<0||u==o.i||o.off==0&&(l.len<o.len||l.len==o.len&&!t))){let h=l.len;for(vn(r,l.ins,-1);h;){let f=Math.min(o.len,h);o.ins>=0&&u<o.i&&o.len<=f&&(vn(r,0,o.ins),s&&Ks(s,r,o.text),u=o.i),o.forward(f),h-=f}l.next()}else if(o.ins>=0){let h=0,f=o.len;for(;f;)if(l.ins==-1){let p=Math.min(f,l.len);h+=p,f-=p,l.forward(p)}else if(l.ins==0&&l.len<f)f-=l.len,l.next();else break;vn(r,h,u<o.i?o.ins:0),s&&u<o.i&&Ks(s,r,o.text),u=o.i,o.forward(o.len-f)}else{if(o.done&&l.done)return s?Zt.createSet(r,s):Lr.create(r);throw new Error("Mismatched change set lengths")}}function dD(n,e,t=!1){let i=[],r=t?[]:null,s=new Eh(n),o=new Eh(e);for(let l=!1;;){if(s.done&&o.done)return r?Zt.createSet(i,r):Lr.create(i);if(s.ins==0)vn(i,s.len,0,l),s.next();else if(o.len==0&&!o.done)vn(i,0,o.ins,l),r&&Ks(r,i,o.text),o.next();else{if(s.done||o.done)throw new Error("Mismatched change set lengths");{let u=Math.min(s.len2,o.len),h=i.length;if(s.ins==-1){let f=o.ins==-1?-1:o.off?0:o.ins;vn(i,u,f,l),r&&f&&Ks(r,i,o.text)}else o.ins==-1?(vn(i,s.off?0:s.len,u,l),r&&Ks(r,i,s.textBit(u))):(vn(i,s.off?0:s.len,o.off?0:o.ins,l),r&&!o.off&&Ks(r,i,o.text));l=(s.ins>u||o.ins>=0&&o.len>u)&&(l||i.length>h),s.forward2(u),o.forward(u)}}}}class Eh{constructor(e){this.set=e,this.i=0,this.next()}next(){let{sections:e}=this.set;this.i<e.length?(this.len=e[this.i++],this.ins=e[this.i++]):(this.len=0,this.ins=-2),this.off=0}get done(){return this.ins==-2}get len2(){return this.ins<0?this.len:this.ins}get text(){let{inserted:e}=this.set,t=this.i-2>>1;return t>=e.length?Le.empty:e[t]}textBit(e){let{inserted:t}=this.set,i=this.i-2>>1;return i>=t.length&&!e?Le.empty:t[i].slice(this.off,e==null?void 0:this.off+e)}forward(e){e==this.len?this.next():(this.len-=e,this.off+=e)}forward2(e){this.ins==-1?this.forward(e):e==this.ins?this.next():(this.ins-=e,this.off+=e)}}class il{constructor(e,t,i){this.from=e,this.to=t,this.flags=i}get anchor(){return this.flags&32?this.to:this.from}get head(){return this.flags&32?this.from:this.to}get empty(){return this.from==this.to}get assoc(){return this.flags&8?-1:this.flags&16?1:0}get bidiLevel(){let e=this.flags&7;return e==7?null:e}get goalColumn(){let e=this.flags>>6;return e==16777215?void 0:e}map(e,t=-1){let i,r;return this.empty?i=r=e.mapPos(this.from,t):(i=e.mapPos(this.from,1),r=e.mapPos(this.to,-1)),i==this.from&&r==this.to?this:new il(i,r,this.flags)}extend(e,t=e){if(e<=this.anchor&&t>=this.anchor)return L.range(e,t);let i=Math.abs(e-this.anchor)>Math.abs(t-this.anchor)?e:t;return L.range(this.anchor,i)}eq(e){return this.anchor==e.anchor&&this.head==e.head}toJSON(){return{anchor:this.anchor,head:this.head}}static fromJSON(e){if(!e||typeof e.anchor!="number"||typeof e.head!="number")throw new RangeError("Invalid JSON representation for SelectionRange");return L.range(e.anchor,e.head)}static create(e,t,i){return new il(e,t,i)}}class L{constructor(e,t){this.ranges=e,this.mainIndex=t}map(e,t=-1){return e.empty?this:L.create(this.ranges.map(i=>i.map(e,t)),this.mainIndex)}eq(e){if(this.ranges.length!=e.ranges.length||this.mainIndex!=e.mainIndex)return!1;for(let t=0;t<this.ranges.length;t++)if(!this.ranges[t].eq(e.ranges[t]))return!1;return!0}get main(){return this.ranges[this.mainIndex]}asSingle(){return this.ranges.length==1?this:new L([this.main],0)}addRange(e,t=!0){return L.create([e].concat(this.ranges),t?0:this.mainIndex+1)}replaceRange(e,t=this.mainIndex){let i=this.ranges.slice();return i[t]=e,L.create(i,this.mainIndex)}toJSON(){return{ranges:this.ranges.map(e=>e.toJSON()),main:this.mainIndex}}static fromJSON(e){if(!e||!Array.isArray(e.ranges)||typeof e.main!="number"||e.main>=e.ranges.length)throw new RangeError("Invalid JSON representation for EditorSelection");return new L(e.ranges.map(t=>il.fromJSON(t)),e.main)}static single(e,t=e){return new L([L.range(e,t)],0)}static create(e,t=0){if(e.length==0)throw new RangeError("A selection needs at least one range");for(let i=0,r=0;r<e.length;r++){let s=e[r];if(s.empty?s.from<=i:s.from<i)return L.normalized(e.slice(),t);i=s.to}return new L(e,t)}static cursor(e,t=0,i,r){return il.create(e,e,(t==0?0:t<0?8:16)|(i==null?7:Math.min(6,i))|(r??16777215)<<6)}static range(e,t,i,r){let s=(i??16777215)<<6|(r==null?7:Math.min(6,r));return t<e?il.create(t,e,48|s):il.create(e,t,(t>e?8:0)|s)}static normalized(e,t=0){let i=e[t];e.sort((r,s)=>r.from-s.from),t=e.indexOf(i);for(let r=1;r<e.length;r++){let s=e[r],o=e[r-1];if(s.empty?s.from<=o.to:s.from<o.to){let l=o.from,u=Math.max(s.to,o.to);r<=t&&t--,e.splice(--r,2,s.anchor>s.head?L.range(u,l):L.range(l,u))}}return new L(e,t)}}function pD(n,e){for(let t of n.ranges)if(t.to>e)throw new RangeError("Selection points outside of document")}let L_=0;class se{constructor(e,t,i,r,s){this.combine=e,this.compareInput=t,this.compare=i,this.isStatic=r,this.id=L_++,this.default=e([]),this.extensions=typeof s=="function"?s(this):s}get reader(){return this}static define(e={}){return new se(e.combine||(t=>t),e.compareInput||((t,i)=>t===i),e.compare||(e.combine?(t,i)=>t===i:V_),!!e.static,e.enables)}of(e){return new Rp([],this,0,e)}compute(e,t){if(this.isStatic)throw new Error("Can't compute a static facet");return new Rp(e,this,1,t)}computeN(e,t){if(this.isStatic)throw new Error("Can't compute a static facet");return new Rp(e,this,2,t)}from(e,t){return t||(t=i=>i),this.compute([e],i=>t(i.field(e)))}}function V_(n,e){return n==e||n.length==e.length&&n.every((t,i)=>t===e[i])}class Rp{constructor(e,t,i,r){this.dependencies=e,this.facet=t,this.type=i,this.value=r,this.id=L_++}dynamicSlot(e){var t;let i=this.value,r=this.facet.compareInput,s=this.id,o=e[s]>>1,l=this.type==2,u=!1,h=!1,f=[];for(let p of this.dependencies)p=="doc"?u=!0:p=="selection"?h=!0:((t=e[p.id])!==null&&t!==void 0?t:1)&1||f.push(e[p.id]);return{create(p){return p.values[o]=i(p),1},update(p,g){if(u&&g.docChanged||h&&(g.docChanged||g.selection)||M1(p,f)){let O=i(p);if(l?!Qb(O,p.values[o],r):!r(O,p.values[o]))return p.values[o]=O,1}return 0},reconfigure:(p,g)=>{let O,v=g.config.address[s];if(v!=null){let x=Lg(g,v);if(this.dependencies.every(k=>k instanceof se?g.facet(k)===p.facet(k):k instanceof Ft?g.field(k,!1)==p.field(k,!1):!0)||(l?Qb(O=i(p),x,r):r(O=i(p),x)))return p.values[o]=x,0}else O=i(p);return p.values[o]=O,1}}}}function Qb(n,e,t){if(n.length!=e.length)return!1;for(let i=0;i<n.length;i++)if(!t(n[i],e[i]))return!1;return!0}function M1(n,e){let t=!1;for(let i of e)Uc(n,i)&1&&(t=!0);return t}function TG(n,e,t){let i=t.map(u=>n[u.id]),r=t.map(u=>u.type),s=i.filter(u=>!(u&1)),o=n[e.id]>>1;function l(u){let h=[];for(let f=0;f<i.length;f++){let p=Lg(u,i[f]);if(r[f]==2)for(let g of p)h.push(g);else h.push(p)}return e.combine(h)}return{create(u){for(let h of i)Uc(u,h);return u.values[o]=l(u),1},update(u,h){if(!M1(u,s))return 0;let f=l(u);return e.compare(f,u.values[o])?0:(u.values[o]=f,1)},reconfigure(u,h){let f=M1(u,i),p=h.config.facets[e.id],g=h.facet(e);if(p&&!f&&V_(t,p))return u.values[o]=g,0;let O=l(u);return e.compare(O,g)?(u.values[o]=g,0):(u.values[o]=O,1)}}}const Db=se.define({static:!0});class Ft{constructor(e,t,i,r,s){this.id=e,this.createF=t,this.updateF=i,this.compareF=r,this.spec=s,this.provides=void 0}static define(e){let t=new Ft(L_++,e.create,e.update,e.compare||((i,r)=>i===r),e);return e.provide&&(t.provides=e.provide(t)),t}create(e){let t=e.facet(Db).find(i=>i.field==this);return((t==null?void 0:t.create)||this.createF)(e)}slot(e){let t=e[this.id]>>1;return{create:i=>(i.values[t]=this.create(i),1),update:(i,r)=>{let s=i.values[t],o=this.updateF(s,r);return this.compareF(s,o)?0:(i.values[t]=o,1)},reconfigure:(i,r)=>r.config.address[this.id]!=null?(i.values[t]=r.field(this),0):(i.values[t]=this.create(i),1)}}init(e){return[this,Db.of({field:this,create:e})]}get extension(){return this}}const jo={lowest:4,low:3,default:2,high:1,highest:0};function ic(n){return e=>new gD(e,n)}const Al={highest:ic(jo.highest),high:ic(jo.high),default:ic(jo.default),low:ic(jo.low),lowest:ic(jo.lowest)};class gD{constructor(e,t){this.inner=e,this.prec=t}}class oO{of(e){return new N1(this,e)}reconfigure(e){return oO.reconfigure.of({compartment:this,extension:e})}get(e){return e.config.compartments.get(this)}}class N1{constructor(e,t){this.compartment=e,this.inner=t}}class Ng{constructor(e,t,i,r,s,o){for(this.base=e,this.compartments=t,this.dynamicSlots=i,this.address=r,this.staticValues=s,this.facets=o,this.statusTemplate=[];this.statusTemplate.length<i.length;)this.statusTemplate.push(0)}staticFacet(e){let t=this.address[e.id];return t==null?e.default:this.staticValues[t>>1]}static resolve(e,t,i){let r=[],s=Object.create(null),o=new Map;for(let g of kG(e,t,o))g instanceof Ft?r.push(g):(s[g.facet.id]||(s[g.facet.id]=[])).push(g);let l=Object.create(null),u=[],h=[];for(let g of r)l[g.id]=h.length<<1,h.push(O=>g.slot(O));let f=i==null?void 0:i.config.facets;for(let g in s){let O=s[g],v=O[0].facet,x=f&&f[g]||[];if(O.every(k=>k.type==0))if(l[v.id]=u.length<<1|1,V_(x,O))u.push(i.facet(v));else{let k=v.combine(O.map(w=>w.value));u.push(i&&v.compare(k,i.facet(v))?i.facet(v):k)}else{for(let k of O)k.type==0?(l[k.id]=u.length<<1|1,u.push(k.value)):(l[k.id]=h.length<<1,h.push(w=>k.dynamicSlot(w)));l[v.id]=h.length<<1,h.push(k=>TG(k,v,O))}}let p=h.map(g=>g(l));return new Ng(e,o,p,l,u,s)}}function kG(n,e,t){let i=[[],[],[],[],[]],r=new Map;function s(o,l){let u=r.get(o);if(u!=null){if(u<=l)return;let h=i[u].indexOf(o);h>-1&&i[u].splice(h,1),o instanceof N1&&t.delete(o.compartment)}if(r.set(o,l),Array.isArray(o))for(let h of o)s(h,l);else if(o instanceof N1){if(t.has(o.compartment))throw new RangeError("Duplicate use of compartment in extensions");let h=e.get(o.compartment)||o.inner;t.set(o.compartment,h),s(h,l)}else if(o instanceof gD)s(o.inner,o.prec);else if(o instanceof Ft)i[l].push(o),o.provides&&s(o.provides,l);else if(o instanceof Rp)i[l].push(o),o.facet.extensions&&s(o.facet.extensions,jo.default);else{let h=o.extension;if(!h)throw new Error(`Unrecognized extension value in extension set (${o}). This sometimes happens because multiple instances of @codemirror/state are loaded, breaking instanceof checks.`);s(h,l)}}return s(n,jo.default),i.reduce((o,l)=>o.concat(l))}function Uc(n,e){if(e&1)return 2;let t=e>>1,i=n.status[t];if(i==4)throw new Error("Cyclic dependency between fields and/or facets");if(i&2)return i;n.status[t]=4;let r=n.computeSlot(n,n.config.dynamicSlots[t]);return n.status[t]=2|r}function Lg(n,e){return e&1?n.config.staticValues[e>>1]:n.values[e>>1]}const mD=se.define(),OD=se.define({combine:n=>n.some(e=>e),static:!0}),yD=se.define({combine:n=>n.length?n[0]:void 0,static:!0}),vD=se.define(),wD=se.define(),SD=se.define(),_D=se.define({combine:n=>n.length?n[0]:!1});class Es{constructor(e,t){this.type=e,this.value=t}static define(){return new EG}}class EG{of(e){return new Es(this,e)}}class PG{constructor(e){this.map=e}of(e){return new Se(this,e)}}class Se{constructor(e,t){this.type=e,this.value=t}map(e){let t=this.type.map(this.value,e);return t===void 0?void 0:t==this.value?this:new Se(this.type,t)}is(e){return this.type==e}static define(e={}){return new PG(e.map||(t=>t))}static mapEffects(e,t){if(!e.length)return e;let i=[];for(let r of e){let s=r.map(t);s&&i.push(s)}return i}}Se.reconfigure=Se.define();Se.appendConfig=Se.define();class Wt{constructor(e,t,i,r,s,o){this.startState=e,this.changes=t,this.selection=i,this.effects=r,this.annotations=s,this.scrollIntoView=o,this._doc=null,this._state=null,i&&pD(i,t.newLength),s.some(l=>l.type==Wt.time)||(this.annotations=s.concat(Wt.time.of(Date.now())))}static create(e,t,i,r,s,o){return new Wt(e,t,i,r,s,o)}get newDoc(){return this._doc||(this._doc=this.changes.apply(this.startState.doc))}get newSelection(){return this.selection||this.startState.selection.map(this.changes)}get state(){return this._state||this.startState.applyTransaction(this),this._state}annotation(e){for(let t of this.annotations)if(t.type==e)return t.value}get docChanged(){return!this.changes.empty}get reconfigured(){return this.startState.config!=this.state.config}isUserEvent(e){let t=this.annotation(Wt.userEvent);return!!(t&&(t==e||t.length>e.length&&t.slice(0,e.length)==e&&t[e.length]=="."))}}Wt.time=Es.define();Wt.userEvent=Es.define();Wt.addToHistory=Es.define();Wt.remote=Es.define();function bG(n,e){let t=[];for(let i=0,r=0;;){let s,o;if(i<n.length&&(r==e.length||e[r]>=n[i]))s=n[i++],o=n[i++];else if(r<e.length)s=e[r++],o=e[r++];else return t;!t.length||t[t.length-1]<s?t.push(s,o):t[t.length-1]<o&&(t[t.length-1]=o)}}function xD(n,e,t){var i;let r,s,o;return t?(r=e.changes,s=Zt.empty(e.changes.length),o=n.changes.compose(e.changes)):(r=e.changes.map(n.changes),s=n.changes.mapDesc(e.changes,!0),o=n.changes.compose(r)),{changes:o,selection:e.selection?e.selection.map(s):(i=n.selection)===null||i===void 0?void 0:i.map(r),effects:Se.mapEffects(n.effects,r).concat(Se.mapEffects(e.effects,s)),annotations:n.annotations.length?n.annotations.concat(e.annotations):e.annotations,scrollIntoView:n.scrollIntoView||e.scrollIntoView}}function L1(n,e,t){let i=e.selection,r=Ia(e.annotations);return e.userEvent&&(r=r.concat(Wt.userEvent.of(e.userEvent))),{changes:e.changes instanceof Zt?e.changes:Zt.of(e.changes||[],t,n.facet(yD)),selection:i&&(i instanceof L?i:L.single(i.anchor,i.head)),effects:Ia(e.effects),annotations:r,scrollIntoView:!!e.scrollIntoView}}function TD(n,e,t){let i=L1(n,e.length?e[0]:{},n.doc.length);e.length&&e[0].filter===!1&&(t=!1);for(let s=1;s<e.length;s++){e[s].filter===!1&&(t=!1);let o=!!e[s].sequential;i=xD(i,L1(n,e[s],o?i.changes.newLength:n.doc.length),o)}let r=Wt.create(n,i.changes,i.selection,i.effects,i.annotations,i.scrollIntoView);return AG(t?CG(r):r)}function CG(n){let e=n.startState,t=!0;for(let r of e.facet(vD)){let s=r(n);if(s===!1){t=!1;break}Array.isArray(s)&&(t=t===!0?s:bG(t,s))}if(t!==!0){let r,s;if(t===!1)s=n.changes.invertedDesc,r=Zt.empty(e.doc.length);else{let o=n.changes.filter(t);r=o.changes,s=o.filtered.mapDesc(o.changes).invertedDesc}n=Wt.create(e,r,n.selection&&n.selection.map(s),Se.mapEffects(n.effects,s),n.annotations,n.scrollIntoView)}let i=e.facet(wD);for(let r=i.length-1;r>=0;r--){let s=i[r](n);s instanceof Wt?n=s:Array.isArray(s)&&s.length==1&&s[0]instanceof Wt?n=s[0]:n=TD(e,Ia(s),!1)}return n}function AG(n){let e=n.startState,t=e.facet(SD),i=n;for(let r=t.length-1;r>=0;r--){let s=t[r](n);s&&Object.keys(s).length&&(i=xD(i,L1(e,s,n.changes.newLength),!0))}return i==n?n:Wt.create(e,n.changes,n.selection,i.effects,i.annotations,i.scrollIntoView)}const IG=[];function Ia(n){return n==null?IG:Array.isArray(n)?n:[n]}var ct=function(n){return n[n.Word=0]="Word",n[n.Space=1]="Space",n[n.Other=2]="Other",n}(ct||(ct={}));const RG=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;let V1;try{V1=new RegExp("[\\p{Alphabetic}\\p{Number}_]","u")}catch{}function $G(n){if(V1)return V1.test(n);for(let e=0;e<n.length;e++){let t=n[e];if(/\w/.test(t)||t>""&&(t.toUpperCase()!=t.toLowerCase()||RG.test(t)))return!0}return!1}function QG(n){return e=>{if(!/\S/.test(e))return ct.Space;if($G(e))return ct.Word;for(let t=0;t<n.length;t++)if(e.indexOf(n[t])>-1)return ct.Word;return ct.Other}}class Me{constructor(e,t,i,r,s,o){this.config=e,this.doc=t,this.selection=i,this.values=r,this.status=e.statusTemplate.slice(),this.computeSlot=s,o&&(o._state=this);for(let l=0;l<this.config.dynamicSlots.length;l++)Uc(this,l<<1);this.computeSlot=null}field(e,t=!0){let i=this.config.address[e.id];if(i==null){if(t)throw new RangeError("Field is not present in this state");return}return Uc(this,i),Lg(this,i)}update(...e){return TD(this,e,!0)}applyTransaction(e){let t=this.config,{base:i,compartments:r}=t;for(let o of e.effects)o.is(oO.reconfigure)?(t&&(r=new Map,t.compartments.forEach((l,u)=>r.set(u,l)),t=null),r.set(o.value.compartment,o.value.extension)):o.is(Se.reconfigure)?(t=null,i=o.value):o.is(Se.appendConfig)&&(t=null,i=Ia(i).concat(o.value));let s;t?s=e.startState.values.slice():(t=Ng.resolve(i,r,this),s=new Me(t,this.doc,this.selection,t.dynamicSlots.map(()=>null),(l,u)=>u.reconfigure(l,this),null).values),new Me(t,e.newDoc,e.newSelection,s,(o,l)=>l.update(o,e),e)}replaceSelection(e){return typeof e=="string"&&(e=this.toText(e)),this.changeByRange(t=>({changes:{from:t.from,to:t.to,insert:e},range:L.cursor(t.from+e.length)}))}changeByRange(e){let t=this.selection,i=e(t.ranges[0]),r=this.changes(i.changes),s=[i.range],o=Ia(i.effects);for(let l=1;l<t.ranges.length;l++){let u=e(t.ranges[l]),h=this.changes(u.changes),f=h.map(r);for(let g=0;g<l;g++)s[g]=s[g].map(f);let p=r.mapDesc(h,!0);s.push(u.range.map(p)),r=r.compose(f),o=Se.mapEffects(o,f).concat(Se.mapEffects(Ia(u.effects),p))}return{changes:r,selection:L.create(s,t.mainIndex),effects:o}}changes(e=[]){return e instanceof Zt?e:Zt.of(e,this.doc.length,this.facet(Me.lineSeparator))}toText(e){return Le.of(e.split(this.facet(Me.lineSeparator)||$1))}sliceDoc(e=0,t=this.doc.length){return this.doc.sliceString(e,t,this.lineBreak)}facet(e){let t=this.config.address[e.id];return t==null?e.default:(Uc(this,t),Lg(this,t))}toJSON(e){let t={doc:this.sliceDoc(),selection:this.selection.toJSON()};if(e)for(let i in e){let r=e[i];r instanceof Ft&&this.config.address[r.id]!=null&&(t[i]=r.spec.toJSON(this.field(e[i]),this))}return t}static fromJSON(e,t={},i){if(!e||typeof e.doc!="string")throw new RangeError("Invalid JSON representation for EditorState");let r=[];if(i){for(let s in i)if(Object.prototype.hasOwnProperty.call(e,s)){let o=i[s],l=e[s];r.push(o.init(u=>o.spec.fromJSON(l,u)))}}return Me.create({doc:e.doc,selection:L.fromJSON(e.selection),extensions:t.extensions?r.concat([t.extensions]):r})}static create(e={}){let t=Ng.resolve(e.extensions||[],new Map),i=e.doc instanceof Le?e.doc:Le.of((e.doc||"").split(t.staticFacet(Me.lineSeparator)||$1)),r=e.selection?e.selection instanceof L?e.selection:L.single(e.selection.anchor,e.selection.head):L.single(0);return pD(r,i.length),t.staticFacet(OD)||(r=r.asSingle()),new Me(t,i,r,t.dynamicSlots.map(()=>null),(s,o)=>o.create(s),null)}get tabSize(){return this.facet(Me.tabSize)}get lineBreak(){return this.facet(Me.lineSeparator)||`
`}get readOnly(){return this.facet(_D)}phrase(e,...t){for(let i of this.facet(Me.phrases))if(Object.prototype.hasOwnProperty.call(i,e)){e=i[e];break}return t.length&&(e=e.replace(/\$(\$|\d*)/g,(i,r)=>{if(r=="$")return"$";let s=+(r||1);return!s||s>t.length?i:t[s-1]})),e}languageDataAt(e,t,i=-1){let r=[];for(let s of this.facet(mD))for(let o of s(this,t,i))Object.prototype.hasOwnProperty.call(o,e)&&r.push(o[e]);return r}charCategorizer(e){return QG(this.languageDataAt("wordChars",e).join(""))}wordAt(e){let{text:t,from:i,length:r}=this.doc.lineAt(e),s=this.charCategorizer(e),o=e-i,l=e-i;for(;o>0;){let u=Tn(t,o,!1);if(s(t.slice(u,o))!=ct.Word)break;o=u}for(;l<r;){let u=Tn(t,l);if(s(t.slice(l,u))!=ct.Word)break;l=u}return o==l?null:L.range(o+i,l+i)}}Me.allowMultipleSelections=OD;Me.tabSize=se.define({combine:n=>n.length?n[0]:4});Me.lineSeparator=yD;Me.readOnly=_D;Me.phrases=se.define({compare(n,e){let t=Object.keys(n),i=Object.keys(e);return t.length==i.length&&t.every(r=>n[r]==e[r])}});Me.languageData=mD;Me.changeFilter=vD;Me.transactionFilter=wD;Me.transactionExtender=SD;oO.reconfigure=Se.define();function Ur(n,e,t={}){let i={};for(let r of n)for(let s of Object.keys(r)){let o=r[s],l=i[s];if(l===void 0)i[s]=o;else if(!(l===o||o===void 0))if(Object.hasOwnProperty.call(t,s))i[s]=t[s](l,o);else throw new Error("Config merge conflict for field "+s)}for(let r in e)i[r]===void 0&&(i[r]=e[r]);return i}class Sl{eq(e){return this==e}range(e,t=e){return Z1.create(e,t,this)}}Sl.prototype.startSide=Sl.prototype.endSide=0;Sl.prototype.point=!1;Sl.prototype.mapMode=an.TrackDel;let Z1=class kD{constructor(e,t,i){this.from=e,this.to=t,this.value=i}static create(e,t,i){return new kD(e,t,i)}};function U1(n,e){return n.from-e.from||n.value.startSide-e.value.startSide}class Z_{constructor(e,t,i,r){this.from=e,this.to=t,this.value=i,this.maxPoint=r}get length(){return this.to[this.to.length-1]}findIndex(e,t,i,r=0){let s=i?this.to:this.from;for(let o=r,l=s.length;;){if(o==l)return o;let u=o+l>>1,h=s[u]-e||(i?this.value[u].endSide:this.value[u].startSide)-t;if(u==o)return h>=0?o:l;h>=0?l=u:o=u+1}}between(e,t,i,r){for(let s=this.findIndex(t,-1e9,!0),o=this.findIndex(i,1e9,!1,s);s<o;s++)if(r(this.from[s]+e,this.to[s]+e,this.value[s])===!1)return!1}map(e,t){let i=[],r=[],s=[],o=-1,l=-1;for(let u=0;u<this.value.length;u++){let h=this.value[u],f=this.from[u]+e,p=this.to[u]+e,g,O;if(f==p){let v=t.mapPos(f,h.startSide,h.mapMode);if(v==null||(g=O=v,h.startSide!=h.endSide&&(O=t.mapPos(f,h.endSide),O<g)))continue}else if(g=t.mapPos(f,h.startSide),O=t.mapPos(p,h.endSide),g>O||g==O&&h.startSide>0&&h.endSide<=0)continue;(O-g||h.endSide-h.startSide)<0||(o<0&&(o=g),h.point&&(l=Math.max(l,O-g)),i.push(h),r.push(g-o),s.push(O-o))}return{mapped:i.length?new Z_(r,s,i,l):null,pos:o}}}class Be{constructor(e,t,i,r){this.chunkPos=e,this.chunk=t,this.nextLayer=i,this.maxPoint=r}static create(e,t,i,r){return new Be(e,t,i,r)}get length(){let e=this.chunk.length-1;return e<0?0:Math.max(this.chunkEnd(e),this.nextLayer.length)}get size(){if(this.isEmpty)return 0;let e=this.nextLayer.size;for(let t of this.chunk)e+=t.value.length;return e}chunkEnd(e){return this.chunkPos[e]+this.chunk[e].length}update(e){let{add:t=[],sort:i=!1,filterFrom:r=0,filterTo:s=this.length}=e,o=e.filter;if(t.length==0&&!o)return this;if(i&&(t=t.slice().sort(U1)),this.isEmpty)return t.length?Be.of(t):this;let l=new ED(this,null,-1).goto(0),u=0,h=[],f=new To;for(;l.value||u<t.length;)if(u<t.length&&(l.from-t[u].from||l.startSide-t[u].value.startSide)>=0){let p=t[u++];f.addInner(p.from,p.to,p.value)||h.push(p)}else l.rangeIndex==1&&l.chunkIndex<this.chunk.length&&(u==t.length||this.chunkEnd(l.chunkIndex)<t[u].from)&&(!o||r>this.chunkEnd(l.chunkIndex)||s<this.chunkPos[l.chunkIndex])&&f.addChunk(this.chunkPos[l.chunkIndex],this.chunk[l.chunkIndex])?l.nextChunk():((!o||r>l.to||s<l.from||o(l.from,l.to,l.value))&&(f.addInner(l.from,l.to,l.value)||h.push(Z1.create(l.from,l.to,l.value))),l.next());return f.finishInner(this.nextLayer.isEmpty&&!h.length?Be.empty:this.nextLayer.update({add:h,filter:o,filterFrom:r,filterTo:s}))}map(e){if(e.empty||this.isEmpty)return this;let t=[],i=[],r=-1;for(let o=0;o<this.chunk.length;o++){let l=this.chunkPos[o],u=this.chunk[o],h=e.touchesRange(l,l+u.length);if(h===!1)r=Math.max(r,u.maxPoint),t.push(u),i.push(e.mapPos(l));else if(h===!0){let{mapped:f,pos:p}=u.map(l,e);f&&(r=Math.max(r,f.maxPoint),t.push(f),i.push(p))}}let s=this.nextLayer.map(e);return t.length==0?s:new Be(i,t,s||Be.empty,r)}between(e,t,i){if(!this.isEmpty){for(let r=0;r<this.chunk.length;r++){let s=this.chunkPos[r],o=this.chunk[r];if(t>=s&&e<=s+o.length&&o.between(s,e-s,t-s,i)===!1)return}this.nextLayer.between(e,t,i)}}iter(e=0){return Ph.from([this]).goto(e)}get isEmpty(){return this.nextLayer==this}static iter(e,t=0){return Ph.from(e).goto(t)}static compare(e,t,i,r,s=-1){let o=e.filter(p=>p.maxPoint>0||!p.isEmpty&&p.maxPoint>=s),l=t.filter(p=>p.maxPoint>0||!p.isEmpty&&p.maxPoint>=s),u=Mb(o,l,i),h=new rc(o,u,s),f=new rc(l,u,s);i.iterGaps((p,g,O)=>Nb(h,p,f,g,O,r)),i.empty&&i.length==0&&Nb(h,0,f,0,0,r)}static eq(e,t,i=0,r){r==null&&(r=1e9-1);let s=e.filter(f=>!f.isEmpty&&t.indexOf(f)<0),o=t.filter(f=>!f.isEmpty&&e.indexOf(f)<0);if(s.length!=o.length)return!1;if(!s.length)return!0;let l=Mb(s,o),u=new rc(s,l,0).goto(i),h=new rc(o,l,0).goto(i);for(;;){if(u.to!=h.to||!B1(u.active,h.active)||u.point&&(!h.point||!u.point.eq(h.point)))return!1;if(u.to>r)return!0;u.next(),h.next()}}static spans(e,t,i,r,s=-1){let o=new rc(e,null,s).goto(t),l=t,u=o.openStart;for(;;){let h=Math.min(o.to,i);if(o.point){let f=o.activeForPoint(o.to),p=o.pointFrom<t?f.length+1:Math.min(f.length,u);r.point(l,h,o.point,f,p,o.pointRank),u=Math.min(o.openEnd(h),f.length)}else h>l&&(r.span(l,h,o.active,u),u=o.openEnd(h));if(o.to>i)return u+(o.point&&o.to>i?1:0);l=o.to,o.next()}}static of(e,t=!1){let i=new To;for(let r of e instanceof Z1?[e]:t?DG(e):e)i.add(r.from,r.to,r.value);return i.finish()}}Be.empty=new Be([],[],null,-1);function DG(n){if(n.length>1)for(let e=n[0],t=1;t<n.length;t++){let i=n[t];if(U1(e,i)>0)return n.slice().sort(U1);e=i}return n}Be.empty.nextLayer=Be.empty;class To{finishChunk(e){this.chunks.push(new Z_(this.from,this.to,this.value,this.maxPoint)),this.chunkPos.push(this.chunkStart),this.chunkStart=-1,this.setMaxPoint=Math.max(this.setMaxPoint,this.maxPoint),this.maxPoint=-1,e&&(this.from=[],this.to=[],this.value=[])}constructor(){this.chunks=[],this.chunkPos=[],this.chunkStart=-1,this.last=null,this.lastFrom=-1e9,this.lastTo=-1e9,this.from=[],this.to=[],this.value=[],this.maxPoint=-1,this.setMaxPoint=-1,this.nextLayer=null}add(e,t,i){this.addInner(e,t,i)||(this.nextLayer||(this.nextLayer=new To)).add(e,t,i)}addInner(e,t,i){let r=e-this.lastTo||i.startSide-this.last.endSide;if(r<=0&&(e-this.lastFrom||i.startSide-this.last.startSide)<0)throw new Error("Ranges must be added sorted by `from` position and `startSide`");return r<0?!1:(this.from.length==250&&this.finishChunk(!0),this.chunkStart<0&&(this.chunkStart=e),this.from.push(e-this.chunkStart),this.to.push(t-this.chunkStart),this.last=i,this.lastFrom=e,this.lastTo=t,this.value.push(i),i.point&&(this.maxPoint=Math.max(this.maxPoint,t-e)),!0)}addChunk(e,t){if((e-this.lastTo||t.value[0].startSide-this.last.endSide)<0)return!1;this.from.length&&this.finishChunk(!0),this.setMaxPoint=Math.max(this.setMaxPoint,t.maxPoint),this.chunks.push(t),this.chunkPos.push(e);let i=t.value.length-1;return this.last=t.value[i],this.lastFrom=t.from[i]+e,this.lastTo=t.to[i]+e,!0}finish(){return this.finishInner(Be.empty)}finishInner(e){if(this.from.length&&this.finishChunk(!1),this.chunks.length==0)return e;let t=Be.create(this.chunkPos,this.chunks,this.nextLayer?this.nextLayer.finishInner(e):e,this.setMaxPoint);return this.from=null,t}}function Mb(n,e,t){let i=new Map;for(let s of n)for(let o=0;o<s.chunk.length;o++)s.chunk[o].maxPoint<=0&&i.set(s.chunk[o],s.chunkPos[o]);let r=new Set;for(let s of e)for(let o=0;o<s.chunk.length;o++){let l=i.get(s.chunk[o]);l!=null&&(t?t.mapPos(l):l)==s.chunkPos[o]&&!(t!=null&&t.touchesRange(l,l+s.chunk[o].length))&&r.add(s.chunk[o])}return r}class ED{constructor(e,t,i,r=0){this.layer=e,this.skip=t,this.minPoint=i,this.rank=r}get startSide(){return this.value?this.value.startSide:0}get endSide(){return this.value?this.value.endSide:0}goto(e,t=-1e9){return this.chunkIndex=this.rangeIndex=0,this.gotoInner(e,t,!1),this}gotoInner(e,t,i){for(;this.chunkIndex<this.layer.chunk.length;){let r=this.layer.chunk[this.chunkIndex];if(!(this.skip&&this.skip.has(r)||this.layer.chunkEnd(this.chunkIndex)<e||r.maxPoint<this.minPoint))break;this.chunkIndex++,i=!1}if(this.chunkIndex<this.layer.chunk.length){let r=this.layer.chunk[this.chunkIndex].findIndex(e-this.layer.chunkPos[this.chunkIndex],t,!0);(!i||this.rangeIndex<r)&&this.setRangeIndex(r)}this.next()}forward(e,t){(this.to-e||this.endSide-t)<0&&this.gotoInner(e,t,!0)}next(){for(;;)if(this.chunkIndex==this.layer.chunk.length){this.from=this.to=1e9,this.value=null;break}else{let e=this.layer.chunkPos[this.chunkIndex],t=this.layer.chunk[this.chunkIndex],i=e+t.from[this.rangeIndex];if(this.from=i,this.to=e+t.to[this.rangeIndex],this.value=t.value[this.rangeIndex],this.setRangeIndex(this.rangeIndex+1),this.minPoint<0||this.value.point&&this.to-this.from>=this.minPoint)break}}setRangeIndex(e){if(e==this.layer.chunk[this.chunkIndex].value.length){if(this.chunkIndex++,this.skip)for(;this.chunkIndex<this.layer.chunk.length&&this.skip.has(this.layer.chunk[this.chunkIndex]);)this.chunkIndex++;this.rangeIndex=0}else this.rangeIndex=e}nextChunk(){this.chunkIndex++,this.rangeIndex=0,this.next()}compare(e){return this.from-e.from||this.startSide-e.startSide||this.rank-e.rank||this.to-e.to||this.endSide-e.endSide}}class Ph{constructor(e){this.heap=e}static from(e,t=null,i=-1){let r=[];for(let s=0;s<e.length;s++)for(let o=e[s];!o.isEmpty;o=o.nextLayer)o.maxPoint>=i&&r.push(new ED(o,t,i,s));return r.length==1?r[0]:new Ph(r)}get startSide(){return this.value?this.value.startSide:0}goto(e,t=-1e9){for(let i of this.heap)i.goto(e,t);for(let i=this.heap.length>>1;i>=0;i--)Ry(this.heap,i);return this.next(),this}forward(e,t){for(let i of this.heap)i.forward(e,t);for(let i=this.heap.length>>1;i>=0;i--)Ry(this.heap,i);(this.to-e||this.value.endSide-t)<0&&this.next()}next(){if(this.heap.length==0)this.from=this.to=1e9,this.value=null,this.rank=-1;else{let e=this.heap[0];this.from=e.from,this.to=e.to,this.value=e.value,this.rank=e.rank,e.value&&e.next(),Ry(this.heap,0)}}}function Ry(n,e){for(let t=n[e];;){let i=(e<<1)+1;if(i>=n.length)break;let r=n[i];if(i+1<n.length&&r.compare(n[i+1])>=0&&(r=n[i+1],i++),t.compare(r)<0)break;n[i]=t,n[e]=r,e=i}}class rc{constructor(e,t,i){this.minPoint=i,this.active=[],this.activeTo=[],this.activeRank=[],this.minActive=-1,this.point=null,this.pointFrom=0,this.pointRank=0,this.to=-1e9,this.endSide=0,this.openStart=-1,this.cursor=Ph.from(e,t,i)}goto(e,t=-1e9){return this.cursor.goto(e,t),this.active.length=this.activeTo.length=this.activeRank.length=0,this.minActive=-1,this.to=e,this.endSide=t,this.openStart=-1,this.next(),this}forward(e,t){for(;this.minActive>-1&&(this.activeTo[this.minActive]-e||this.active[this.minActive].endSide-t)<0;)this.removeActive(this.minActive);this.cursor.forward(e,t)}removeActive(e){Wd(this.active,e),Wd(this.activeTo,e),Wd(this.activeRank,e),this.minActive=Lb(this.active,this.activeTo)}addActive(e){let t=0,{value:i,to:r,rank:s}=this.cursor;for(;t<this.activeRank.length&&this.activeRank[t]<=s;)t++;Yd(this.active,t,i),Yd(this.activeTo,t,r),Yd(this.activeRank,t,s),e&&Yd(e,t,this.cursor.from),this.minActive=Lb(this.active,this.activeTo)}next(){let e=this.to,t=this.point;this.point=null;let i=this.openStart<0?[]:null;for(;;){let r=this.minActive;if(r>-1&&(this.activeTo[r]-this.cursor.from||this.active[r].endSide-this.cursor.startSide)<0){if(this.activeTo[r]>e){this.to=this.activeTo[r],this.endSide=this.active[r].endSide;break}this.removeActive(r),i&&Wd(i,r)}else if(this.cursor.value)if(this.cursor.from>e){this.to=this.cursor.from,this.endSide=this.cursor.startSide;break}else{let s=this.cursor.value;if(!s.point)this.addActive(i),this.cursor.next();else if(t&&this.cursor.to==this.to&&this.cursor.from<this.cursor.to)this.cursor.next();else{this.point=s,this.pointFrom=this.cursor.from,this.pointRank=this.cursor.rank,this.to=this.cursor.to,this.endSide=s.endSide,this.cursor.next(),this.forward(this.to,this.endSide);break}}else{this.to=this.endSide=1e9;break}}if(i){this.openStart=0;for(let r=i.length-1;r>=0&&i[r]<e;r--)this.openStart++}}activeForPoint(e){if(!this.active.length)return this.active;let t=[];for(let i=this.active.length-1;i>=0&&!(this.activeRank[i]<this.pointRank);i--)(this.activeTo[i]>e||this.activeTo[i]==e&&this.active[i].endSide>=this.point.endSide)&&t.push(this.active[i]);return t.reverse()}openEnd(e){let t=0;for(let i=this.activeTo.length-1;i>=0&&this.activeTo[i]>e;i--)t++;return t}}function Nb(n,e,t,i,r,s){n.goto(e),t.goto(i);let o=i+r,l=i,u=i-e;for(;;){let h=n.to+u-t.to||n.endSide-t.endSide,f=h<0?n.to+u:t.to,p=Math.min(f,o);if(n.point||t.point?n.point&&t.point&&(n.point==t.point||n.point.eq(t.point))&&B1(n.activeForPoint(n.to),t.activeForPoint(t.to))||s.comparePoint(l,p,n.point,t.point):p>l&&!B1(n.active,t.active)&&s.compareRange(l,p,n.active,t.active),f>o)break;l=f,h<=0&&n.next(),h>=0&&t.next()}}function B1(n,e){if(n.length!=e.length)return!1;for(let t=0;t<n.length;t++)if(n[t]!=e[t]&&!n[t].eq(e[t]))return!1;return!0}function Wd(n,e){for(let t=e,i=n.length-1;t<i;t++)n[t]=n[t+1];n.pop()}function Yd(n,e,t){for(let i=n.length-1;i>=e;i--)n[i+1]=n[i];n[e]=t}function Lb(n,e){let t=-1,i=1e9;for(let r=0;r<e.length;r++)(e[r]-i||n[r].endSide-n[t].endSide)<0&&(t=r,i=e[r]);return t}function vu(n,e,t=n.length){let i=0;for(let r=0;r<t;)n.charCodeAt(r)==9?(i+=e-i%e,r++):(i++,r=Tn(n,r));return i}function W1(n,e,t,i){for(let r=0,s=0;;){if(s>=e)return r;if(r==n.length)break;s+=n.charCodeAt(r)==9?t-s%t:1,r=Tn(n,r)}return i===!0?-1:n.length}const Y1="ͼ",Vb=typeof Symbol>"u"?"__"+Y1:Symbol.for(Y1),F1=typeof Symbol>"u"?"__styleSet"+Math.floor(Math.random()*1e8):Symbol("styleSet"),Zb=typeof globalThis<"u"?globalThis:typeof window<"u"?window:{};class ko{constructor(e,t){this.rules=[];let{finish:i}=t||{};function r(o){return/^@/.test(o)?[o]:o.split(/,\s*/)}function s(o,l,u,h){let f=[],p=/^@(\w+)\b/.exec(o[0]),g=p&&p[1]=="keyframes";if(p&&l==null)return u.push(o[0]+";");for(let O in l){let v=l[O];if(/&/.test(O))s(O.split(/,\s*/).map(x=>o.map(k=>x.replace(/&/,k))).reduce((x,k)=>x.concat(k)),v,u);else if(v&&typeof v=="object"){if(!p)throw new RangeError("The value of a property ("+O+") should be a primitive value.");s(r(O),v,f,g)}else v!=null&&f.push(O.replace(/_.*/,"").replace(/[A-Z]/g,x=>"-"+x.toLowerCase())+": "+v+";")}(f.length||g)&&u.push((i&&!p&&!h?o.map(i):o).join(", ")+" {"+f.join(" ")+"}")}for(let o in e)s(r(o),e[o],this.rules)}getRules(){return this.rules.join(`
`)}static newName(){let e=Zb[Vb]||1;return Zb[Vb]=e+1,Y1+e.toString(36)}static mount(e,t,i){let r=e[F1],s=i&&i.nonce;r?s&&r.setNonce(s):r=new MG(e,s),r.mount(Array.isArray(t)?t:[t])}}let Ub=new Map;class MG{constructor(e,t){let i=e.ownerDocument||e,r=i.defaultView;if(!e.head&&e.adoptedStyleSheets&&r.CSSStyleSheet){let s=Ub.get(i);if(s)return e.adoptedStyleSheets=[s.sheet,...e.adoptedStyleSheets],e[F1]=s;this.sheet=new r.CSSStyleSheet,e.adoptedStyleSheets=[this.sheet,...e.adoptedStyleSheets],Ub.set(i,this)}else{this.styleTag=i.createElement("style"),t&&this.styleTag.setAttribute("nonce",t);let s=e.head||e;s.insertBefore(this.styleTag,s.firstChild)}this.modules=[],e[F1]=this}mount(e){let t=this.sheet,i=0,r=0;for(let s=0;s<e.length;s++){let o=e[s],l=this.modules.indexOf(o);if(l<r&&l>-1&&(this.modules.splice(l,1),r--,l=-1),l==-1){if(this.modules.splice(r++,0,o),t)for(let u=0;u<o.rules.length;u++)t.insertRule(o.rules[u],i++)}else{for(;r<l;)i+=this.modules[r++].rules.length;i+=o.rules.length,r++}}if(!t){let s="";for(let o=0;o<this.modules.length;o++)s+=this.modules[o].getRules()+`
`;this.styleTag.textContent=s}}setNonce(e){this.styleTag&&this.styleTag.getAttribute("nonce")!=e&&this.styleTag.setAttribute("nonce",e)}}var Eo={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},bh={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},NG=typeof navigator<"u"&&/Mac/.test(navigator.platform),LG=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);for(var on=0;on<10;on++)Eo[48+on]=Eo[96+on]=String(on);for(var on=1;on<=24;on++)Eo[on+111]="F"+on;for(var on=65;on<=90;on++)Eo[on]=String.fromCharCode(on+32),bh[on]=String.fromCharCode(on);for(var $y in Eo)bh.hasOwnProperty($y)||(bh[$y]=Eo[$y]);function VG(n){var e=NG&&n.metaKey&&n.shiftKey&&!n.ctrlKey&&!n.altKey||LG&&n.shiftKey&&n.key&&n.key.length==1||n.key=="Unidentified",t=!e&&n.key||(n.shiftKey?bh:Eo)[n.keyCode]||n.key||"Unidentified";return t=="Esc"&&(t="Escape"),t=="Del"&&(t="Delete"),t=="Left"&&(t="ArrowLeft"),t=="Up"&&(t="ArrowUp"),t=="Right"&&(t="ArrowRight"),t=="Down"&&(t="ArrowDown"),t}function Vg(n){let e;return n.nodeType==11?e=n.getSelection?n:n.ownerDocument:e=n,e.getSelection()}function z1(n,e){return e?n==e||n.contains(e.nodeType!=1?e.parentNode:e):!1}function ZG(n){let e=n.activeElement;for(;e&&e.shadowRoot;)e=e.shadowRoot.activeElement;return e}function $p(n,e){if(!e.anchorNode)return!1;try{return z1(n,e.anchorNode)}catch{return!1}}function tu(n){return n.nodeType==3?_l(n,0,n.nodeValue.length).getClientRects():n.nodeType==1?n.getClientRects():[]}function Zg(n,e,t,i){return t?Bb(n,e,t,i,-1)||Bb(n,e,t,i,1):!1}function Ch(n){for(var e=0;;e++)if(n=n.previousSibling,!n)return e}function Bb(n,e,t,i,r){for(;;){if(n==t&&e==i)return!0;if(e==(r<0?0:ws(n))){if(n.nodeName=="DIV")return!1;let s=n.parentNode;if(!s||s.nodeType!=1)return!1;e=Ch(n)+(r<0?0:1),n=s}else if(n.nodeType==1){if(n=n.childNodes[e+(r<0?-1:0)],n.nodeType==1&&n.contentEditable=="false")return!1;e=r<0?ws(n):0}else return!1}}function ws(n){return n.nodeType==3?n.nodeValue.length:n.childNodes.length}function lO(n,e){let t=e?n.left:n.right;return{left:t,right:t,top:n.top,bottom:n.bottom}}function UG(n){return{left:0,right:n.innerWidth,top:0,bottom:n.innerHeight}}function BG(n,e,t,i,r,s,o,l){let u=n.ownerDocument,h=u.defaultView||window;for(let f=n,p=!1;f&&!p;)if(f.nodeType==1){let g,O=f==u.body,v=1,x=1;if(O)g=UG(h);else{if(/^(fixed|sticky)$/.test(getComputedStyle(f).position)&&(p=!0),f.scrollHeight<=f.clientHeight&&f.scrollWidth<=f.clientWidth){f=f.assignedSlot||f.parentNode;continue}let _=f.getBoundingClientRect();v=_.width/f.offsetWidth,x=_.height/f.offsetHeight,g={left:_.left,right:_.left+f.clientWidth*v,top:_.top,bottom:_.top+f.clientHeight*x}}let k=0,w=0;if(r=="nearest")e.top<g.top?(w=-(g.top-e.top+o),t>0&&e.bottom>g.bottom+w&&(w=e.bottom-g.bottom+w+o)):e.bottom>g.bottom&&(w=e.bottom-g.bottom+o,t<0&&e.top-w<g.top&&(w=-(g.top+w-e.top+o)));else{let _=e.bottom-e.top,E=g.bottom-g.top;w=(r=="center"&&_<=E?e.top+_/2-E/2:r=="start"||r=="center"&&t<0?e.top-o:e.bottom-E+o)-g.top}if(i=="nearest"?e.left<g.left?(k=-(g.left-e.left+s),t>0&&e.right>g.right+k&&(k=e.right-g.right+k+s)):e.right>g.right&&(k=e.right-g.right+s,t<0&&e.left<g.left+k&&(k=-(g.left+k-e.left+s))):k=(i=="center"?e.left+(e.right-e.left)/2-(g.right-g.left)/2:i=="start"==l?e.left-s:e.right-(g.right-g.left)+s)-g.left,k||w)if(O)h.scrollBy(k,w);else{let _=0,E=0;if(w){let b=f.scrollTop;f.scrollTop+=w/x,E=(f.scrollTop-b)*x}if(k){let b=f.scrollLeft;f.scrollLeft+=k/v,_=(f.scrollLeft-b)*v}e={left:e.left-_,top:e.top-E,right:e.right-_,bottom:e.bottom-E},_&&Math.abs(_-k)<1&&(i="nearest"),E&&Math.abs(E-w)<1&&(r="nearest")}if(O)break;f=f.assignedSlot||f.parentNode}else if(f.nodeType==11)f=f.host;else break}function WG(n){let e=n.ownerDocument;for(let t=n.parentNode;t&&t!=e.body;)if(t.nodeType==1){if(t.scrollHeight>t.clientHeight||t.scrollWidth>t.clientWidth)return t;t=t.assignedSlot||t.parentNode}else if(t.nodeType==11)t=t.host;else break;return null}class YG{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}eq(e){return this.anchorNode==e.anchorNode&&this.anchorOffset==e.anchorOffset&&this.focusNode==e.focusNode&&this.focusOffset==e.focusOffset}setRange(e){let{anchorNode:t,focusNode:i}=e;this.set(t,Math.min(e.anchorOffset,t?ws(t):0),i,Math.min(e.focusOffset,i?ws(i):0))}set(e,t,i,r){this.anchorNode=e,this.anchorOffset=t,this.focusNode=i,this.focusOffset=r}}let Gl=null;function PD(n){if(n.setActive)return n.setActive();if(Gl)return n.focus(Gl);let e=[];for(let t=n;t&&(e.push(t,t.scrollTop,t.scrollLeft),t!=t.ownerDocument);t=t.parentNode);if(n.focus(Gl==null?{get preventScroll(){return Gl={preventScroll:!0},!0}}:void 0),!Gl){Gl=!1;for(let t=0;t<e.length;){let i=e[t++],r=e[t++],s=e[t++];i.scrollTop!=r&&(i.scrollTop=r),i.scrollLeft!=s&&(i.scrollLeft=s)}}}let Wb;function _l(n,e,t=e){let i=Wb||(Wb=document.createRange());return i.setEnd(n,t),i.setStart(n,e),i}function Ra(n,e,t){let i={key:e,code:e,keyCode:t,which:t,cancelable:!0},r=new KeyboardEvent("keydown",i);r.synthetic=!0,n.dispatchEvent(r);let s=new KeyboardEvent("keyup",i);return s.synthetic=!0,n.dispatchEvent(s),r.defaultPrevented||s.defaultPrevented}function FG(n){for(;n;){if(n&&(n.nodeType==9||n.nodeType==11&&n.host))return n;n=n.assignedSlot||n.parentNode}return null}function bD(n){for(;n.attributes.length;)n.removeAttributeNode(n.attributes[0])}function zG(n,e){let t=e.focusNode,i=e.focusOffset;if(!t||e.anchorNode!=t||e.anchorOffset!=i)return!1;for(i=Math.min(i,ws(t));;)if(i){if(t.nodeType!=1)return!1;let r=t.childNodes[i-1];r.contentEditable=="false"?i--:(t=r,i=ws(t))}else{if(t==n)return!0;i=Ch(t),t=t.parentNode}}function CD(n){return n.scrollTop>Math.max(1,n.scrollHeight-n.clientHeight-4)}class _n{constructor(e,t,i=!0){this.node=e,this.offset=t,this.precise=i}static before(e,t){return new _n(e.parentNode,Ch(e),t)}static after(e,t){return new _n(e.parentNode,Ch(e)+1,t)}}const U_=[];class rt{constructor(){this.parent=null,this.dom=null,this.flags=2}get overrideDOMText(){return null}get posAtStart(){return this.parent?this.parent.posBefore(this):0}get posAtEnd(){return this.posAtStart+this.length}posBefore(e){let t=this.posAtStart;for(let i of this.children){if(i==e)return t;t+=i.length+i.breakAfter}throw new RangeError("Invalid child in posBefore")}posAfter(e){return this.posBefore(e)+e.length}sync(e,t){if(this.flags&2){let i=this.dom,r=null,s;for(let o of this.children){if(o.flags&7){if(!o.dom&&(s=r?r.nextSibling:i.firstChild)){let l=rt.get(s);(!l||!l.parent&&l.canReuseDOM(o))&&o.reuseDOM(s)}o.sync(e,t),o.flags&=-8}if(s=r?r.nextSibling:i.firstChild,t&&!t.written&&t.node==i&&s!=o.dom&&(t.written=!0),o.dom.parentNode==i)for(;s&&s!=o.dom;)s=Yb(s);else i.insertBefore(o.dom,s);r=o.dom}for(s=r?r.nextSibling:i.firstChild,s&&t&&t.node==i&&(t.written=!0);s;)s=Yb(s)}else if(this.flags&1)for(let i of this.children)i.flags&7&&(i.sync(e,t),i.flags&=-8)}reuseDOM(e){}localPosFromDOM(e,t){let i;if(e==this.dom)i=this.dom.childNodes[t];else{let r=ws(e)==0?0:t==0?-1:1;for(;;){let s=e.parentNode;if(s==this.dom)break;r==0&&s.firstChild!=s.lastChild&&(e==s.firstChild?r=-1:r=1),e=s}r<0?i=e:i=e.nextSibling}if(i==this.dom.firstChild)return 0;for(;i&&!rt.get(i);)i=i.nextSibling;if(!i)return this.length;for(let r=0,s=0;;r++){let o=this.children[r];if(o.dom==i)return s;s+=o.length+o.breakAfter}}domBoundsAround(e,t,i=0){let r=-1,s=-1,o=-1,l=-1;for(let u=0,h=i,f=i;u<this.children.length;u++){let p=this.children[u],g=h+p.length;if(h<e&&g>t)return p.domBoundsAround(e,t,h);if(g>=e&&r==-1&&(r=u,s=h),h>t&&p.dom.parentNode==this.dom){o=u,l=f;break}f=g,h=g+p.breakAfter}return{from:s,to:l<0?i+this.length:l,startDOM:(r?this.children[r-1].dom.nextSibling:null)||this.dom.firstChild,endDOM:o<this.children.length&&o>=0?this.children[o].dom:null}}markDirty(e=!1){this.flags|=2,this.markParentsDirty(e)}markParentsDirty(e){for(let t=this.parent;t;t=t.parent){if(e&&(t.flags|=2),t.flags&1)return;t.flags|=1,e=!1}}setParent(e){this.parent!=e&&(this.parent=e,this.flags&7&&this.markParentsDirty(!0))}setDOM(e){this.dom!=e&&(this.dom&&(this.dom.cmView=null),this.dom=e,e.cmView=this)}get rootView(){for(let e=this;;){let t=e.parent;if(!t)return e;e=t}}replaceChildren(e,t,i=U_){this.markDirty();for(let r=e;r<t;r++){let s=this.children[r];s.parent==this&&s.destroy()}this.children.splice(e,t-e,...i);for(let r=0;r<i.length;r++)i[r].setParent(this)}ignoreMutation(e){return!1}ignoreEvent(e){return!1}childCursor(e=this.length){return new AD(this.children,e,this.children.length)}childPos(e,t=1){return this.childCursor().findPos(e,t)}toString(){let e=this.constructor.name.replace("View","");return e+(this.children.length?"("+this.children.join()+")":this.length?"["+(e=="Text"?this.text:this.length)+"]":"")+(this.breakAfter?"#":"")}static get(e){return e.cmView}get isEditable(){return!0}get isWidget(){return!1}get isHidden(){return!1}merge(e,t,i,r,s,o){return!1}become(e){return!1}canReuseDOM(e){return e.constructor==this.constructor&&!((this.flags|e.flags)&8)}getSide(){return 0}destroy(){this.parent=null}}rt.prototype.breakAfter=0;function Yb(n){let e=n.nextSibling;return n.parentNode.removeChild(n),e}class AD{constructor(e,t,i){this.children=e,this.pos=t,this.i=i,this.off=0}findPos(e,t=1){for(;;){if(e>this.pos||e==this.pos&&(t>0||this.i==0||this.children[this.i-1].breakAfter))return this.off=e-this.pos,this;let i=this.children[--this.i];this.pos-=i.length+i.breakAfter}}}function ID(n,e,t,i,r,s,o,l,u){let{children:h}=n,f=h.length?h[e]:null,p=s.length?s[s.length-1]:null,g=p?p.breakAfter:o;if(!(e==i&&f&&!o&&!g&&s.length<2&&f.merge(t,r,s.length?p:null,t==0,l,u))){if(i<h.length){let O=h[i];O&&(r<O.length||O.breakAfter&&(p!=null&&p.breakAfter))?(e==i&&(O=O.split(r),r=0),!g&&p&&O.merge(0,r,p,!0,0,u)?s[s.length-1]=O:((r||O.children.length&&!O.children[0].length)&&O.merge(0,r,null,!1,0,u),s.push(O))):O!=null&&O.breakAfter&&(p?p.breakAfter=1:o=1),i++}for(f&&(f.breakAfter=o,t>0&&(!o&&s.length&&f.merge(t,f.length,s[0],!1,l,0)?f.breakAfter=s.shift().breakAfter:(t<f.length||f.children.length&&f.children[f.children.length-1].length==0)&&f.merge(t,f.length,null,!1,l,0),e++));e<i&&s.length;)if(h[i-1].become(s[s.length-1]))i--,s.pop(),u=s.length?0:l;else if(h[e].become(s[0]))e++,s.shift(),l=s.length?0:u;else break;!s.length&&e&&i<h.length&&!h[e-1].breakAfter&&h[i].merge(0,0,h[e-1],!1,l,u)&&e--,(e<i||s.length)&&n.replaceChildren(e,i,s)}}function RD(n,e,t,i,r,s){let o=n.childCursor(),{i:l,off:u}=o.findPos(t,1),{i:h,off:f}=o.findPos(e,-1),p=e-t;for(let g of i)p+=g.length;n.length+=p,ID(n,h,f,l,u,i,0,r,s)}let fi=typeof navigator<"u"?navigator:{userAgent:"",vendor:"",platform:""},X1=typeof document<"u"?document:{documentElement:{style:{}}};const j1=/Edge\/(\d+)/.exec(fi.userAgent),$D=/MSIE \d/.test(fi.userAgent),q1=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(fi.userAgent),aO=!!($D||q1||j1),Fb=!aO&&/gecko\/(\d+)/i.test(fi.userAgent),Qy=!aO&&/Chrome\/(\d+)/.exec(fi.userAgent),zb="webkitFontSmoothing"in X1.documentElement.style,QD=!aO&&/Apple Computer/.test(fi.vendor),Xb=QD&&(/Mobile\/\w+/.test(fi.userAgent)||fi.maxTouchPoints>2);var ae={mac:Xb||/Mac/.test(fi.platform),windows:/Win/.test(fi.platform),linux:/Linux|X11/.test(fi.platform),ie:aO,ie_version:$D?X1.documentMode||6:q1?+q1[1]:j1?+j1[1]:0,gecko:Fb,gecko_version:Fb?+(/Firefox\/(\d+)/.exec(fi.userAgent)||[0,0])[1]:0,chrome:!!Qy,chrome_version:Qy?+Qy[1]:0,ios:Xb,android:/Android\b/.test(fi.userAgent),webkit:zb,safari:QD,webkit_version:zb?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0,tabSize:X1.documentElement.style.tabSize!=null?"tab-size":"-moz-tab-size"};const XG=256;class Ss extends rt{constructor(e){super(),this.text=e}get length(){return this.text.length}createDOM(e){this.setDOM(e||document.createTextNode(this.text))}sync(e,t){this.dom||this.createDOM(),this.dom.nodeValue!=this.text&&(t&&t.node==this.dom&&(t.written=!0),this.dom.nodeValue=this.text)}reuseDOM(e){e.nodeType==3&&this.createDOM(e)}merge(e,t,i){return this.flags&8||i&&(!(i instanceof Ss)||this.length-(t-e)+i.length>XG||i.flags&8)?!1:(this.text=this.text.slice(0,e)+(i?i.text:"")+this.text.slice(t),this.markDirty(),!0)}split(e){let t=new Ss(this.text.slice(e));return this.text=this.text.slice(0,e),this.markDirty(),t.flags|=this.flags&8,t}localPosFromDOM(e,t){return e==this.dom?t:t?this.text.length:0}domAtPos(e){return new _n(this.dom,e)}domBoundsAround(e,t,i){return{from:i,to:i+this.length,startDOM:this.dom,endDOM:this.dom.nextSibling}}coordsAt(e,t){return jG(this.dom,e,t)}}class _s extends rt{constructor(e,t=[],i=0){super(),this.mark=e,this.children=t,this.length=i;for(let r of t)r.setParent(this)}setAttrs(e){if(bD(e),this.mark.class&&(e.className=this.mark.class),this.mark.attrs)for(let t in this.mark.attrs)e.setAttribute(t,this.mark.attrs[t]);return e}canReuseDOM(e){return super.canReuseDOM(e)&&!((this.flags|e.flags)&8)}reuseDOM(e){e.nodeName==this.mark.tagName.toUpperCase()&&(this.setDOM(e),this.flags|=6)}sync(e,t){this.dom?this.flags&4&&this.setAttrs(this.dom):this.setDOM(this.setAttrs(document.createElement(this.mark.tagName))),super.sync(e,t)}merge(e,t,i,r,s,o){return i&&(!(i instanceof _s&&i.mark.eq(this.mark))||e&&s<=0||t<this.length&&o<=0)?!1:(RD(this,e,t,i?i.children:[],s-1,o-1),this.markDirty(),!0)}split(e){let t=[],i=0,r=-1,s=0;for(let l of this.children){let u=i+l.length;u>e&&t.push(i<e?l.split(e-i):l),r<0&&i>=e&&(r=s),i=u,s++}let o=this.length-e;return this.length=e,r>-1&&(this.children.length=r,this.markDirty()),new _s(this.mark,t,o)}domAtPos(e){return DD(this,e)}coordsAt(e,t){return ND(this,e,t)}}function jG(n,e,t){let i=n.nodeValue.length;e>i&&(e=i);let r=e,s=e,o=0;e==0&&t<0||e==i&&t>=0?ae.chrome||ae.gecko||(e?(r--,o=1):s<i&&(s++,o=-1)):t<0?r--:s<i&&s++;let l=_l(n,r,s).getClientRects();if(!l.length)return null;let u=l[(o?o<0:t>=0)?0:l.length-1];return ae.safari&&!o&&u.width==0&&(u=Array.prototype.find.call(l,h=>h.width)||u),o?lO(u,o<0):u||null}class Js extends rt{static create(e,t,i){return new Js(e,t,i)}constructor(e,t,i){super(),this.widget=e,this.length=t,this.side=i,this.prevWidget=null}split(e){let t=Js.create(this.widget,this.length-e,this.side);return this.length-=e,t}sync(e){(!this.dom||!this.widget.updateDOM(this.dom,e))&&(this.dom&&this.prevWidget&&this.prevWidget.destroy(this.dom),this.prevWidget=null,this.setDOM(this.widget.toDOM(e)),this.dom.contentEditable="false")}getSide(){return this.side}merge(e,t,i,r,s,o){return i&&(!(i instanceof Js)||!this.widget.compare(i.widget)||e>0&&s<=0||t<this.length&&o<=0)?!1:(this.length=e+(i?i.length:0)+(this.length-t),!0)}become(e){return e instanceof Js&&e.side==this.side&&this.widget.constructor==e.widget.constructor?(this.widget.compare(e.widget)||this.markDirty(!0),this.dom&&!this.prevWidget&&(this.prevWidget=this.widget),this.widget=e.widget,this.length=e.length,!0):!1}ignoreMutation(){return!0}ignoreEvent(e){return this.widget.ignoreEvent(e)}get overrideDOMText(){if(this.length==0)return Le.empty;let e=this;for(;e.parent;)e=e.parent;let{view:t}=e,i=t&&t.state.doc,r=this.posAtStart;return i?i.slice(r,r+this.length):Le.empty}domAtPos(e){return(this.length?e==0:this.side>0)?_n.before(this.dom):_n.after(this.dom,e==this.length)}domBoundsAround(){return null}coordsAt(e,t){let i=this.widget.coordsAt(this.dom,e,t);if(i)return i;let r=this.dom.getClientRects(),s=null;if(!r.length)return null;let o=this.side?this.side<0:e>0;for(let l=o?r.length-1:0;s=r[l],!(e>0?l==0:l==r.length-1||s.top<s.bottom);l+=o?-1:1);return lO(s,!o)}get isEditable(){return!1}get isWidget(){return!0}get isHidden(){return this.widget.isHidden}destroy(){super.destroy(),this.dom&&this.widget.destroy(this.dom)}}class nu extends rt{constructor(e){super(),this.side=e}get length(){return 0}merge(){return!1}become(e){return e instanceof nu&&e.side==this.side}split(){return new nu(this.side)}sync(){if(!this.dom){let e=document.createElement("img");e.className="cm-widgetBuffer",e.setAttribute("aria-hidden","true"),this.setDOM(e)}}getSide(){return this.side}domAtPos(e){return this.side>0?_n.before(this.dom):_n.after(this.dom)}localPosFromDOM(){return 0}domBoundsAround(){return null}coordsAt(e){return this.dom.getBoundingClientRect()}get overrideDOMText(){return Le.empty}get isHidden(){return!0}}Ss.prototype.children=Js.prototype.children=nu.prototype.children=U_;function DD(n,e){let t=n.dom,{children:i}=n,r=0;for(let s=0;r<i.length;r++){let o=i[r],l=s+o.length;if(!(l==s&&o.getSide()<=0)){if(e>s&&e<l&&o.dom.parentNode==t)return o.domAtPos(e-s);if(e<=s)break;s=l}}for(let s=r;s>0;s--){let o=i[s-1];if(o.dom.parentNode==t)return o.domAtPos(o.length)}for(let s=r;s<i.length;s++){let o=i[s];if(o.dom.parentNode==t)return o.domAtPos(0)}return new _n(t,0)}function MD(n,e,t){let i,{children:r}=n;t>0&&e instanceof _s&&r.length&&(i=r[r.length-1])instanceof _s&&i.mark.eq(e.mark)?MD(i,e.children[0],t-1):(r.push(e),e.setParent(n)),n.length+=e.length}function ND(n,e,t){let i=null,r=-1,s=null,o=-1;function l(h,f){for(let p=0,g=0;p<h.children.length&&g<=f;p++){let O=h.children[p],v=g+O.length;v>=f&&(O.children.length?l(O,f-g):(!s||s.isHidden&&t>0)&&(v>f||g==v&&O.getSide()>0)?(s=O,o=f-g):(g<f||g==v&&O.getSide()<0&&!O.isHidden)&&(i=O,r=f-g)),g=v}}l(n,e);let u=(t<0?i:s)||i||s;return u?u.coordsAt(Math.max(0,u==i?r:o),t):qG(n)}function qG(n){let e=n.dom.lastChild;if(!e)return n.dom.getBoundingClientRect();let t=tu(e);return t[t.length-1]||null}function G1(n,e){for(let t in n)t=="class"&&e.class?e.class+=" "+n.class:t=="style"&&e.style?e.style+=";"+n.style:e[t]=n[t];return e}const jb=Object.create(null);function B_(n,e,t){if(n==e)return!0;n||(n=jb),e||(e=jb);let i=Object.keys(n),r=Object.keys(e);if(i.length-(t&&i.indexOf(t)>-1?1:0)!=r.length-(t&&r.indexOf(t)>-1?1:0))return!1;for(let s of i)if(s!=t&&(r.indexOf(s)==-1||n[s]!==e[s]))return!1;return!0}function H1(n,e,t){let i=!1;if(e)for(let r in e)t&&r in t||(i=!0,r=="style"?n.style.cssText="":n.removeAttribute(r));if(t)for(let r in t)e&&e[r]==t[r]||(i=!0,r=="style"?n.style.cssText=t[r]:n.setAttribute(r,t[r]));return i}function GG(n){let e=Object.create(null);for(let t=0;t<n.attributes.length;t++){let i=n.attributes[t];e[i.name]=i.value}return e}class Lt extends rt{constructor(){super(...arguments),this.children=[],this.length=0,this.prevAttrs=void 0,this.attrs=null,this.breakAfter=0}merge(e,t,i,r,s,o){if(i){if(!(i instanceof Lt))return!1;this.dom||i.transferDOM(this)}return r&&this.setDeco(i?i.attrs:null),RD(this,e,t,i?i.children:[],s,o),!0}split(e){let t=new Lt;if(t.breakAfter=this.breakAfter,this.length==0)return t;let{i,off:r}=this.childPos(e);r&&(t.append(this.children[i].split(r),0),this.children[i].merge(r,this.children[i].length,null,!1,0,0),i++);for(let s=i;s<this.children.length;s++)t.append(this.children[s],0);for(;i>0&&this.children[i-1].length==0;)this.children[--i].destroy();return this.children.length=i,this.markDirty(),this.length=e,t}transferDOM(e){this.dom&&(this.markDirty(),e.setDOM(this.dom),e.prevAttrs=this.prevAttrs===void 0?this.attrs:this.prevAttrs,this.prevAttrs=void 0,this.dom=null)}setDeco(e){B_(this.attrs,e)||(this.dom&&(this.prevAttrs=this.attrs,this.markDirty()),this.attrs=e)}append(e,t){MD(this,e,t)}addLineDeco(e){let t=e.spec.attributes,i=e.spec.class;t&&(this.attrs=G1(t,this.attrs||{})),i&&(this.attrs=G1({class:i},this.attrs||{}))}domAtPos(e){return DD(this,e)}reuseDOM(e){e.nodeName=="DIV"&&(this.setDOM(e),this.flags|=6)}sync(e,t){var i;this.dom?this.flags&4&&(bD(this.dom),this.dom.className="cm-line",this.prevAttrs=this.attrs?null:void 0):(this.setDOM(document.createElement("div")),this.dom.className="cm-line",this.prevAttrs=this.attrs?null:void 0),this.prevAttrs!==void 0&&(H1(this.dom,this.prevAttrs,this.attrs),this.dom.classList.add("cm-line"),this.prevAttrs=void 0),super.sync(e,t);let r=this.dom.lastChild;for(;r&&rt.get(r)instanceof _s;)r=r.lastChild;if(!r||!this.length||r.nodeName!="BR"&&((i=rt.get(r))===null||i===void 0?void 0:i.isEditable)==!1&&(!ae.ios||!this.children.some(s=>s instanceof Ss))){let s=document.createElement("BR");s.cmIgnore=!0,this.dom.appendChild(s)}}measureTextSize(){if(this.children.length==0||this.length>20)return null;let e=0,t;for(let i of this.children){if(!(i instanceof Ss)||/[^ -~]/.test(i.text))return null;let r=tu(i.dom);if(r.length!=1)return null;e+=r[0].width,t=r[0].height}return e?{lineHeight:this.dom.getBoundingClientRect().height,charWidth:e/this.length,textHeight:t}:null}coordsAt(e,t){let i=ND(this,e,t);if(!this.children.length&&i&&this.parent){let{heightOracle:r}=this.parent.view.viewState,s=i.bottom-i.top;if(Math.abs(s-r.lineHeight)<2&&r.textHeight<s){let o=(s-r.textHeight)/2;return{top:i.top+o,bottom:i.bottom-o,left:i.left,right:i.left}}}return i}become(e){return!1}covers(){return!0}static find(e,t){for(let i=0,r=0;i<e.children.length;i++){let s=e.children[i],o=r+s.length;if(o>=t){if(s instanceof Lt)return s;if(o>t)break}r=o+s.breakAfter}return null}}class go extends rt{constructor(e,t,i){super(),this.widget=e,this.length=t,this.deco=i,this.breakAfter=0,this.prevWidget=null}merge(e,t,i,r,s,o){return i&&(!(i instanceof go)||!this.widget.compare(i.widget)||e>0&&s<=0||t<this.length&&o<=0)?!1:(this.length=e+(i?i.length:0)+(this.length-t),!0)}domAtPos(e){return e==0?_n.before(this.dom):_n.after(this.dom,e==this.length)}split(e){let t=this.length-e;this.length=e;let i=new go(this.widget,t,this.deco);return i.breakAfter=this.breakAfter,i}get children(){return U_}sync(e){(!this.dom||!this.widget.updateDOM(this.dom,e))&&(this.dom&&this.prevWidget&&this.prevWidget.destroy(this.dom),this.prevWidget=null,this.setDOM(this.widget.toDOM(e)),this.dom.contentEditable="false")}get overrideDOMText(){return this.parent?this.parent.view.state.doc.slice(this.posAtStart,this.posAtEnd):Le.empty}domBoundsAround(){return null}become(e){return e instanceof go&&e.widget.constructor==this.widget.constructor?(e.widget.compare(this.widget)||this.markDirty(!0),this.dom&&!this.prevWidget&&(this.prevWidget=this.widget),this.widget=e.widget,this.length=e.length,this.deco=e.deco,this.breakAfter=e.breakAfter,!0):!1}ignoreMutation(){return!0}ignoreEvent(e){return this.widget.ignoreEvent(e)}get isEditable(){return!1}get isWidget(){return!0}coordsAt(e,t){return this.widget.coordsAt(this.dom,e,t)}destroy(){super.destroy(),this.dom&&this.widget.destroy(this.dom)}covers(e){let{startSide:t,endSide:i}=this.deco;return t==i?!1:e<0?t<0:i>0}}class Br{eq(e){return!1}updateDOM(e,t){return!1}compare(e){return this==e||this.constructor==e.constructor&&this.eq(e)}get estimatedHeight(){return-1}get lineBreaks(){return 0}ignoreEvent(e){return!0}coordsAt(e,t,i){return null}get isHidden(){return!1}destroy(e){}}var Nn=function(n){return n[n.Text=0]="Text",n[n.WidgetBefore=1]="WidgetBefore",n[n.WidgetAfter=2]="WidgetAfter",n[n.WidgetRange=3]="WidgetRange",n}(Nn||(Nn={}));class he extends Sl{constructor(e,t,i,r){super(),this.startSide=e,this.endSide=t,this.widget=i,this.spec=r}get heightRelevant(){return!1}static mark(e){return new Of(e)}static widget(e){let t=Math.max(-1e4,Math.min(1e4,e.side||0)),i=!!e.block;return t+=i&&!e.inlineOrder?t>0?3e8:-4e8:t>0?1e8:-1e8,new Po(e,t,t,i,e.widget||null,!1)}static replace(e){let t=!!e.block,i,r;if(e.isBlockGap)i=-5e8,r=4e8;else{let{start:s,end:o}=LD(e,t);i=(s?t?-3e8:-1:5e8)-1,r=(o?t?2e8:1:-6e8)+1}return new Po(e,i,r,t,e.widget||null,!0)}static line(e){return new yf(e)}static set(e,t=!1){return Be.of(e,t)}hasHeight(){return this.widget?this.widget.estimatedHeight>-1:!1}}he.none=Be.empty;class Of extends he{constructor(e){let{start:t,end:i}=LD(e);super(t?-1:5e8,i?1:-6e8,null,e),this.tagName=e.tagName||"span",this.class=e.class||"",this.attrs=e.attributes||null}eq(e){var t,i;return this==e||e instanceof Of&&this.tagName==e.tagName&&(this.class||((t=this.attrs)===null||t===void 0?void 0:t.class))==(e.class||((i=e.attrs)===null||i===void 0?void 0:i.class))&&B_(this.attrs,e.attrs,"class")}range(e,t=e){if(e>=t)throw new RangeError("Mark decorations may not be empty");return super.range(e,t)}}Of.prototype.point=!1;class yf extends he{constructor(e){super(-2e8,-2e8,null,e)}eq(e){return e instanceof yf&&this.spec.class==e.spec.class&&B_(this.spec.attributes,e.spec.attributes)}range(e,t=e){if(t!=e)throw new RangeError("Line decoration ranges must be zero-length");return super.range(e,t)}}yf.prototype.mapMode=an.TrackBefore;yf.prototype.point=!0;class Po extends he{constructor(e,t,i,r,s,o){super(t,i,s,e),this.block=r,this.isReplace=o,this.mapMode=r?t<=0?an.TrackBefore:an.TrackAfter:an.TrackDel}get type(){return this.startSide!=this.endSide?Nn.WidgetRange:this.startSide<=0?Nn.WidgetBefore:Nn.WidgetAfter}get heightRelevant(){return this.block||!!this.widget&&(this.widget.estimatedHeight>=5||this.widget.lineBreaks>0)}eq(e){return e instanceof Po&&HG(this.widget,e.widget)&&this.block==e.block&&this.startSide==e.startSide&&this.endSide==e.endSide}range(e,t=e){if(this.isReplace&&(e>t||e==t&&this.startSide>0&&this.endSide<=0))throw new RangeError("Invalid range for replacement decoration");if(!this.isReplace&&t!=e)throw new RangeError("Widget decorations can only have zero-length ranges");return super.range(e,t)}}Po.prototype.point=!0;function LD(n,e=!1){let{inclusiveStart:t,inclusiveEnd:i}=n;return t==null&&(t=n.inclusive),i==null&&(i=n.inclusive),{start:t??e,end:i??e}}function HG(n,e){return n==e||!!(n&&e&&n.compare(e))}function K1(n,e,t,i=0){let r=t.length-1;r>=0&&t[r]+i>=n?t[r]=Math.max(t[r],e):t.push(n,e)}class Bc{constructor(e,t,i,r){this.doc=e,this.pos=t,this.end=i,this.disallowBlockEffectsFor=r,this.content=[],this.curLine=null,this.breakAtStart=0,this.pendingBuffer=0,this.bufferMarks=[],this.atCursorPos=!0,this.openStart=-1,this.openEnd=-1,this.text="",this.textOff=0,this.cursor=e.iter(),this.skip=t}posCovered(){if(this.content.length==0)return!this.breakAtStart&&this.doc.lineAt(this.pos).from!=this.pos;let e=this.content[this.content.length-1];return!(e.breakAfter||e instanceof go&&e.deco.endSide<0)}getLine(){return this.curLine||(this.content.push(this.curLine=new Lt),this.atCursorPos=!0),this.curLine}flushBuffer(e=this.bufferMarks){this.pendingBuffer&&(this.curLine.append(Fd(new nu(-1),e),e.length),this.pendingBuffer=0)}addBlockWidget(e){this.flushBuffer(),this.curLine=null,this.content.push(e)}finish(e){this.pendingBuffer&&e<=this.bufferMarks.length?this.flushBuffer():this.pendingBuffer=0,!this.posCovered()&&!(e&&this.content.length&&this.content[this.content.length-1]instanceof go)&&this.getLine()}buildText(e,t,i){for(;e>0;){if(this.textOff==this.text.length){let{value:s,lineBreak:o,done:l}=this.cursor.next(this.skip);if(this.skip=0,l)throw new Error("Ran out of text content when drawing inline views");if(o){this.posCovered()||this.getLine(),this.content.length?this.content[this.content.length-1].breakAfter=1:this.breakAtStart=1,this.flushBuffer(),this.curLine=null,this.atCursorPos=!0,e--;continue}else this.text=s,this.textOff=0}let r=Math.min(this.text.length-this.textOff,e,512);this.flushBuffer(t.slice(t.length-i)),this.getLine().append(Fd(new Ss(this.text.slice(this.textOff,this.textOff+r)),t),i),this.atCursorPos=!0,this.textOff+=r,e-=r,i=0}}span(e,t,i,r){this.buildText(t-e,i,r),this.pos=t,this.openStart<0&&(this.openStart=r)}point(e,t,i,r,s,o){if(this.disallowBlockEffectsFor[o]&&i instanceof Po){if(i.block)throw new RangeError("Block decorations may not be specified via plugins");if(t>this.doc.lineAt(this.pos).to)throw new RangeError("Decorations that replace line breaks may not be specified via plugins")}let l=t-e;if(i instanceof Po)if(i.block)i.startSide>0&&!this.posCovered()&&this.getLine(),this.addBlockWidget(new go(i.widget||new qb("div"),l,i));else{let u=Js.create(i.widget||new qb("span"),l,l?0:i.startSide),h=this.atCursorPos&&!u.isEditable&&s<=r.length&&(e<t||i.startSide>0),f=!u.isEditable&&(e<t||s>r.length||i.startSide<=0),p=this.getLine();this.pendingBuffer==2&&!h&&!u.isEditable&&(this.pendingBuffer=0),this.flushBuffer(r),h&&(p.append(Fd(new nu(1),r),s),s=r.length+Math.max(0,s-r.length)),p.append(Fd(u,r),s),this.atCursorPos=f,this.pendingBuffer=f?e<t||s>r.length?1:2:0,this.pendingBuffer&&(this.bufferMarks=r.slice())}else this.doc.lineAt(this.pos).from==this.pos&&this.getLine().addLineDeco(i);l&&(this.textOff+l<=this.text.length?this.textOff+=l:(this.skip+=l-(this.text.length-this.textOff),this.text="",this.textOff=0),this.pos=t),this.openStart<0&&(this.openStart=s)}static build(e,t,i,r,s){let o=new Bc(e,t,i,s);return o.openEnd=Be.spans(r,t,i,o),o.openStart<0&&(o.openStart=o.openEnd),o.finish(o.openEnd),o}}function Fd(n,e){for(let t of e)n=new _s(t,[n],n.length);return n}class qb extends Br{constructor(e){super(),this.tag=e}eq(e){return e.tag==this.tag}toDOM(){return document.createElement(this.tag)}updateDOM(e){return e.nodeName.toLowerCase()==this.tag}get isHidden(){return!0}}const VD=se.define(),ZD=se.define(),UD=se.define(),BD=se.define(),J1=se.define(),WD=se.define(),YD=se.define(),FD=se.define({combine:n=>n.some(e=>e)}),zD=se.define({combine:n=>n.some(e=>e)});class $a{constructor(e,t="nearest",i="nearest",r=5,s=5,o=!1){this.range=e,this.y=t,this.x=i,this.yMargin=r,this.xMargin=s,this.isSnapshot=o}map(e){return e.empty?this:new $a(this.range.map(e),this.y,this.x,this.yMargin,this.xMargin,this.isSnapshot)}clip(e){return this.range.to<=e.doc.length?this:new $a(L.cursor(e.doc.length),this.y,this.x,this.yMargin,this.xMargin,this.isSnapshot)}}const zd=Se.define({map:(n,e)=>n.map(e)});function Zi(n,e,t){let i=n.facet(BD);i.length?i[0](e):window.onerror?window.onerror(String(e),t,void 0,void 0,e):t?console.error(t+":",e):console.error(e)}const uO=se.define({combine:n=>n.length?n[0]:!0});let KG=0;const vc=se.define();class Pt{constructor(e,t,i,r,s){this.id=e,this.create=t,this.domEventHandlers=i,this.domEventObservers=r,this.extension=s(this)}static define(e,t){const{eventHandlers:i,eventObservers:r,provide:s,decorations:o}=t||{};return new Pt(KG++,e,i,r,l=>{let u=[vc.of(l)];return o&&u.push(Ah.of(h=>{let f=h.plugin(l);return f?o(f):he.none})),s&&u.push(s(l)),u})}static fromClass(e,t){return Pt.define(i=>new e(i),t)}}class Dy{constructor(e){this.spec=e,this.mustUpdate=null,this.value=null}update(e){if(this.value){if(this.mustUpdate){let t=this.mustUpdate;if(this.mustUpdate=null,this.value.update)try{this.value.update(t)}catch(i){if(Zi(t.state,i,"CodeMirror plugin crashed"),this.value.destroy)try{this.value.destroy()}catch{}this.deactivate()}}}else if(this.spec)try{this.value=this.spec.create(e)}catch(t){Zi(e.state,t,"CodeMirror plugin crashed"),this.deactivate()}return this}destroy(e){var t;if(!((t=this.value)===null||t===void 0)&&t.destroy)try{this.value.destroy()}catch(i){Zi(e.state,i,"CodeMirror plugin crashed")}}deactivate(){this.spec=this.value=null}}const XD=se.define(),W_=se.define(),Ah=se.define(),Y_=se.define(),jD=se.define();function Gb(n,e,t){let i=n.state.facet(jD);if(!i.length)return i;let r=i.map(o=>o instanceof Function?o(n):o),s=[];return Be.spans(r,e,t,{point(){},span(o,l,u,h){let f=s;for(let p=u.length-1;p>=0;p--,h--){let g=u[p].spec.bidiIsolate,O;if(g!=null)if(h>0&&f.length&&(O=f[f.length-1]).to==o&&O.direction==g)O.to=l,f=O.inner;else{let v={from:o,to:l,direction:g,inner:[]};f.push(v),f=v.inner}}}}),s}const qD=se.define();function GD(n){let e=0,t=0,i=0,r=0;for(let s of n.state.facet(qD)){let o=s(n);o&&(o.left!=null&&(e=Math.max(e,o.left)),o.right!=null&&(t=Math.max(t,o.right)),o.top!=null&&(i=Math.max(i,o.top)),o.bottom!=null&&(r=Math.max(r,o.bottom)))}return{left:e,right:t,top:i,bottom:r}}const wc=se.define();class Ui{constructor(e,t,i,r){this.fromA=e,this.toA=t,this.fromB=i,this.toB=r}join(e){return new Ui(Math.min(this.fromA,e.fromA),Math.max(this.toA,e.toA),Math.min(this.fromB,e.fromB),Math.max(this.toB,e.toB))}addToSet(e){let t=e.length,i=this;for(;t>0;t--){let r=e[t-1];if(!(r.fromA>i.toA)){if(r.toA<i.fromA)break;i=i.join(r),e.splice(t-1,1)}}return e.splice(t,0,i),e}static extendWithRanges(e,t){if(t.length==0)return e;let i=[];for(let r=0,s=0,o=0,l=0;;r++){let u=r==e.length?null:e[r],h=o-l,f=u?u.fromB:1e9;for(;s<t.length&&t[s]<f;){let p=t[s],g=t[s+1],O=Math.max(l,p),v=Math.min(f,g);if(O<=v&&new Ui(O+h,v+h,O,v).addToSet(i),g>f)break;s+=2}if(!u)return i;new Ui(u.fromA,u.toA,u.fromB,u.toB).addToSet(i),o=u.toA,l=u.toB}}}class Ug{constructor(e,t,i){this.view=e,this.state=t,this.transactions=i,this.flags=0,this.startState=e.state,this.changes=Zt.empty(this.startState.doc.length);for(let s of i)this.changes=this.changes.compose(s.changes);let r=[];this.changes.iterChangedRanges((s,o,l,u)=>r.push(new Ui(s,o,l,u))),this.changedRanges=r}static create(e,t,i){return new Ug(e,t,i)}get viewportChanged(){return(this.flags&4)>0}get heightChanged(){return(this.flags&2)>0}get geometryChanged(){return this.docChanged||(this.flags&10)>0}get focusChanged(){return(this.flags&1)>0}get docChanged(){return!this.changes.empty}get selectionSet(){return this.transactions.some(e=>e.selection)}get empty(){return this.flags==0&&this.transactions.length==0}}var dt=function(n){return n[n.LTR=0]="LTR",n[n.RTL=1]="RTL",n}(dt||(dt={}));const Ih=dt.LTR,HD=dt.RTL;function KD(n){let e=[];for(let t=0;t<n.length;t++)e.push(1<<+n[t]);return e}const JG=KD("88888888888888888888888888888888888666888888787833333333337888888000000000000000000000000008888880000000000000000000000000088888888888888888888888888888888888887866668888088888663380888308888800000000000000000000000800000000000000000000000000000008"),eH=KD("4444448826627288999999999992222222222222222222222222222222222222222222222229999999999999999999994444444444644222822222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222999999949999999229989999223333333333"),ew=Object.create(null),Or=[];for(let n of["()","[]","{}"]){let e=n.charCodeAt(0),t=n.charCodeAt(1);ew[e]=t,ew[t]=-e}function tH(n){return n<=247?JG[n]:1424<=n&&n<=1524?2:1536<=n&&n<=1785?eH[n-1536]:1774<=n&&n<=2220?4:8192<=n&&n<=8203?256:64336<=n&&n<=65023?4:n==8204?256:1}const nH=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac\ufb50-\ufdff]/;class eo{get dir(){return this.level%2?HD:Ih}constructor(e,t,i){this.from=e,this.to=t,this.level=i}side(e,t){return this.dir==t==e?this.to:this.from}static find(e,t,i,r){let s=-1;for(let o=0;o<e.length;o++){let l=e[o];if(l.from<=t&&l.to>=t){if(l.level==i)return o;(s<0||(r!=0?r<0?l.from<t:l.to>t:e[s].level>l.level))&&(s=o)}}if(s<0)throw new RangeError("Index out of range");return s}}function JD(n,e){if(n.length!=e.length)return!1;for(let t=0;t<n.length;t++){let i=n[t],r=e[t];if(i.from!=r.from||i.to!=r.to||i.direction!=r.direction||!JD(i.inner,r.inner))return!1}return!0}const qe=[];function iH(n,e,t,i,r){for(let s=0;s<=i.length;s++){let o=s?i[s-1].to:e,l=s<i.length?i[s].from:t,u=s?256:r;for(let h=o,f=u,p=u;h<l;h++){let g=tH(n.charCodeAt(h));g==512?g=f:g==8&&p==4&&(g=16),qe[h]=g==4?2:g,g&7&&(p=g),f=g}for(let h=o,f=u,p=u;h<l;h++){let g=qe[h];if(g==128)h<l-1&&f==qe[h+1]&&f&24?g=qe[h]=f:qe[h]=256;else if(g==64){let O=h+1;for(;O<l&&qe[O]==64;)O++;let v=h&&f==8||O<t&&qe[O]==8?p==1?1:8:256;for(let x=h;x<O;x++)qe[x]=v;h=O-1}else g==8&&p==1&&(qe[h]=1);f=g,g&7&&(p=g)}}}function rH(n,e,t,i,r){let s=r==1?2:1;for(let o=0,l=0,u=0;o<=i.length;o++){let h=o?i[o-1].to:e,f=o<i.length?i[o].from:t;for(let p=h,g,O,v;p<f;p++)if(O=ew[g=n.charCodeAt(p)])if(O<0){for(let x=l-3;x>=0;x-=3)if(Or[x+1]==-O){let k=Or[x+2],w=k&2?r:k&4?k&1?s:r:0;w&&(qe[p]=qe[Or[x]]=w),l=x;break}}else{if(Or.length==189)break;Or[l++]=p,Or[l++]=g,Or[l++]=u}else if((v=qe[p])==2||v==1){let x=v==r;u=x?0:1;for(let k=l-3;k>=0;k-=3){let w=Or[k+2];if(w&2)break;if(x)Or[k+2]|=2;else{if(w&4)break;Or[k+2]|=4}}}}}function sH(n,e,t,i){for(let r=0,s=i;r<=t.length;r++){let o=r?t[r-1].to:n,l=r<t.length?t[r].from:e;for(let u=o;u<l;){let h=qe[u];if(h==256){let f=u+1;for(;;)if(f==l){if(r==t.length)break;f=t[r++].to,l=r<t.length?t[r].from:e}else if(qe[f]==256)f++;else break;let p=s==1,g=(f<e?qe[f]:i)==1,O=p==g?p?1:2:i;for(let v=f,x=r,k=x?t[x-1].to:n;v>u;)v==k&&(v=t[--x].from,k=x?t[x-1].to:n),qe[--v]=O;u=f}else s=h,u++}}}function tw(n,e,t,i,r,s,o){let l=i%2?2:1;if(i%2==r%2)for(let u=e,h=0;u<t;){let f=!0,p=!1;if(h==s.length||u<s[h].from){let x=qe[u];x!=l&&(f=!1,p=x==16)}let g=!f&&l==1?[]:null,O=f?i:i+1,v=u;e:for(;;)if(h<s.length&&v==s[h].from){if(p)break e;let x=s[h];if(!f)for(let k=x.to,w=h+1;;){if(k==t)break e;if(w<s.length&&s[w].from==k)k=s[w++].to;else{if(qe[k]==l)break e;break}}if(h++,g)g.push(x);else{x.from>u&&o.push(new eo(u,x.from,O));let k=x.direction==Ih!=!(O%2);nw(n,k?i+1:i,r,x.inner,x.from,x.to,o),u=x.to}v=x.to}else{if(v==t||(f?qe[v]!=l:qe[v]==l))break;v++}g?tw(n,u,v,i+1,r,g,o):u<v&&o.push(new eo(u,v,O)),u=v}else for(let u=t,h=s.length;u>e;){let f=!0,p=!1;if(!h||u>s[h-1].to){let x=qe[u-1];x!=l&&(f=!1,p=x==16)}let g=!f&&l==1?[]:null,O=f?i:i+1,v=u;e:for(;;)if(h&&v==s[h-1].to){if(p)break e;let x=s[--h];if(!f)for(let k=x.from,w=h;;){if(k==e)break e;if(w&&s[w-1].to==k)k=s[--w].from;else{if(qe[k-1]==l)break e;break}}if(g)g.push(x);else{x.to<u&&o.push(new eo(x.to,u,O));let k=x.direction==Ih!=!(O%2);nw(n,k?i+1:i,r,x.inner,x.from,x.to,o),u=x.from}v=x.from}else{if(v==e||(f?qe[v-1]!=l:qe[v-1]==l))break;v--}g?tw(n,v,u,i+1,r,g,o):v<u&&o.push(new eo(v,u,O)),u=v}}function nw(n,e,t,i,r,s,o){let l=e%2?2:1;iH(n,r,s,i,l),rH(n,r,s,i,l),sH(r,s,i,l),tw(n,r,s,e,t,i,o)}function oH(n,e,t){if(!n)return[new eo(0,0,e==HD?1:0)];if(e==Ih&&!t.length&&!nH.test(n))return eM(n.length);if(t.length)for(;n.length>qe.length;)qe[qe.length]=256;let i=[],r=e==Ih?0:1;return nw(n,r,r,t,0,n.length,i),i}function eM(n){return[new eo(0,n,0)]}let tM="";function lH(n,e,t,i,r){var s;let o=i.head-n.from,l=-1;if(o==0){if(!r||!n.length)return null;e[0].level!=t&&(o=e[0].side(!1,t),l=0)}else if(o==n.length){if(r)return null;let g=e[e.length-1];g.level!=t&&(o=g.side(!0,t),l=e.length-1)}l<0&&(l=eo.find(e,o,(s=i.bidiLevel)!==null&&s!==void 0?s:-1,i.assoc));let u=e[l];o==u.side(r,t)&&(u=e[l+=r?1:-1],o=u.side(!r,t));let h=r==(u.dir==t),f=Tn(n.text,o,h);if(tM=n.text.slice(Math.min(o,f),Math.max(o,f)),f!=u.side(r,t))return L.cursor(f+n.from,h?-1:1,u.level);let p=l==(r?e.length-1:0)?null:e[l+(r?1:-1)];return!p&&u.level!=t?L.cursor(r?n.to:n.from,r?-1:1,t):p&&p.level<u.level?L.cursor(p.side(!r,t)+n.from,r?1:-1,p.level):L.cursor(f+n.from,r?-1:1,u.level)}class Hb extends rt{get length(){return this.view.state.doc.length}constructor(e){super(),this.view=e,this.decorations=[],this.dynamicDecorationMap=[],this.domChanged=null,this.hasComposition=null,this.markedForComposition=new Set,this.minWidth=0,this.minWidthFrom=0,this.minWidthTo=0,this.impreciseAnchor=null,this.impreciseHead=null,this.forceSelection=!1,this.lastUpdate=Date.now(),this.setDOM(e.contentDOM),this.children=[new Lt],this.children[0].setParent(this),this.updateDeco(),this.updateInner([new Ui(0,0,0,e.state.doc.length)],0,null)}update(e){var t;let i=e.changedRanges;this.minWidth>0&&i.length&&(i.every(({fromA:h,toA:f})=>f<this.minWidthFrom||h>this.minWidthTo)?(this.minWidthFrom=e.changes.mapPos(this.minWidthFrom,1),this.minWidthTo=e.changes.mapPos(this.minWidthTo,1)):this.minWidth=this.minWidthFrom=this.minWidthTo=0);let r=-1;this.view.inputState.composing>=0&&(!((t=this.domChanged)===null||t===void 0)&&t.newSel?r=this.domChanged.newSel.head:!pH(e.changes,this.hasComposition)&&!e.selectionSet&&(r=e.state.selection.main.head));let s=r>-1?uH(this.view,e.changes,r):null;if(this.domChanged=null,this.hasComposition){this.markedForComposition.clear();let{from:h,to:f}=this.hasComposition;i=new Ui(h,f,e.changes.mapPos(h,-1),e.changes.mapPos(f,1)).addToSet(i.slice())}this.hasComposition=s?{from:s.range.fromB,to:s.range.toB}:null,(ae.ie||ae.chrome)&&!s&&e&&e.state.doc.lines!=e.startState.doc.lines&&(this.forceSelection=!0);let o=this.decorations,l=this.updateDeco(),u=fH(o,l,e.changes);return i=Ui.extendWithRanges(i,u),!(this.flags&7)&&i.length==0?!1:(this.updateInner(i,e.startState.doc.length,s),e.transactions.length&&(this.lastUpdate=Date.now()),!0)}updateInner(e,t,i){this.view.viewState.mustMeasureContent=!0,this.updateChildren(e,t,i);let{observer:r}=this.view;r.ignore(()=>{this.dom.style.height=this.view.viewState.contentHeight/this.view.scaleY+"px",this.dom.style.flexBasis=this.minWidth?this.minWidth+"px":"";let o=ae.chrome||ae.ios?{node:r.selectionRange.focusNode,written:!1}:void 0;this.sync(this.view,o),this.flags&=-8,o&&(o.written||r.selectionRange.focusNode!=o.node)&&(this.forceSelection=!0),this.dom.style.height=""}),this.markedForComposition.forEach(o=>o.flags&=-9);let s=[];if(this.view.viewport.from||this.view.viewport.to<this.view.state.doc.length)for(let o of this.children)o instanceof go&&o.widget instanceof Kb&&s.push(o.dom);r.updateGaps(s)}updateChildren(e,t,i){let r=i?i.range.addToSet(e.slice()):e,s=this.childCursor(t);for(let o=r.length-1;;o--){let l=o>=0?r[o]:null;if(!l)break;let{fromA:u,toA:h,fromB:f,toB:p}=l,g,O,v,x;if(i&&i.range.fromB<p&&i.range.toB>f){let b=Bc.build(this.view.state.doc,f,i.range.fromB,this.decorations,this.dynamicDecorationMap),I=Bc.build(this.view.state.doc,i.range.toB,p,this.decorations,this.dynamicDecorationMap);O=b.breakAtStart,v=b.openStart,x=I.openEnd;let Q=this.compositionView(i);I.breakAtStart?Q.breakAfter=1:I.content.length&&Q.merge(Q.length,Q.length,I.content[0],!1,I.openStart,0)&&(Q.breakAfter=I.content[0].breakAfter,I.content.shift()),b.content.length&&Q.merge(0,0,b.content[b.content.length-1],!0,0,b.openEnd)&&b.content.pop(),g=b.content.concat(Q).concat(I.content)}else({content:g,breakAtStart:O,openStart:v,openEnd:x}=Bc.build(this.view.state.doc,f,p,this.decorations,this.dynamicDecorationMap));let{i:k,off:w}=s.findPos(h,1),{i:_,off:E}=s.findPos(u,-1);ID(this,_,E,k,w,g,O,v,x)}i&&this.fixCompositionDOM(i)}compositionView(e){let t=new Ss(e.text.nodeValue);t.flags|=8;for(let{deco:r}of e.marks)t=new _s(r,[t],t.length);let i=new Lt;return i.append(t,0),i}fixCompositionDOM(e){let t=(s,o)=>{o.flags|=8|(o.children.some(u=>u.flags&7)?1:0),this.markedForComposition.add(o);let l=rt.get(s);l&&l!=o&&(l.dom=null),o.setDOM(s)},i=this.childPos(e.range.fromB,1),r=this.children[i.i];t(e.line,r);for(let s=e.marks.length-1;s>=-1;s--)i=r.childPos(i.off,1),r=r.children[i.i],t(s>=0?e.marks[s].node:e.text,r)}updateSelection(e=!1,t=!1){(e||!this.view.observer.selectionRange.focusNode)&&this.view.observer.readSelectionRange();let i=this.view.root.activeElement,r=i==this.dom,s=!r&&$p(this.dom,this.view.observer.selectionRange)&&!(i&&this.dom.contains(i));if(!(r||t||s))return;let o=this.forceSelection;this.forceSelection=!1;let l=this.view.state.selection.main,u=this.moveToLine(this.domAtPos(l.anchor)),h=l.empty?u:this.moveToLine(this.domAtPos(l.head));if(ae.gecko&&l.empty&&!this.hasComposition&&aH(u)){let p=document.createTextNode("");this.view.observer.ignore(()=>u.node.insertBefore(p,u.node.childNodes[u.offset]||null)),u=h=new _n(p,0),o=!0}let f=this.view.observer.selectionRange;(o||!f.focusNode||!Zg(u.node,u.offset,f.anchorNode,f.anchorOffset)||!Zg(h.node,h.offset,f.focusNode,f.focusOffset))&&(this.view.observer.ignore(()=>{ae.android&&ae.chrome&&this.dom.contains(f.focusNode)&&dH(f.focusNode,this.dom)&&(this.dom.blur(),this.dom.focus({preventScroll:!0}));let p=Vg(this.view.root);if(p)if(l.empty){if(ae.gecko){let g=cH(u.node,u.offset);if(g&&g!=3){let O=iM(u.node,u.offset,g==1?1:-1);O&&(u=new _n(O.node,O.offset))}}p.collapse(u.node,u.offset),l.bidiLevel!=null&&p.caretBidiLevel!==void 0&&(p.caretBidiLevel=l.bidiLevel)}else if(p.extend){p.collapse(u.node,u.offset);try{p.extend(h.node,h.offset)}catch{}}else{let g=document.createRange();l.anchor>l.head&&([u,h]=[h,u]),g.setEnd(h.node,h.offset),g.setStart(u.node,u.offset),p.removeAllRanges(),p.addRange(g)}s&&this.view.root.activeElement==this.dom&&(this.dom.blur(),i&&i.focus())}),this.view.observer.setSelectionRange(u,h)),this.impreciseAnchor=u.precise?null:new _n(f.anchorNode,f.anchorOffset),this.impreciseHead=h.precise?null:new _n(f.focusNode,f.focusOffset)}enforceCursorAssoc(){if(this.hasComposition)return;let{view:e}=this,t=e.state.selection.main,i=Vg(e.root),{anchorNode:r,anchorOffset:s}=e.observer.selectionRange;if(!i||!t.empty||!t.assoc||!i.modify)return;let o=Lt.find(this,t.head);if(!o)return;let l=o.posAtStart;if(t.head==l||t.head==l+o.length)return;let u=this.coordsAt(t.head,-1),h=this.coordsAt(t.head,1);if(!u||!h||u.bottom>h.top)return;let f=this.domAtPos(t.head+t.assoc);i.collapse(f.node,f.offset),i.modify("move",t.assoc<0?"forward":"backward","lineboundary"),e.observer.readSelectionRange();let p=e.observer.selectionRange;e.docView.posFromDOM(p.anchorNode,p.anchorOffset)!=t.from&&i.collapse(r,s)}moveToLine(e){let t=this.dom,i;if(e.node!=t)return e;for(let r=e.offset;!i&&r<t.childNodes.length;r++){let s=rt.get(t.childNodes[r]);s instanceof Lt&&(i=s.domAtPos(0))}for(let r=e.offset-1;!i&&r>=0;r--){let s=rt.get(t.childNodes[r]);s instanceof Lt&&(i=s.domAtPos(s.length))}return i?new _n(i.node,i.offset,!0):e}nearest(e){for(let t=e;t;){let i=rt.get(t);if(i&&i.rootView==this)return i;t=t.parentNode}return null}posFromDOM(e,t){let i=this.nearest(e);if(!i)throw new RangeError("Trying to find position for a DOM position outside of the document");return i.localPosFromDOM(e,t)+i.posAtStart}domAtPos(e){let{i:t,off:i}=this.childCursor().findPos(e,-1);for(;t<this.children.length-1;){let r=this.children[t];if(i<r.length||r instanceof Lt)break;t++,i=0}return this.children[t].domAtPos(i)}coordsAt(e,t){let i=null,r=0;for(let s=this.length,o=this.children.length-1;o>=0;o--){let l=this.children[o],u=s-l.breakAfter,h=u-l.length;if(u<e)break;h<=e&&(h<e||l.covers(-1))&&(u>e||l.covers(1))&&(!i||l instanceof Lt&&!(i instanceof Lt&&t>=0))&&(i=l,r=h),s=h}return i?i.coordsAt(e-r,t):null}coordsForChar(e){let{i:t,off:i}=this.childPos(e,1),r=this.children[t];if(!(r instanceof Lt))return null;for(;r.children.length;){let{i:l,off:u}=r.childPos(i,1);for(;;l++){if(l==r.children.length)return null;if((r=r.children[l]).length)break}i=u}if(!(r instanceof Ss))return null;let s=Tn(r.text,i);if(s==i)return null;let o=_l(r.dom,i,s).getClientRects();for(let l=0;l<o.length;l++){let u=o[l];if(l==o.length-1||u.top<u.bottom&&u.left<u.right)return u}return null}measureVisibleLineHeights(e){let t=[],{from:i,to:r}=e,s=this.view.contentDOM.clientWidth,o=s>Math.max(this.view.scrollDOM.clientWidth,this.minWidth)+1,l=-1,u=this.view.textDirection==dt.LTR;for(let h=0,f=0;f<this.children.length;f++){let p=this.children[f],g=h+p.length;if(g>r)break;if(h>=i){let O=p.dom.getBoundingClientRect();if(t.push(O.height),o){let v=p.dom.lastChild,x=v?tu(v):[];if(x.length){let k=x[x.length-1],w=u?k.right-O.left:O.right-k.left;w>l&&(l=w,this.minWidth=s,this.minWidthFrom=h,this.minWidthTo=g)}}}h=g+p.breakAfter}return t}textDirectionAt(e){let{i:t}=this.childPos(e,1);return getComputedStyle(this.children[t].dom).direction=="rtl"?dt.RTL:dt.LTR}measureTextSize(){for(let s of this.children)if(s instanceof Lt){let o=s.measureTextSize();if(o)return o}let e=document.createElement("div"),t,i,r;return e.className="cm-line",e.style.width="99999px",e.style.position="absolute",e.textContent="abc def ghi jkl mno pqr stu",this.view.observer.ignore(()=>{this.dom.appendChild(e);let s=tu(e.firstChild)[0];t=e.getBoundingClientRect().height,i=s?s.width/27:7,r=s?s.height:t,e.remove()}),{lineHeight:t,charWidth:i,textHeight:r}}childCursor(e=this.length){let t=this.children.length;return t&&(e-=this.children[--t].length),new AD(this.children,e,t)}computeBlockGapDeco(){let e=[],t=this.view.viewState;for(let i=0,r=0;;r++){let s=r==t.viewports.length?null:t.viewports[r],o=s?s.from-1:this.length;if(o>i){let l=(t.lineBlockAt(o).bottom-t.lineBlockAt(i).top)/this.view.scaleY;e.push(he.replace({widget:new Kb(l),block:!0,inclusive:!0,isBlockGap:!0}).range(i,o))}if(!s)break;i=s.to+1}return he.set(e)}updateDeco(){let e=this.view.state.facet(Ah).map((t,i)=>(this.dynamicDecorationMap[i]=typeof t=="function")?t(this.view):t);for(let t=e.length;t<e.length+3;t++)this.dynamicDecorationMap[t]=!1;return this.decorations=[...e,this.computeBlockGapDeco(),this.view.viewState.lineGapDeco]}scrollIntoView(e){if(e.isSnapshot){let h=this.view.viewState.lineBlockAt(e.range.head);this.view.scrollDOM.scrollTop=h.top-e.yMargin,this.view.scrollDOM.scrollLeft=e.xMargin;return}let{range:t}=e,i=this.coordsAt(t.head,t.empty?t.assoc:t.head>t.anchor?-1:1),r;if(!i)return;!t.empty&&(r=this.coordsAt(t.anchor,t.anchor>t.head?-1:1))&&(i={left:Math.min(i.left,r.left),top:Math.min(i.top,r.top),right:Math.max(i.right,r.right),bottom:Math.max(i.bottom,r.bottom)});let s=GD(this.view),o={left:i.left-s.left,top:i.top-s.top,right:i.right+s.right,bottom:i.bottom+s.bottom},{offsetWidth:l,offsetHeight:u}=this.view.scrollDOM;BG(this.view.scrollDOM,o,t.head<t.anchor?-1:1,e.x,e.y,Math.max(Math.min(e.xMargin,l),-l),Math.max(Math.min(e.yMargin,u),-u),this.view.textDirection==dt.LTR)}}function aH(n){return n.node.nodeType==1&&n.node.firstChild&&(n.offset==0||n.node.childNodes[n.offset-1].contentEditable=="false")&&(n.offset==n.node.childNodes.length||n.node.childNodes[n.offset].contentEditable=="false")}class Kb extends Br{constructor(e){super(),this.height=e}toDOM(){let e=document.createElement("div");return this.updateDOM(e),e}eq(e){return e.height==this.height}updateDOM(e){return e.style.height=this.height+"px",!0}get estimatedHeight(){return this.height}}function nM(n,e){let t=n.observer.selectionRange,i=t.focusNode&&iM(t.focusNode,t.focusOffset,0);if(!i)return null;let r=e-i.offset;return{from:r,to:r+i.node.nodeValue.length,node:i.node}}function uH(n,e,t){let i=nM(n,t);if(!i)return null;let{node:r,from:s,to:o}=i,l=r.nodeValue;if(/[\n\r]/.test(l)||n.state.doc.sliceString(i.from,i.to)!=l)return null;let u=e.invertedDesc,h=new Ui(u.mapPos(s),u.mapPos(o),s,o),f=[];for(let p=r.parentNode;;p=p.parentNode){let g=rt.get(p);if(g instanceof _s)f.push({node:p,deco:g.mark});else{if(g instanceof Lt||p.nodeName=="DIV"&&p.parentNode==n.contentDOM)return{range:h,text:r,marks:f,line:p};if(p!=n.contentDOM)f.push({node:p,deco:new Of({inclusive:!0,attributes:GG(p),tagName:p.tagName.toLowerCase()})});else return null}}}function iM(n,e,t){if(t<=0)for(let i=n,r=e;;){if(i.nodeType==3)return{node:i,offset:r};if(i.nodeType==1&&r>0)i=i.childNodes[r-1],r=ws(i);else break}if(t>=0)for(let i=n,r=e;;){if(i.nodeType==3)return{node:i,offset:r};if(i.nodeType==1&&r<i.childNodes.length&&t>=0)i=i.childNodes[r],r=0;else break}return null}function cH(n,e){return n.nodeType!=1?0:(e&&n.childNodes[e-1].contentEditable=="false"?1:0)|(e<n.childNodes.length&&n.childNodes[e].contentEditable=="false"?2:0)}let hH=class{constructor(){this.changes=[]}compareRange(e,t){K1(e,t,this.changes)}comparePoint(e,t){K1(e,t,this.changes)}};function fH(n,e,t){let i=new hH;return Be.compare(n,e,t,i),i.changes}function dH(n,e){for(let t=n;t&&t!=e;t=t.assignedSlot||t.parentNode)if(t.nodeType==1&&t.contentEditable=="false")return!0;return!1}function pH(n,e){let t=!1;return e&&n.iterChangedRanges((i,r)=>{i<e.to&&r>e.from&&(t=!0)}),t}function gH(n,e,t=1){let i=n.charCategorizer(e),r=n.doc.lineAt(e),s=e-r.from;if(r.length==0)return L.cursor(e);s==0?t=1:s==r.length&&(t=-1);let o=s,l=s;t<0?o=Tn(r.text,s,!1):l=Tn(r.text,s);let u=i(r.text.slice(o,l));for(;o>0;){let h=Tn(r.text,o,!1);if(i(r.text.slice(h,o))!=u)break;o=h}for(;l<r.length;){let h=Tn(r.text,l);if(i(r.text.slice(l,h))!=u)break;l=h}return L.range(o+r.from,l+r.from)}function mH(n,e){return e.left>n?e.left-n:Math.max(0,n-e.right)}function OH(n,e){return e.top>n?e.top-n:Math.max(0,n-e.bottom)}function My(n,e){return n.top<e.bottom-1&&n.bottom>e.top+1}function Jb(n,e){return e<n.top?{top:e,left:n.left,right:n.right,bottom:n.bottom}:n}function eC(n,e){return e>n.bottom?{top:n.top,left:n.left,right:n.right,bottom:e}:n}function iw(n,e,t){let i,r,s,o,l=!1,u,h,f,p;for(let v=n.firstChild;v;v=v.nextSibling){let x=tu(v);for(let k=0;k<x.length;k++){let w=x[k];r&&My(r,w)&&(w=Jb(eC(w,r.bottom),r.top));let _=mH(e,w),E=OH(t,w);if(_==0&&E==0)return v.nodeType==3?tC(v,e,t):iw(v,e,t);if(!i||o>E||o==E&&s>_){i=v,r=w,s=_,o=E;let b=E?t<w.top?-1:1:_?e<w.left?-1:1:0;l=!b||(b>0?k<x.length-1:k>0)}_==0?t>w.bottom&&(!f||f.bottom<w.bottom)?(u=v,f=w):t<w.top&&(!p||p.top>w.top)&&(h=v,p=w):f&&My(f,w)?f=eC(f,w.bottom):p&&My(p,w)&&(p=Jb(p,w.top))}}if(f&&f.bottom>=t?(i=u,r=f):p&&p.top<=t&&(i=h,r=p),!i)return{node:n,offset:0};let g=Math.max(r.left,Math.min(r.right,e));if(i.nodeType==3)return tC(i,g,t);if(l&&i.contentEditable!="false")return iw(i,g,t);let O=Array.prototype.indexOf.call(n.childNodes,i)+(e>=(r.left+r.right)/2?1:0);return{node:n,offset:O}}function tC(n,e,t){let i=n.nodeValue.length,r=-1,s=1e9,o=0;for(let l=0;l<i;l++){let u=_l(n,l,l+1).getClientRects();for(let h=0;h<u.length;h++){let f=u[h];if(f.top==f.bottom)continue;o||(o=e-f.left);let p=(f.top>t?f.top-t:t-f.bottom)-1;if(f.left-1<=e&&f.right+1>=e&&p<s){let g=e>=(f.left+f.right)/2,O=g;if((ae.chrome||ae.gecko)&&_l(n,l).getBoundingClientRect().left==f.right&&(O=!g),p<=0)return{node:n,offset:l+(O?1:0)};r=l+(O?1:0),s=p}}}return{node:n,offset:r>-1?r:o>0?n.nodeValue.length:0}}function rM(n,e,t,i=-1){var r,s;let o=n.contentDOM.getBoundingClientRect(),l=o.top+n.viewState.paddingTop,u,{docHeight:h}=n.viewState,{x:f,y:p}=e,g=p-l;if(g<0)return 0;if(g>h)return n.state.doc.length;for(let b=n.viewState.heightOracle.textHeight/2,I=!1;u=n.elementAtHeight(g),u.type!=Nn.Text;)for(;g=i>0?u.bottom+b:u.top-b,!(g>=0&&g<=h);){if(I)return t?null:0;I=!0,i=-i}p=l+g;let O=u.from;if(O<n.viewport.from)return n.viewport.from==0?0:t?null:nC(n,o,u,f,p);if(O>n.viewport.to)return n.viewport.to==n.state.doc.length?n.state.doc.length:t?null:nC(n,o,u,f,p);let v=n.dom.ownerDocument,x=n.root.elementFromPoint?n.root:v,k=x.elementFromPoint(f,p);k&&!n.contentDOM.contains(k)&&(k=null),k||(f=Math.max(o.left+1,Math.min(o.right-1,f)),k=x.elementFromPoint(f,p),k&&!n.contentDOM.contains(k)&&(k=null));let w,_=-1;if(k&&((r=n.docView.nearest(k))===null||r===void 0?void 0:r.isEditable)!=!1){if(v.caretPositionFromPoint){let b=v.caretPositionFromPoint(f,p);b&&({offsetNode:w,offset:_}=b)}else if(v.caretRangeFromPoint){let b=v.caretRangeFromPoint(f,p);b&&({startContainer:w,startOffset:_}=b,(!n.contentDOM.contains(w)||ae.safari&&yH(w,_,f)||ae.chrome&&vH(w,_,f))&&(w=void 0))}}if(!w||!n.docView.dom.contains(w)){let b=Lt.find(n.docView,O);if(!b)return g>u.top+u.height/2?u.to:u.from;({node:w,offset:_}=iw(b.dom,f,p))}let E=n.docView.nearest(w);if(!E)return null;if(E.isWidget&&((s=E.dom)===null||s===void 0?void 0:s.nodeType)==1){let b=E.dom.getBoundingClientRect();return e.y<b.top||e.y<=b.bottom&&e.x<=(b.left+b.right)/2?E.posAtStart:E.posAtEnd}else return E.localPosFromDOM(w,_)+E.posAtStart}function nC(n,e,t,i,r){let s=Math.round((i-e.left)*n.defaultCharacterWidth);if(n.lineWrapping&&t.height>n.defaultLineHeight*1.5){let l=n.viewState.heightOracle.textHeight,u=Math.floor((r-t.top-(n.defaultLineHeight-l)*.5)/l);s+=u*n.viewState.heightOracle.lineLength}let o=n.state.sliceDoc(t.from,t.to);return t.from+W1(o,s,n.state.tabSize)}function yH(n,e,t){let i;if(n.nodeType!=3||e!=(i=n.nodeValue.length))return!1;for(let r=n.nextSibling;r;r=r.nextSibling)if(r.nodeType!=1||r.nodeName!="BR")return!1;return _l(n,i-1,i).getBoundingClientRect().left>t}function vH(n,e,t){if(e!=0)return!1;for(let r=n;;){let s=r.parentNode;if(!s||s.nodeType!=1||s.firstChild!=r)return!1;if(s.classList.contains("cm-line"))break;r=s}let i=n.nodeType==1?n.getBoundingClientRect():_l(n,0,Math.max(n.nodeValue.length,1)).getBoundingClientRect();return t-i.left>5}function rw(n,e){let t=n.lineBlockAt(e);if(Array.isArray(t.type)){for(let i of t.type)if(i.to>e||i.to==e&&(i.to==t.to||i.type==Nn.Text))return i}return t}function wH(n,e,t,i){let r=rw(n,e.head),s=!i||r.type!=Nn.Text||!(n.lineWrapping||r.widgetLineBreaks)?null:n.coordsAtPos(e.assoc<0&&e.head>r.from?e.head-1:e.head);if(s){let o=n.dom.getBoundingClientRect(),l=n.textDirectionAt(r.from),u=n.posAtCoords({x:t==(l==dt.LTR)?o.right-1:o.left+1,y:(s.top+s.bottom)/2});if(u!=null)return L.cursor(u,t?-1:1)}return L.cursor(t?r.to:r.from,t?-1:1)}function iC(n,e,t,i){let r=n.state.doc.lineAt(e.head),s=n.bidiSpans(r),o=n.textDirectionAt(r.from);for(let l=e,u=null;;){let h=lH(r,s,o,l,t),f=tM;if(!h){if(r.number==(t?n.state.doc.lines:1))return l;f=`
`,r=n.state.doc.line(r.number+(t?1:-1)),s=n.bidiSpans(r),h=L.cursor(t?r.from:r.to)}if(u){if(!u(f))return l}else{if(!i)return h;u=i(f)}l=h}}function SH(n,e,t){let i=n.state.charCategorizer(e),r=i(t);return s=>{let o=i(s);return r==ct.Space&&(r=o),r==o}}function _H(n,e,t,i){let r=e.head,s=t?1:-1;if(r==(t?n.state.doc.length:0))return L.cursor(r,e.assoc);let o=e.goalColumn,l,u=n.contentDOM.getBoundingClientRect(),h=n.coordsAtPos(r,e.assoc||-1),f=n.documentTop;if(h)o==null&&(o=h.left-u.left),l=s<0?h.top:h.bottom;else{let O=n.viewState.lineBlockAt(r);o==null&&(o=Math.min(u.right-u.left,n.defaultCharacterWidth*(r-O.from))),l=(s<0?O.top:O.bottom)+f}let p=u.left+o,g=i??n.viewState.heightOracle.textHeight>>1;for(let O=0;;O+=10){let v=l+(g+O)*s,x=rM(n,{x:p,y:v},!1,s);if(v<u.top||v>u.bottom||(s<0?x<r:x>r)){let k=n.docView.coordsForChar(x),w=!k||v<k.top?-1:1;return L.cursor(x,w,void 0,o)}}}function Qp(n,e,t){for(;;){let i=0;for(let r of n)r.between(e-1,e+1,(s,o,l)=>{if(e>s&&e<o){let u=i||t||(e-s<o-e?-1:1);e=u<0?s:o,i=u}});if(!i)return e}}function Ny(n,e,t){let i=Qp(n.state.facet(Y_).map(r=>r(n)),t.from,e.head>t.from?-1:1);return i==t.from?t:L.cursor(i,i<t.from?1:-1)}class xH{setSelectionOrigin(e){this.lastSelectionOrigin=e,this.lastSelectionTime=Date.now()}constructor(e){this.view=e,this.lastKeyCode=0,this.lastKeyTime=0,this.lastTouchTime=0,this.lastFocusTime=0,this.lastScrollTop=0,this.lastScrollLeft=0,this.pendingIOSKey=void 0,this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastEscPress=0,this.lastContextMenu=0,this.scrollHandlers=[],this.handlers=Object.create(null),this.composing=-1,this.compositionFirstChange=null,this.compositionEndedAt=0,this.compositionPendingKey=!1,this.compositionPendingChange=!1,this.mouseSelection=null,this.draggedContent=null,this.handleEvent=this.handleEvent.bind(this),this.notifiedFocused=e.hasFocus,ae.safari&&e.contentDOM.addEventListener("input",()=>null),ae.gecko&&VH(e.contentDOM.ownerDocument)}handleEvent(e){!IH(this.view,e)||this.ignoreDuringComposition(e)||e.type=="keydown"&&this.keydown(e)||this.runHandlers(e.type,e)}runHandlers(e,t){let i=this.handlers[e];if(i){for(let r of i.observers)r(this.view,t);for(let r of i.handlers){if(t.defaultPrevented)break;if(r(this.view,t)){t.preventDefault();break}}}}ensureHandlers(e){let t=TH(e),i=this.handlers,r=this.view.contentDOM;for(let s in t)if(s!="scroll"){let o=!t[s].handlers.length,l=i[s];l&&o!=!l.handlers.length&&(r.removeEventListener(s,this.handleEvent),l=null),l||r.addEventListener(s,this.handleEvent,{passive:o})}for(let s in i)s!="scroll"&&!t[s]&&r.removeEventListener(s,this.handleEvent);this.handlers=t}keydown(e){if(this.lastKeyCode=e.keyCode,this.lastKeyTime=Date.now(),e.keyCode==9&&Date.now()<this.lastEscPress+2e3)return!0;if(e.keyCode!=27&&oM.indexOf(e.keyCode)<0&&(this.view.inputState.lastEscPress=0),ae.android&&ae.chrome&&!e.synthetic&&(e.keyCode==13||e.keyCode==8))return this.view.observer.delayAndroidKey(e.key,e.keyCode),!0;let t;return ae.ios&&!e.synthetic&&!e.altKey&&!e.metaKey&&((t=sM.find(i=>i.keyCode==e.keyCode))&&!e.ctrlKey||kH.indexOf(e.key)>-1&&e.ctrlKey&&!e.shiftKey)?(this.pendingIOSKey=t||e,setTimeout(()=>this.flushIOSKey(),250),!0):(e.keyCode!=229&&this.view.observer.forceFlush(),!1)}flushIOSKey(){let e=this.pendingIOSKey;return e?(this.pendingIOSKey=void 0,Ra(this.view.contentDOM,e.key,e.keyCode)):!1}ignoreDuringComposition(e){return/^key/.test(e.type)?this.composing>0?!0:ae.safari&&!ae.ios&&this.compositionPendingKey&&Date.now()-this.compositionEndedAt<100?(this.compositionPendingKey=!1,!0):!1:!1}startMouseSelection(e){this.mouseSelection&&this.mouseSelection.destroy(),this.mouseSelection=e}update(e){this.mouseSelection&&this.mouseSelection.update(e),this.draggedContent&&e.docChanged&&(this.draggedContent=this.draggedContent.map(e.changes)),e.transactions.length&&(this.lastKeyCode=this.lastSelectionTime=0)}destroy(){this.mouseSelection&&this.mouseSelection.destroy()}}function rC(n,e){return(t,i)=>{try{return e.call(n,i,t)}catch(r){Zi(t.state,r)}}}function TH(n){let e=Object.create(null);function t(i){return e[i]||(e[i]={observers:[],handlers:[]})}for(let i of n){let r=i.spec;if(r&&r.domEventHandlers)for(let s in r.domEventHandlers){let o=r.domEventHandlers[s];o&&t(s).handlers.push(rC(i.value,o))}if(r&&r.domEventObservers)for(let s in r.domEventObservers){let o=r.domEventObservers[s];o&&t(s).observers.push(rC(i.value,o))}}for(let i in ur)t(i).handlers.push(ur[i]);for(let i in cr)t(i).observers.push(cr[i]);return e}const sM=[{key:"Backspace",keyCode:8,inputType:"deleteContentBackward"},{key:"Enter",keyCode:13,inputType:"insertParagraph"},{key:"Enter",keyCode:13,inputType:"insertLineBreak"},{key:"Delete",keyCode:46,inputType:"deleteContentForward"}],kH="dthko",oM=[16,17,18,20,91,92,224,225],Xd=6;function jd(n){return Math.max(0,n)*.7+8}function EH(n,e){return Math.max(Math.abs(n.clientX-e.clientX),Math.abs(n.clientY-e.clientY))}class PH{constructor(e,t,i,r){this.view=e,this.startEvent=t,this.style=i,this.mustSelect=r,this.scrollSpeed={x:0,y:0},this.scrolling=-1,this.lastEvent=t,this.scrollParent=WG(e.contentDOM),this.atoms=e.state.facet(Y_).map(o=>o(e));let s=e.contentDOM.ownerDocument;s.addEventListener("mousemove",this.move=this.move.bind(this)),s.addEventListener("mouseup",this.up=this.up.bind(this)),this.extend=t.shiftKey,this.multiple=e.state.facet(Me.allowMultipleSelections)&&bH(e,t),this.dragging=AH(e,t)&&cM(t)==1?null:!1}start(e){this.dragging===!1&&this.select(e)}move(e){var t;if(e.buttons==0)return this.destroy();if(this.dragging||this.dragging==null&&EH(this.startEvent,e)<10)return;this.select(this.lastEvent=e);let i=0,r=0,s=((t=this.scrollParent)===null||t===void 0?void 0:t.getBoundingClientRect())||{left:0,top:0,right:this.view.win.innerWidth,bottom:this.view.win.innerHeight},o=GD(this.view);e.clientX-o.left<=s.left+Xd?i=-jd(s.left-e.clientX):e.clientX+o.right>=s.right-Xd&&(i=jd(e.clientX-s.right)),e.clientY-o.top<=s.top+Xd?r=-jd(s.top-e.clientY):e.clientY+o.bottom>=s.bottom-Xd&&(r=jd(e.clientY-s.bottom)),this.setScrollSpeed(i,r)}up(e){this.dragging==null&&this.select(this.lastEvent),this.dragging||e.preventDefault(),this.destroy()}destroy(){this.setScrollSpeed(0,0);let e=this.view.contentDOM.ownerDocument;e.removeEventListener("mousemove",this.move),e.removeEventListener("mouseup",this.up),this.view.inputState.mouseSelection=this.view.inputState.draggedContent=null}setScrollSpeed(e,t){this.scrollSpeed={x:e,y:t},e||t?this.scrolling<0&&(this.scrolling=setInterval(()=>this.scroll(),50)):this.scrolling>-1&&(clearInterval(this.scrolling),this.scrolling=-1)}scroll(){this.scrollParent?(this.scrollParent.scrollLeft+=this.scrollSpeed.x,this.scrollParent.scrollTop+=this.scrollSpeed.y):this.view.win.scrollBy(this.scrollSpeed.x,this.scrollSpeed.y),this.dragging===!1&&this.select(this.lastEvent)}skipAtoms(e){let t=null;for(let i=0;i<e.ranges.length;i++){let r=e.ranges[i],s=null;if(r.empty){let o=Qp(this.atoms,r.from,0);o!=r.from&&(s=L.cursor(o,-1))}else{let o=Qp(this.atoms,r.from,-1),l=Qp(this.atoms,r.to,1);(o!=r.from||l!=r.to)&&(s=L.range(r.from==r.anchor?o:l,r.from==r.head?o:l))}s&&(t||(t=e.ranges.slice()),t[i]=s)}return t?L.create(t,e.mainIndex):e}select(e){let{view:t}=this,i=this.skipAtoms(this.style.get(e,this.extend,this.multiple));(this.mustSelect||!i.eq(t.state.selection)||i.main.assoc!=t.state.selection.main.assoc&&this.dragging===!1)&&this.view.dispatch({selection:i,userEvent:"select.pointer"}),this.mustSelect=!1}update(e){this.style.update(e)&&setTimeout(()=>this.select(this.lastEvent),20)}}function bH(n,e){let t=n.state.facet(VD);return t.length?t[0](e):ae.mac?e.metaKey:e.ctrlKey}function CH(n,e){let t=n.state.facet(ZD);return t.length?t[0](e):ae.mac?!e.altKey:!e.ctrlKey}function AH(n,e){let{main:t}=n.state.selection;if(t.empty)return!1;let i=Vg(n.root);if(!i||i.rangeCount==0)return!0;let r=i.getRangeAt(0).getClientRects();for(let s=0;s<r.length;s++){let o=r[s];if(o.left<=e.clientX&&o.right>=e.clientX&&o.top<=e.clientY&&o.bottom>=e.clientY)return!0}return!1}function IH(n,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(let t=e.target,i;t!=n.contentDOM;t=t.parentNode)if(!t||t.nodeType==11||(i=rt.get(t))&&i.ignoreEvent(e))return!1;return!0}const ur=Object.create(null),cr=Object.create(null),lM=ae.ie&&ae.ie_version<15||ae.ios&&ae.webkit_version<604;function RH(n){let e=n.dom.parentNode;if(!e)return;let t=e.appendChild(document.createElement("textarea"));t.style.cssText="position: fixed; left: -10000px; top: 10px",t.focus(),setTimeout(()=>{n.focus(),t.remove(),aM(n,t.value)},50)}function aM(n,e){let{state:t}=n,i,r=1,s=t.toText(e),o=s.lines==t.selection.ranges.length;if(sw!=null&&t.selection.ranges.every(u=>u.empty)&&sw==s.toString()){let u=-1;i=t.changeByRange(h=>{let f=t.doc.lineAt(h.from);if(f.from==u)return{range:h};u=f.from;let p=t.toText((o?s.line(r++).text:e)+t.lineBreak);return{changes:{from:f.from,insert:p},range:L.cursor(h.from+p.length)}})}else o?i=t.changeByRange(u=>{let h=s.line(r++);return{changes:{from:u.from,to:u.to,insert:h.text},range:L.cursor(u.from+h.length)}}):i=t.replaceSelection(s);n.dispatch(i,{userEvent:"input.paste",scrollIntoView:!0})}cr.scroll=n=>{n.inputState.lastScrollTop=n.scrollDOM.scrollTop,n.inputState.lastScrollLeft=n.scrollDOM.scrollLeft};ur.keydown=(n,e)=>(n.inputState.setSelectionOrigin("select"),e.keyCode==27&&(n.inputState.lastEscPress=Date.now()),!1);cr.touchstart=(n,e)=>{n.inputState.lastTouchTime=Date.now(),n.inputState.setSelectionOrigin("select.pointer")};cr.touchmove=n=>{n.inputState.setSelectionOrigin("select.pointer")};ur.mousedown=(n,e)=>{if(n.observer.flush(),n.inputState.lastTouchTime>Date.now()-2e3)return!1;let t=null;for(let i of n.state.facet(UD))if(t=i(n,e),t)break;if(!t&&e.button==0&&(t=DH(n,e)),t){let i=!n.hasFocus;n.inputState.startMouseSelection(new PH(n,e,t,i)),i&&n.observer.ignore(()=>PD(n.contentDOM));let r=n.inputState.mouseSelection;if(r)return r.start(e),r.dragging===!1}return!1};function sC(n,e,t,i){if(i==1)return L.cursor(e,t);if(i==2)return gH(n.state,e,t);{let r=Lt.find(n.docView,e),s=n.state.doc.lineAt(r?r.posAtEnd:e),o=r?r.posAtStart:s.from,l=r?r.posAtEnd:s.to;return l<n.state.doc.length&&l==s.to&&l++,L.range(o,l)}}let uM=(n,e)=>n>=e.top&&n<=e.bottom,oC=(n,e,t)=>uM(e,t)&&n>=t.left&&n<=t.right;function $H(n,e,t,i){let r=Lt.find(n.docView,e);if(!r)return 1;let s=e-r.posAtStart;if(s==0)return 1;if(s==r.length)return-1;let o=r.coordsAt(s,-1);if(o&&oC(t,i,o))return-1;let l=r.coordsAt(s,1);return l&&oC(t,i,l)?1:o&&uM(i,o)?-1:1}function lC(n,e){let t=n.posAtCoords({x:e.clientX,y:e.clientY},!1);return{pos:t,bias:$H(n,t,e.clientX,e.clientY)}}const QH=ae.ie&&ae.ie_version<=11;let aC=null,uC=0,cC=0;function cM(n){if(!QH)return n.detail;let e=aC,t=cC;return aC=n,cC=Date.now(),uC=!e||t>Date.now()-400&&Math.abs(e.clientX-n.clientX)<2&&Math.abs(e.clientY-n.clientY)<2?(uC+1)%3:1}function DH(n,e){let t=lC(n,e),i=cM(e),r=n.state.selection;return{update(s){s.docChanged&&(t.pos=s.changes.mapPos(t.pos),r=r.map(s.changes))},get(s,o,l){let u=lC(n,s),h,f=sC(n,u.pos,u.bias,i);if(t.pos!=u.pos&&!o){let p=sC(n,t.pos,t.bias,i),g=Math.min(p.from,f.from),O=Math.max(p.to,f.to);f=g<f.from?L.range(g,O):L.range(O,g)}return o?r.replaceRange(r.main.extend(f.from,f.to)):l&&i==1&&r.ranges.length>1&&(h=MH(r,u.pos))?h:l?r.addRange(f):L.create([f])}}}function MH(n,e){for(let t=0;t<n.ranges.length;t++){let{from:i,to:r}=n.ranges[t];if(i<=e&&r>=e)return L.create(n.ranges.slice(0,t).concat(n.ranges.slice(t+1)),n.mainIndex==t?0:n.mainIndex-(n.mainIndex>t?1:0))}return null}ur.dragstart=(n,e)=>{let{selection:{main:t}}=n.state;if(e.target.draggable){let r=n.docView.nearest(e.target);if(r&&r.isWidget){let s=r.posAtStart,o=s+r.length;(s>=t.to||o<=t.from)&&(t=L.range(s,o))}}let{inputState:i}=n;return i.mouseSelection&&(i.mouseSelection.dragging=!0),i.draggedContent=t,e.dataTransfer&&(e.dataTransfer.setData("Text",n.state.sliceDoc(t.from,t.to)),e.dataTransfer.effectAllowed="copyMove"),!1};ur.dragend=n=>(n.inputState.draggedContent=null,!1);function hC(n,e,t,i){if(!t)return;let r=n.posAtCoords({x:e.clientX,y:e.clientY},!1),{draggedContent:s}=n.inputState,o=i&&s&&CH(n,e)?{from:s.from,to:s.to}:null,l={from:r,insert:t},u=n.state.changes(o?[o,l]:l);n.focus(),n.dispatch({changes:u,selection:{anchor:u.mapPos(r,-1),head:u.mapPos(r,1)},userEvent:o?"move.drop":"input.drop"}),n.inputState.draggedContent=null}ur.drop=(n,e)=>{if(!e.dataTransfer)return!1;if(n.state.readOnly)return!0;let t=e.dataTransfer.files;if(t&&t.length){let i=Array(t.length),r=0,s=()=>{++r==t.length&&hC(n,e,i.filter(o=>o!=null).join(n.state.lineBreak),!1)};for(let o=0;o<t.length;o++){let l=new FileReader;l.onerror=s,l.onload=()=>{/[\x00-\x08\x0e-\x1f]{2}/.test(l.result)||(i[o]=l.result),s()},l.readAsText(t[o])}return!0}else{let i=e.dataTransfer.getData("Text");if(i)return hC(n,e,i,!0),!0}return!1};ur.paste=(n,e)=>{if(n.state.readOnly)return!0;n.observer.flush();let t=lM?null:e.clipboardData;return t?(aM(n,t.getData("text/plain")||t.getData("text/uri-text")),!0):(RH(n),!1)};function NH(n,e){let t=n.dom.parentNode;if(!t)return;let i=t.appendChild(document.createElement("textarea"));i.style.cssText="position: fixed; left: -10000px; top: 10px",i.value=e,i.focus(),i.selectionEnd=e.length,i.selectionStart=0,setTimeout(()=>{i.remove(),n.focus()},50)}function LH(n){let e=[],t=[],i=!1;for(let r of n.selection.ranges)r.empty||(e.push(n.sliceDoc(r.from,r.to)),t.push(r));if(!e.length){let r=-1;for(let{from:s}of n.selection.ranges){let o=n.doc.lineAt(s);o.number>r&&(e.push(o.text),t.push({from:o.from,to:Math.min(n.doc.length,o.to+1)})),r=o.number}i=!0}return{text:e.join(n.lineBreak),ranges:t,linewise:i}}let sw=null;ur.copy=ur.cut=(n,e)=>{let{text:t,ranges:i,linewise:r}=LH(n.state);if(!t&&!r)return!1;sw=r?t:null,e.type=="cut"&&!n.state.readOnly&&n.dispatch({changes:i,scrollIntoView:!0,userEvent:"delete.cut"});let s=lM?null:e.clipboardData;return s?(s.clearData(),s.setData("text/plain",t),!0):(NH(n,t),!1)};const hM=Es.define();function fM(n,e){let t=[];for(let i of n.facet(YD)){let r=i(n,e);r&&t.push(r)}return t?n.update({effects:t,annotations:hM.of(!0)}):null}function dM(n){setTimeout(()=>{let e=n.hasFocus;if(e!=n.inputState.notifiedFocused){let t=fM(n.state,e);t?n.dispatch(t):n.update([])}},10)}cr.focus=n=>{n.inputState.lastFocusTime=Date.now(),!n.scrollDOM.scrollTop&&(n.inputState.lastScrollTop||n.inputState.lastScrollLeft)&&(n.scrollDOM.scrollTop=n.inputState.lastScrollTop,n.scrollDOM.scrollLeft=n.inputState.lastScrollLeft),dM(n)};cr.blur=n=>{n.observer.clearSelectionRange(),dM(n)};cr.compositionstart=cr.compositionupdate=n=>{n.inputState.compositionFirstChange==null&&(n.inputState.compositionFirstChange=!0),n.inputState.composing<0&&(n.inputState.composing=0)};cr.compositionend=n=>{n.inputState.composing=-1,n.inputState.compositionEndedAt=Date.now(),n.inputState.compositionPendingKey=!0,n.inputState.compositionPendingChange=n.observer.pendingRecords().length>0,n.inputState.compositionFirstChange=null,ae.chrome&&ae.android?n.observer.flushSoon():n.inputState.compositionPendingChange?Promise.resolve().then(()=>n.observer.flush()):setTimeout(()=>{n.inputState.composing<0&&n.docView.hasComposition&&n.update([])},50)};cr.contextmenu=n=>{n.inputState.lastContextMenu=Date.now()};ur.beforeinput=(n,e)=>{var t;let i;if(ae.chrome&&ae.android&&(i=sM.find(r=>r.inputType==e.inputType))&&(n.observer.delayAndroidKey(i.key,i.keyCode),i.key=="Backspace"||i.key=="Delete")){let r=((t=window.visualViewport)===null||t===void 0?void 0:t.height)||0;setTimeout(()=>{var s;(((s=window.visualViewport)===null||s===void 0?void 0:s.height)||0)>r+10&&n.hasFocus&&(n.contentDOM.blur(),n.focus())},100)}return!1};const fC=new Set;function VH(n){fC.has(n)||(fC.add(n),n.addEventListener("copy",()=>{}),n.addEventListener("cut",()=>{}))}const dC=["pre-wrap","normal","pre-line","break-spaces"];class ZH{constructor(e){this.lineWrapping=e,this.doc=Le.empty,this.heightSamples={},this.lineHeight=14,this.charWidth=7,this.textHeight=14,this.lineLength=30,this.heightChanged=!1}heightForGap(e,t){let i=this.doc.lineAt(t).number-this.doc.lineAt(e).number+1;return this.lineWrapping&&(i+=Math.max(0,Math.ceil((t-e-i*this.lineLength*.5)/this.lineLength))),this.lineHeight*i}heightForLine(e){return this.lineWrapping?(1+Math.max(0,Math.ceil((e-this.lineLength)/(this.lineLength-5))))*this.lineHeight:this.lineHeight}setDoc(e){return this.doc=e,this}mustRefreshForWrapping(e){return dC.indexOf(e)>-1!=this.lineWrapping}mustRefreshForHeights(e){let t=!1;for(let i=0;i<e.length;i++){let r=e[i];r<0?i++:this.heightSamples[Math.floor(r*10)]||(t=!0,this.heightSamples[Math.floor(r*10)]=!0)}return t}refresh(e,t,i,r,s,o){let l=dC.indexOf(e)>-1,u=Math.round(t)!=Math.round(this.lineHeight)||this.lineWrapping!=l;if(this.lineWrapping=l,this.lineHeight=t,this.charWidth=i,this.textHeight=r,this.lineLength=s,u){this.heightSamples={};for(let h=0;h<o.length;h++){let f=o[h];f<0?h++:this.heightSamples[Math.floor(f*10)]=!0}}return u}}class UH{constructor(e,t){this.from=e,this.heights=t,this.index=0}get more(){return this.index<this.heights.length}}class Er{constructor(e,t,i,r,s){this.from=e,this.length=t,this.top=i,this.height=r,this._content=s}get type(){return typeof this._content=="number"?Nn.Text:Array.isArray(this._content)?this._content:this._content.type}get to(){return this.from+this.length}get bottom(){return this.top+this.height}get widget(){return this._content instanceof Po?this._content.widget:null}get widgetLineBreaks(){return typeof this._content=="number"?this._content:0}join(e){let t=(Array.isArray(this._content)?this._content:[this]).concat(Array.isArray(e._content)?e._content:[e]);return new Er(this.from,this.length+e.length,this.top,this.height+e.height,t)}}var tt=function(n){return n[n.ByPos=0]="ByPos",n[n.ByHeight=1]="ByHeight",n[n.ByPosNoHeight=2]="ByPosNoHeight",n}(tt||(tt={}));const Dp=.001;class Ln{constructor(e,t,i=2){this.length=e,this.height=t,this.flags=i}get outdated(){return(this.flags&2)>0}set outdated(e){this.flags=(e?2:0)|this.flags&-3}setHeight(e,t){this.height!=t&&(Math.abs(this.height-t)>Dp&&(e.heightChanged=!0),this.height=t)}replace(e,t,i){return Ln.of(i)}decomposeLeft(e,t){t.push(this)}decomposeRight(e,t){t.push(this)}applyChanges(e,t,i,r){let s=this,o=i.doc;for(let l=r.length-1;l>=0;l--){let{fromA:u,toA:h,fromB:f,toB:p}=r[l],g=s.lineAt(u,tt.ByPosNoHeight,i.setDoc(t),0,0),O=g.to>=h?g:s.lineAt(h,tt.ByPosNoHeight,i,0,0);for(p+=O.to-h,h=O.to;l>0&&g.from<=r[l-1].toA;)u=r[l-1].fromA,f=r[l-1].fromB,l--,u<g.from&&(g=s.lineAt(u,tt.ByPosNoHeight,i,0,0));f+=g.from-u,u=g.from;let v=F_.build(i.setDoc(o),e,f,p);s=s.replace(u,h,v)}return s.updateHeight(i,0)}static empty(){return new ci(0,0)}static of(e){if(e.length==1)return e[0];let t=0,i=e.length,r=0,s=0;for(;;)if(t==i)if(r>s*2){let l=e[t-1];l.break?e.splice(--t,1,l.left,null,l.right):e.splice(--t,1,l.left,l.right),i+=1+l.break,r-=l.size}else if(s>r*2){let l=e[i];l.break?e.splice(i,1,l.left,null,l.right):e.splice(i,1,l.left,l.right),i+=2+l.break,s-=l.size}else break;else if(r<s){let l=e[t++];l&&(r+=l.size)}else{let l=e[--i];l&&(s+=l.size)}let o=0;return e[t-1]==null?(o=1,t--):e[t]==null&&(o=1,i++),new BH(Ln.of(e.slice(0,t)),o,Ln.of(e.slice(i)))}}Ln.prototype.size=1;class pM extends Ln{constructor(e,t,i){super(e,t),this.deco=i}blockAt(e,t,i,r){return new Er(r,this.length,i,this.height,this.deco||0)}lineAt(e,t,i,r,s){return this.blockAt(0,i,r,s)}forEachLine(e,t,i,r,s,o){e<=s+this.length&&t>=s&&o(this.blockAt(0,i,r,s))}updateHeight(e,t=0,i=!1,r){return r&&r.from<=t&&r.more&&this.setHeight(e,r.heights[r.index++]),this.outdated=!1,this}toString(){return`block(${this.length})`}}class ci extends pM{constructor(e,t){super(e,t,null),this.collapsed=0,this.widgetHeight=0,this.breaks=0}blockAt(e,t,i,r){return new Er(r,this.length,i,this.height,this.breaks)}replace(e,t,i){let r=i[0];return i.length==1&&(r instanceof ci||r instanceof tn&&r.flags&4)&&Math.abs(this.length-r.length)<10?(r instanceof tn?r=new ci(r.length,this.height):r.height=this.height,this.outdated||(r.outdated=!1),r):Ln.of(i)}updateHeight(e,t=0,i=!1,r){return r&&r.from<=t&&r.more?this.setHeight(e,r.heights[r.index++]):(i||this.outdated)&&this.setHeight(e,Math.max(this.widgetHeight,e.heightForLine(this.length-this.collapsed))+this.breaks*e.lineHeight),this.outdated=!1,this}toString(){return`line(${this.length}${this.collapsed?-this.collapsed:""}${this.widgetHeight?":"+this.widgetHeight:""})`}}class tn extends Ln{constructor(e){super(e,0)}heightMetrics(e,t){let i=e.doc.lineAt(t).number,r=e.doc.lineAt(t+this.length).number,s=r-i+1,o,l=0;if(e.lineWrapping){let u=Math.min(this.height,e.lineHeight*s);o=u/s,this.length>s+1&&(l=(this.height-u)/(this.length-s-1))}else o=this.height/s;return{firstLine:i,lastLine:r,perLine:o,perChar:l}}blockAt(e,t,i,r){let{firstLine:s,lastLine:o,perLine:l,perChar:u}=this.heightMetrics(t,r);if(t.lineWrapping){let h=r+Math.round(Math.max(0,Math.min(1,(e-i)/this.height))*this.length),f=t.doc.lineAt(h),p=l+f.length*u,g=Math.max(i,e-p/2);return new Er(f.from,f.length,g,p,0)}else{let h=Math.max(0,Math.min(o-s,Math.floor((e-i)/l))),{from:f,length:p}=t.doc.line(s+h);return new Er(f,p,i+l*h,l,0)}}lineAt(e,t,i,r,s){if(t==tt.ByHeight)return this.blockAt(e,i,r,s);if(t==tt.ByPosNoHeight){let{from:O,to:v}=i.doc.lineAt(e);return new Er(O,v-O,0,0,0)}let{firstLine:o,perLine:l,perChar:u}=this.heightMetrics(i,s),h=i.doc.lineAt(e),f=l+h.length*u,p=h.number-o,g=r+l*p+u*(h.from-s-p);return new Er(h.from,h.length,Math.max(r,Math.min(g,r+this.height-f)),f,0)}forEachLine(e,t,i,r,s,o){e=Math.max(e,s),t=Math.min(t,s+this.length);let{firstLine:l,perLine:u,perChar:h}=this.heightMetrics(i,s);for(let f=e,p=r;f<=t;){let g=i.doc.lineAt(f);if(f==e){let v=g.number-l;p+=u*v+h*(e-s-v)}let O=u+h*g.length;o(new Er(g.from,g.length,p,O,0)),p+=O,f=g.to+1}}replace(e,t,i){let r=this.length-t;if(r>0){let s=i[i.length-1];s instanceof tn?i[i.length-1]=new tn(s.length+r):i.push(null,new tn(r-1))}if(e>0){let s=i[0];s instanceof tn?i[0]=new tn(e+s.length):i.unshift(new tn(e-1),null)}return Ln.of(i)}decomposeLeft(e,t){t.push(new tn(e-1),null)}decomposeRight(e,t){t.push(null,new tn(this.length-e-1))}updateHeight(e,t=0,i=!1,r){let s=t+this.length;if(r&&r.from<=t+this.length&&r.more){let o=[],l=Math.max(t,r.from),u=-1;for(r.from>t&&o.push(new tn(r.from-t-1).updateHeight(e,t));l<=s&&r.more;){let f=e.doc.lineAt(l).length;o.length&&o.push(null);let p=r.heights[r.index++];u==-1?u=p:Math.abs(p-u)>=Dp&&(u=-2);let g=new ci(f,p);g.outdated=!1,o.push(g),l+=f+1}l<=s&&o.push(null,new tn(s-l).updateHeight(e,l));let h=Ln.of(o);return(u<0||Math.abs(h.height-this.height)>=Dp||Math.abs(u-this.heightMetrics(e,t).perLine)>=Dp)&&(e.heightChanged=!0),h}else(i||this.outdated)&&(this.setHeight(e,e.heightForGap(t,t+this.length)),this.outdated=!1);return this}toString(){return`gap(${this.length})`}}class BH extends Ln{constructor(e,t,i){super(e.length+t+i.length,e.height+i.height,t|(e.outdated||i.outdated?2:0)),this.left=e,this.right=i,this.size=e.size+i.size}get break(){return this.flags&1}blockAt(e,t,i,r){let s=i+this.left.height;return e<s?this.left.blockAt(e,t,i,r):this.right.blockAt(e,t,s,r+this.left.length+this.break)}lineAt(e,t,i,r,s){let o=r+this.left.height,l=s+this.left.length+this.break,u=t==tt.ByHeight?e<o:e<l,h=u?this.left.lineAt(e,t,i,r,s):this.right.lineAt(e,t,i,o,l);if(this.break||(u?h.to<l:h.from>l))return h;let f=t==tt.ByPosNoHeight?tt.ByPosNoHeight:tt.ByPos;return u?h.join(this.right.lineAt(l,f,i,o,l)):this.left.lineAt(l,f,i,r,s).join(h)}forEachLine(e,t,i,r,s,o){let l=r+this.left.height,u=s+this.left.length+this.break;if(this.break)e<u&&this.left.forEachLine(e,t,i,r,s,o),t>=u&&this.right.forEachLine(e,t,i,l,u,o);else{let h=this.lineAt(u,tt.ByPos,i,r,s);e<h.from&&this.left.forEachLine(e,h.from-1,i,r,s,o),h.to>=e&&h.from<=t&&o(h),t>h.to&&this.right.forEachLine(h.to+1,t,i,l,u,o)}}replace(e,t,i){let r=this.left.length+this.break;if(t<r)return this.balanced(this.left.replace(e,t,i),this.right);if(e>this.left.length)return this.balanced(this.left,this.right.replace(e-r,t-r,i));let s=[];e>0&&this.decomposeLeft(e,s);let o=s.length;for(let l of i)s.push(l);if(e>0&&pC(s,o-1),t<this.length){let l=s.length;this.decomposeRight(t,s),pC(s,l)}return Ln.of(s)}decomposeLeft(e,t){let i=this.left.length;if(e<=i)return this.left.decomposeLeft(e,t);t.push(this.left),this.break&&(i++,e>=i&&t.push(null)),e>i&&this.right.decomposeLeft(e-i,t)}decomposeRight(e,t){let i=this.left.length,r=i+this.break;if(e>=r)return this.right.decomposeRight(e-r,t);e<i&&this.left.decomposeRight(e,t),this.break&&e<r&&t.push(null),t.push(this.right)}balanced(e,t){return e.size>2*t.size||t.size>2*e.size?Ln.of(this.break?[e,null,t]:[e,t]):(this.left=e,this.right=t,this.height=e.height+t.height,this.outdated=e.outdated||t.outdated,this.size=e.size+t.size,this.length=e.length+this.break+t.length,this)}updateHeight(e,t=0,i=!1,r){let{left:s,right:o}=this,l=t+s.length+this.break,u=null;return r&&r.from<=t+s.length&&r.more?u=s=s.updateHeight(e,t,i,r):s.updateHeight(e,t,i),r&&r.from<=l+o.length&&r.more?u=o=o.updateHeight(e,l,i,r):o.updateHeight(e,l,i),u?this.balanced(s,o):(this.height=this.left.height+this.right.height,this.outdated=!1,this)}toString(){return this.left+(this.break?" ":"-")+this.right}}function pC(n,e){let t,i;n[e]==null&&(t=n[e-1])instanceof tn&&(i=n[e+1])instanceof tn&&n.splice(e-1,3,new tn(t.length+1+i.length))}const WH=5;class F_{constructor(e,t){this.pos=e,this.oracle=t,this.nodes=[],this.lineStart=-1,this.lineEnd=-1,this.covering=null,this.writtenTo=e}get isCovered(){return this.covering&&this.nodes[this.nodes.length-1]==this.covering}span(e,t){if(this.lineStart>-1){let i=Math.min(t,this.lineEnd),r=this.nodes[this.nodes.length-1];r instanceof ci?r.length+=i-this.pos:(i>this.pos||!this.isCovered)&&this.nodes.push(new ci(i-this.pos,-1)),this.writtenTo=i,t>i&&(this.nodes.push(null),this.writtenTo++,this.lineStart=-1)}this.pos=t}point(e,t,i){if(e<t||i.heightRelevant){let r=i.widget?i.widget.estimatedHeight:0,s=i.widget?i.widget.lineBreaks:0;r<0&&(r=this.oracle.lineHeight);let o=t-e;i.block?this.addBlock(new pM(o,r,i)):(o||s||r>=WH)&&this.addLineDeco(r,s,o)}else t>e&&this.span(e,t);this.lineEnd>-1&&this.lineEnd<this.pos&&(this.lineEnd=this.oracle.doc.lineAt(this.pos).to)}enterLine(){if(this.lineStart>-1)return;let{from:e,to:t}=this.oracle.doc.lineAt(this.pos);this.lineStart=e,this.lineEnd=t,this.writtenTo<e&&((this.writtenTo<e-1||this.nodes[this.nodes.length-1]==null)&&this.nodes.push(this.blankContent(this.writtenTo,e-1)),this.nodes.push(null)),this.pos>e&&this.nodes.push(new ci(this.pos-e,-1)),this.writtenTo=this.pos}blankContent(e,t){let i=new tn(t-e);return this.oracle.doc.lineAt(e).to==t&&(i.flags|=4),i}ensureLine(){this.enterLine();let e=this.nodes.length?this.nodes[this.nodes.length-1]:null;if(e instanceof ci)return e;let t=new ci(0,-1);return this.nodes.push(t),t}addBlock(e){this.enterLine();let t=e.deco;t&&t.startSide>0&&!this.isCovered&&this.ensureLine(),this.nodes.push(e),this.writtenTo=this.pos=this.pos+e.length,t&&t.endSide>0&&(this.covering=e)}addLineDeco(e,t,i){let r=this.ensureLine();r.length+=i,r.collapsed+=i,r.widgetHeight=Math.max(r.widgetHeight,e),r.breaks+=t,this.writtenTo=this.pos=this.pos+i}finish(e){let t=this.nodes.length==0?null:this.nodes[this.nodes.length-1];this.lineStart>-1&&!(t instanceof ci)&&!this.isCovered?this.nodes.push(new ci(0,-1)):(this.writtenTo<this.pos||t==null)&&this.nodes.push(this.blankContent(this.writtenTo,this.pos));let i=e;for(let r of this.nodes)r instanceof ci&&r.updateHeight(this.oracle,i),i+=r?r.length:1;return this.nodes}static build(e,t,i,r){let s=new F_(i,e);return Be.spans(t,i,r,s,0),s.finish(i)}}function YH(n,e,t){let i=new FH;return Be.compare(n,e,t,i,0),i.changes}class FH{constructor(){this.changes=[]}compareRange(){}comparePoint(e,t,i,r){(e<t||i&&i.heightRelevant||r&&r.heightRelevant)&&K1(e,t,this.changes,5)}}function zH(n,e){let t=n.getBoundingClientRect(),i=n.ownerDocument,r=i.defaultView||window,s=Math.max(0,t.left),o=Math.min(r.innerWidth,t.right),l=Math.max(0,t.top),u=Math.min(r.innerHeight,t.bottom);for(let h=n.parentNode;h&&h!=i.body;)if(h.nodeType==1){let f=h,p=window.getComputedStyle(f);if((f.scrollHeight>f.clientHeight||f.scrollWidth>f.clientWidth)&&p.overflow!="visible"){let g=f.getBoundingClientRect();s=Math.max(s,g.left),o=Math.min(o,g.right),l=Math.max(l,g.top),u=h==n.parentNode?g.bottom:Math.min(u,g.bottom)}h=p.position=="absolute"||p.position=="fixed"?f.offsetParent:f.parentNode}else if(h.nodeType==11)h=h.host;else break;return{left:s-t.left,right:Math.max(s,o)-t.left,top:l-(t.top+e),bottom:Math.max(l,u)-(t.top+e)}}function XH(n,e){let t=n.getBoundingClientRect();return{left:0,right:t.right-t.left,top:e,bottom:t.bottom-(t.top+e)}}class Ly{constructor(e,t,i){this.from=e,this.to=t,this.size=i}static same(e,t){if(e.length!=t.length)return!1;for(let i=0;i<e.length;i++){let r=e[i],s=t[i];if(r.from!=s.from||r.to!=s.to||r.size!=s.size)return!1}return!0}draw(e,t){return he.replace({widget:new jH(this.size*(t?e.scaleY:e.scaleX),t)}).range(this.from,this.to)}}class jH extends Br{constructor(e,t){super(),this.size=e,this.vertical=t}eq(e){return e.size==this.size&&e.vertical==this.vertical}toDOM(){let e=document.createElement("div");return this.vertical?e.style.height=this.size+"px":(e.style.width=this.size+"px",e.style.height="2px",e.style.display="inline-block"),e}get estimatedHeight(){return this.vertical?this.size:-1}}class gC{constructor(e){this.state=e,this.pixelViewport={left:0,right:window.innerWidth,top:0,bottom:0},this.inView=!0,this.paddingTop=0,this.paddingBottom=0,this.contentDOMWidth=0,this.contentDOMHeight=0,this.editorHeight=0,this.editorWidth=0,this.scrollTop=0,this.scrolledToBottom=!0,this.scaleX=1,this.scaleY=1,this.scrollAnchorPos=0,this.scrollAnchorHeight=-1,this.scaler=mC,this.scrollTarget=null,this.printing=!1,this.mustMeasureContent=!0,this.defaultTextDirection=dt.LTR,this.visibleRanges=[],this.mustEnforceCursorAssoc=!1;let t=e.facet(W_).some(i=>typeof i!="function"&&i.class=="cm-lineWrapping");this.heightOracle=new ZH(t),this.stateDeco=e.facet(Ah).filter(i=>typeof i!="function"),this.heightMap=Ln.empty().applyChanges(this.stateDeco,Le.empty,this.heightOracle.setDoc(e.doc),[new Ui(0,0,0,e.doc.length)]),this.viewport=this.getViewport(0,null),this.updateViewportLines(),this.updateForViewport(),this.lineGaps=this.ensureLineGaps([]),this.lineGapDeco=he.set(this.lineGaps.map(i=>i.draw(this,!1))),this.computeVisibleRanges()}updateForViewport(){let e=[this.viewport],{main:t}=this.state.selection;for(let i=0;i<=1;i++){let r=i?t.head:t.anchor;if(!e.some(({from:s,to:o})=>r>=s&&r<=o)){let{from:s,to:o}=this.lineBlockAt(r);e.push(new qd(s,o))}}this.viewports=e.sort((i,r)=>i.from-r.from),this.scaler=this.heightMap.height<=7e6?mC:new HH(this.heightOracle,this.heightMap,this.viewports)}updateViewportLines(){this.viewportLines=[],this.heightMap.forEachLine(this.viewport.from,this.viewport.to,this.heightOracle.setDoc(this.state.doc),0,0,e=>{this.viewportLines.push(this.scaler.scale==1?e:Sc(e,this.scaler))})}update(e,t=null){this.state=e.state;let i=this.stateDeco;this.stateDeco=this.state.facet(Ah).filter(f=>typeof f!="function");let r=e.changedRanges,s=Ui.extendWithRanges(r,YH(i,this.stateDeco,e?e.changes:Zt.empty(this.state.doc.length))),o=this.heightMap.height,l=this.scrolledToBottom?null:this.scrollAnchorAt(this.scrollTop);this.heightMap=this.heightMap.applyChanges(this.stateDeco,e.startState.doc,this.heightOracle.setDoc(this.state.doc),s),this.heightMap.height!=o&&(e.flags|=2),l?(this.scrollAnchorPos=e.changes.mapPos(l.from,-1),this.scrollAnchorHeight=l.top):(this.scrollAnchorPos=-1,this.scrollAnchorHeight=this.heightMap.height);let u=s.length?this.mapViewport(this.viewport,e.changes):this.viewport;(t&&(t.range.head<u.from||t.range.head>u.to)||!this.viewportIsAppropriate(u))&&(u=this.getViewport(0,t));let h=!e.changes.empty||e.flags&2||u.from!=this.viewport.from||u.to!=this.viewport.to;this.viewport=u,this.updateForViewport(),h&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>4e3)&&this.updateLineGaps(this.ensureLineGaps(this.mapLineGaps(this.lineGaps,e.changes))),e.flags|=this.computeVisibleRanges(),t&&(this.scrollTarget=t),!this.mustEnforceCursorAssoc&&e.selectionSet&&e.view.lineWrapping&&e.state.selection.main.empty&&e.state.selection.main.assoc&&!e.state.facet(zD)&&(this.mustEnforceCursorAssoc=!0)}measure(e){let t=e.contentDOM,i=window.getComputedStyle(t),r=this.heightOracle,s=i.whiteSpace;this.defaultTextDirection=i.direction=="rtl"?dt.RTL:dt.LTR;let o=this.heightOracle.mustRefreshForWrapping(s),l=t.getBoundingClientRect(),u=o||this.mustMeasureContent||this.contentDOMHeight!=l.height;this.contentDOMHeight=l.height,this.mustMeasureContent=!1;let h=0,f=0;if(l.width&&l.height){let b=l.width/t.offsetWidth,I=l.height/t.offsetHeight;(b>.995&&b<1.005||!isFinite(b)||Math.abs(l.width-t.offsetWidth)<1)&&(b=1),(I>.995&&I<1.005||!isFinite(I)||Math.abs(l.height-t.offsetHeight)<1)&&(I=1),(this.scaleX!=b||this.scaleY!=I)&&(this.scaleX=b,this.scaleY=I,h|=8,o=u=!0)}let p=(parseInt(i.paddingTop)||0)*this.scaleY,g=(parseInt(i.paddingBottom)||0)*this.scaleY;(this.paddingTop!=p||this.paddingBottom!=g)&&(this.paddingTop=p,this.paddingBottom=g,h|=10),this.editorWidth!=e.scrollDOM.clientWidth&&(r.lineWrapping&&(u=!0),this.editorWidth=e.scrollDOM.clientWidth,h|=8);let O=e.scrollDOM.scrollTop*this.scaleY;this.scrollTop!=O&&(this.scrollAnchorHeight=-1,this.scrollTop=O),this.scrolledToBottom=CD(e.scrollDOM);let v=(this.printing?XH:zH)(t,this.paddingTop),x=v.top-this.pixelViewport.top,k=v.bottom-this.pixelViewport.bottom;this.pixelViewport=v;let w=this.pixelViewport.bottom>this.pixelViewport.top&&this.pixelViewport.right>this.pixelViewport.left;if(w!=this.inView&&(this.inView=w,w&&(u=!0)),!this.inView&&!this.scrollTarget)return 0;let _=l.width;if((this.contentDOMWidth!=_||this.editorHeight!=e.scrollDOM.clientHeight)&&(this.contentDOMWidth=l.width,this.editorHeight=e.scrollDOM.clientHeight,h|=8),u){let b=e.docView.measureVisibleLineHeights(this.viewport);if(r.mustRefreshForHeights(b)&&(o=!0),o||r.lineWrapping&&Math.abs(_-this.contentDOMWidth)>r.charWidth){let{lineHeight:I,charWidth:Q,textHeight:M}=e.docView.measureTextSize();o=I>0&&r.refresh(s,I,Q,M,_/Q,b),o&&(e.docView.minWidth=0,h|=8)}x>0&&k>0?f=Math.max(x,k):x<0&&k<0&&(f=Math.min(x,k)),r.heightChanged=!1;for(let I of this.viewports){let Q=I.from==this.viewport.from?b:e.docView.measureVisibleLineHeights(I);this.heightMap=(o?Ln.empty().applyChanges(this.stateDeco,Le.empty,this.heightOracle,[new Ui(0,0,0,e.state.doc.length)]):this.heightMap).updateHeight(r,0,o,new UH(I.from,Q))}r.heightChanged&&(h|=2)}let E=!this.viewportIsAppropriate(this.viewport,f)||this.scrollTarget&&(this.scrollTarget.range.head<this.viewport.from||this.scrollTarget.range.head>this.viewport.to);return E&&(this.viewport=this.getViewport(f,this.scrollTarget)),this.updateForViewport(),(h&2||E)&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>4e3)&&this.updateLineGaps(this.ensureLineGaps(o?[]:this.lineGaps,e)),h|=this.computeVisibleRanges(),this.mustEnforceCursorAssoc&&(this.mustEnforceCursorAssoc=!1,e.docView.enforceCursorAssoc()),h}get visibleTop(){return this.scaler.fromDOM(this.pixelViewport.top)}get visibleBottom(){return this.scaler.fromDOM(this.pixelViewport.bottom)}getViewport(e,t){let i=.5-Math.max(-.5,Math.min(.5,e/1e3/2)),r=this.heightMap,s=this.heightOracle,{visibleTop:o,visibleBottom:l}=this,u=new qd(r.lineAt(o-i*1e3,tt.ByHeight,s,0,0).from,r.lineAt(l+(1-i)*1e3,tt.ByHeight,s,0,0).to);if(t){let{head:h}=t.range;if(h<u.from||h>u.to){let f=Math.min(this.editorHeight,this.pixelViewport.bottom-this.pixelViewport.top),p=r.lineAt(h,tt.ByPos,s,0,0),g;t.y=="center"?g=(p.top+p.bottom)/2-f/2:t.y=="start"||t.y=="nearest"&&h<u.from?g=p.top:g=p.bottom-f,u=new qd(r.lineAt(g-1e3/2,tt.ByHeight,s,0,0).from,r.lineAt(g+f+1e3/2,tt.ByHeight,s,0,0).to)}}return u}mapViewport(e,t){let i=t.mapPos(e.from,-1),r=t.mapPos(e.to,1);return new qd(this.heightMap.lineAt(i,tt.ByPos,this.heightOracle,0,0).from,this.heightMap.lineAt(r,tt.ByPos,this.heightOracle,0,0).to)}viewportIsAppropriate({from:e,to:t},i=0){if(!this.inView)return!0;let{top:r}=this.heightMap.lineAt(e,tt.ByPos,this.heightOracle,0,0),{bottom:s}=this.heightMap.lineAt(t,tt.ByPos,this.heightOracle,0,0),{visibleTop:o,visibleBottom:l}=this;return(e==0||r<=o-Math.max(10,Math.min(-i,250)))&&(t==this.state.doc.length||s>=l+Math.max(10,Math.min(i,250)))&&r>o-2*1e3&&s<l+2*1e3}mapLineGaps(e,t){if(!e.length||t.empty)return e;let i=[];for(let r of e)t.touchesRange(r.from,r.to)||i.push(new Ly(t.mapPos(r.from),t.mapPos(r.to),r.size));return i}ensureLineGaps(e,t){let i=this.heightOracle.lineWrapping,r=i?1e4:2e3,s=r>>1,o=r<<1;if(this.defaultTextDirection!=dt.LTR&&!i)return[];let l=[],u=(h,f,p,g)=>{if(f-h<s)return;let O=this.state.selection.main,v=[O.from];O.empty||v.push(O.to);for(let k of v)if(k>h&&k<f){u(h,k-10,p,g),u(k+10,f,p,g);return}let x=GH(e,k=>k.from>=p.from&&k.to<=p.to&&Math.abs(k.from-h)<s&&Math.abs(k.to-f)<s&&!v.some(w=>k.from<w&&k.to>w));if(!x){if(f<p.to&&t&&i&&t.visibleRanges.some(k=>k.from<=f&&k.to>=f)){let k=t.moveToLineBoundary(L.cursor(f),!1,!0).head;k>h&&(f=k)}x=new Ly(h,f,this.gapSize(p,h,f,g))}l.push(x)};for(let h of this.viewportLines){if(h.length<o)continue;let f=qH(h.from,h.to,this.stateDeco);if(f.total<o)continue;let p=this.scrollTarget?this.scrollTarget.range.head:null,g,O;if(i){let v=r/this.heightOracle.lineLength*this.heightOracle.lineHeight,x,k;if(p!=null){let w=Hd(f,p),_=((this.visibleBottom-this.visibleTop)/2+v)/h.height;x=w-_,k=w+_}else x=(this.visibleTop-h.top-v)/h.height,k=(this.visibleBottom-h.top+v)/h.height;g=Gd(f,x),O=Gd(f,k)}else{let v=f.total*this.heightOracle.charWidth,x=r*this.heightOracle.charWidth,k,w;if(p!=null){let _=Hd(f,p),E=((this.pixelViewport.right-this.pixelViewport.left)/2+x)/v;k=_-E,w=_+E}else k=(this.pixelViewport.left-x)/v,w=(this.pixelViewport.right+x)/v;g=Gd(f,k),O=Gd(f,w)}g>h.from&&u(h.from,g,h,f),O<h.to&&u(O,h.to,h,f)}return l}gapSize(e,t,i,r){let s=Hd(r,i)-Hd(r,t);return this.heightOracle.lineWrapping?e.height*s:r.total*this.heightOracle.charWidth*s}updateLineGaps(e){Ly.same(e,this.lineGaps)||(this.lineGaps=e,this.lineGapDeco=he.set(e.map(t=>t.draw(this,this.heightOracle.lineWrapping))))}computeVisibleRanges(){let e=this.stateDeco;this.lineGaps.length&&(e=e.concat(this.lineGapDeco));let t=[];Be.spans(e,this.viewport.from,this.viewport.to,{span(r,s){t.push({from:r,to:s})},point(){}},20);let i=t.length!=this.visibleRanges.length||this.visibleRanges.some((r,s)=>r.from!=t[s].from||r.to!=t[s].to);return this.visibleRanges=t,i?4:0}lineBlockAt(e){return e>=this.viewport.from&&e<=this.viewport.to&&this.viewportLines.find(t=>t.from<=e&&t.to>=e)||Sc(this.heightMap.lineAt(e,tt.ByPos,this.heightOracle,0,0),this.scaler)}lineBlockAtHeight(e){return Sc(this.heightMap.lineAt(this.scaler.fromDOM(e),tt.ByHeight,this.heightOracle,0,0),this.scaler)}scrollAnchorAt(e){let t=this.lineBlockAtHeight(e+8);return t.from>=this.viewport.from||this.viewportLines[0].top-e>200?t:this.viewportLines[0]}elementAtHeight(e){return Sc(this.heightMap.blockAt(this.scaler.fromDOM(e),this.heightOracle,0,0),this.scaler)}get docHeight(){return this.scaler.toDOM(this.heightMap.height)}get contentHeight(){return this.docHeight+this.paddingTop+this.paddingBottom}}class qd{constructor(e,t){this.from=e,this.to=t}}function qH(n,e,t){let i=[],r=n,s=0;return Be.spans(t,n,e,{span(){},point(o,l){o>r&&(i.push({from:r,to:o}),s+=o-r),r=l}},20),r<e&&(i.push({from:r,to:e}),s+=e-r),{total:s,ranges:i}}function Gd({total:n,ranges:e},t){if(t<=0)return e[0].from;if(t>=1)return e[e.length-1].to;let i=Math.floor(n*t);for(let r=0;;r++){let{from:s,to:o}=e[r],l=o-s;if(i<=l)return s+i;i-=l}}function Hd(n,e){let t=0;for(let{from:i,to:r}of n.ranges){if(e<=r){t+=e-i;break}t+=r-i}return t/n.total}function GH(n,e){for(let t of n)if(e(t))return t}const mC={toDOM(n){return n},fromDOM(n){return n},scale:1};class HH{constructor(e,t,i){let r=0,s=0,o=0;this.viewports=i.map(({from:l,to:u})=>{let h=t.lineAt(l,tt.ByPos,e,0,0).top,f=t.lineAt(u,tt.ByPos,e,0,0).bottom;return r+=f-h,{from:l,to:u,top:h,bottom:f,domTop:0,domBottom:0}}),this.scale=(7e6-r)/(t.height-r);for(let l of this.viewports)l.domTop=o+(l.top-s)*this.scale,o=l.domBottom=l.domTop+(l.bottom-l.top),s=l.bottom}toDOM(e){for(let t=0,i=0,r=0;;t++){let s=t<this.viewports.length?this.viewports[t]:null;if(!s||e<s.top)return r+(e-i)*this.scale;if(e<=s.bottom)return s.domTop+(e-s.top);i=s.bottom,r=s.domBottom}}fromDOM(e){for(let t=0,i=0,r=0;;t++){let s=t<this.viewports.length?this.viewports[t]:null;if(!s||e<s.domTop)return i+(e-r)/this.scale;if(e<=s.domBottom)return s.top+(e-s.domTop);i=s.bottom,r=s.domBottom}}}function Sc(n,e){if(e.scale==1)return n;let t=e.toDOM(n.top),i=e.toDOM(n.bottom);return new Er(n.from,n.length,t,i-t,Array.isArray(n._content)?n._content.map(r=>Sc(r,e)):n._content)}const Kd=se.define({combine:n=>n.join(" ")}),ow=se.define({combine:n=>n.indexOf(!0)>-1}),lw=ko.newName(),gM=ko.newName(),mM=ko.newName(),OM={"&light":"."+gM,"&dark":"."+mM};function aw(n,e,t){return new ko(e,{finish(i){return/&/.test(i)?i.replace(/&\w*/,r=>{if(r=="&")return n;if(!t||!t[r])throw new RangeError(`Unsupported selector: ${r}`);return t[r]}):n+" "+i}})}const KH=aw("."+lw,{"&":{position:"relative !important",boxSizing:"border-box","&.cm-focused":{outline:"1px dotted #212121"},display:"flex !important",flexDirection:"column"},".cm-scroller":{display:"flex !important",alignItems:"flex-start !important",fontFamily:"monospace",lineHeight:1.4,height:"100%",overflowX:"auto",position:"relative",zIndex:0},".cm-content":{margin:0,flexGrow:2,flexShrink:0,display:"block",whiteSpace:"pre",wordWrap:"normal",boxSizing:"border-box",minHeight:"100%",padding:"4px 0",outline:"none","&[contenteditable=true]":{WebkitUserModify:"read-write-plaintext-only"}},".cm-lineWrapping":{whiteSpace_fallback:"pre-wrap",whiteSpace:"break-spaces",wordBreak:"break-word",overflowWrap:"anywhere",flexShrink:1},"&light .cm-content":{caretColor:"black"},"&dark .cm-content":{caretColor:"white"},".cm-line":{display:"block",padding:"0 2px 0 6px"},".cm-layer":{position:"absolute",left:0,top:0,contain:"size style","& > *":{position:"absolute"}},"&light .cm-selectionBackground":{background:"#d9d9d9"},"&dark .cm-selectionBackground":{background:"#222"},"&light.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground":{background:"#d7d4f0"},"&dark.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground":{background:"#233"},".cm-cursorLayer":{pointerEvents:"none"},"&.cm-focused > .cm-scroller > .cm-cursorLayer":{animation:"steps(1) cm-blink 1.2s infinite"},"@keyframes cm-blink":{"0%":{},"50%":{opacity:0},"100%":{}},"@keyframes cm-blink2":{"0%":{},"50%":{opacity:0},"100%":{}},".cm-cursor, .cm-dropCursor":{borderLeft:"1.2px solid black",marginLeft:"-0.6px",pointerEvents:"none"},".cm-cursor":{display:"none"},"&dark .cm-cursor":{borderLeftColor:"#444"},".cm-dropCursor":{position:"absolute"},"&.cm-focused > .cm-scroller > .cm-cursorLayer .cm-cursor":{display:"block"},"&light .cm-activeLine":{backgroundColor:"#cceeff44"},"&dark .cm-activeLine":{backgroundColor:"#99eeff33"},"&light .cm-specialChar":{color:"red"},"&dark .cm-specialChar":{color:"#f78"},".cm-gutters":{flexShrink:0,display:"flex",height:"100%",boxSizing:"border-box",insetInlineStart:0,zIndex:200},"&light .cm-gutters":{backgroundColor:"#f5f5f5",color:"#6c6c6c",borderRight:"1px solid #ddd"},"&dark .cm-gutters":{backgroundColor:"#333338",color:"#ccc"},".cm-gutter":{display:"flex !important",flexDirection:"column",flexShrink:0,boxSizing:"border-box",minHeight:"100%",overflow:"hidden"},".cm-gutterElement":{boxSizing:"border-box"},".cm-lineNumbers .cm-gutterElement":{padding:"0 3px 0 5px",minWidth:"20px",textAlign:"right",whiteSpace:"nowrap"},"&light .cm-activeLineGutter":{backgroundColor:"#e2f2ff"},"&dark .cm-activeLineGutter":{backgroundColor:"#222227"},".cm-panels":{boxSizing:"border-box",position:"sticky",left:0,right:0},"&light .cm-panels":{backgroundColor:"#f5f5f5",color:"black"},"&light .cm-panels-top":{borderBottom:"1px solid #ddd"},"&light .cm-panels-bottom":{borderTop:"1px solid #ddd"},"&dark .cm-panels":{backgroundColor:"#333338",color:"white"},".cm-tab":{display:"inline-block",overflow:"hidden",verticalAlign:"bottom"},".cm-widgetBuffer":{verticalAlign:"text-top",height:"1em",width:0,display:"inline"},".cm-placeholder":{color:"#888",display:"inline-block",verticalAlign:"top"},".cm-highlightSpace:before":{content:"attr(data-display)",position:"absolute",pointerEvents:"none",color:"#888"},".cm-highlightTab":{backgroundImage:`url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="200" height="20"><path stroke="%23888" stroke-width="1" fill="none" d="M1 10H196L190 5M190 15L196 10M197 4L197 16"/></svg>')`,backgroundSize:"auto 100%",backgroundPosition:"right 90%",backgroundRepeat:"no-repeat"},".cm-trailingSpace":{backgroundColor:"#ff332255"},".cm-button":{verticalAlign:"middle",color:"inherit",fontSize:"70%",padding:".2em 1em",borderRadius:"1px"},"&light .cm-button":{backgroundImage:"linear-gradient(#eff1f5, #d9d9df)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#b4b4b4, #d0d3d6)"}},"&dark .cm-button":{backgroundImage:"linear-gradient(#393939, #111)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#111, #333)"}},".cm-textfield":{verticalAlign:"middle",color:"inherit",fontSize:"70%",border:"1px solid silver",padding:".2em .5em"},"&light .cm-textfield":{backgroundColor:"white"},"&dark .cm-textfield":{border:"1px solid #555",backgroundColor:"inherit"}},OM),_c="￿";class JH{constructor(e,t){this.points=e,this.text="",this.lineSeparator=t.facet(Me.lineSeparator)}append(e){this.text+=e}lineBreak(){this.text+=_c}readRange(e,t){if(!e)return this;let i=e.parentNode;for(let r=e;;){this.findPointBefore(i,r);let s=this.text.length;this.readNode(r);let o=r.nextSibling;if(o==t)break;let l=rt.get(r),u=rt.get(o);(l&&u?l.breakAfter:(l?l.breakAfter:OC(r))||OC(o)&&(r.nodeName!="BR"||r.cmIgnore)&&this.text.length>s)&&this.lineBreak(),r=o}return this.findPointBefore(i,t),this}readTextNode(e){let t=e.nodeValue;for(let i of this.points)i.node==e&&(i.pos=this.text.length+Math.min(i.offset,t.length));for(let i=0,r=this.lineSeparator?null:/\r\n?|\n/g;;){let s=-1,o=1,l;if(this.lineSeparator?(s=t.indexOf(this.lineSeparator,i),o=this.lineSeparator.length):(l=r.exec(t))&&(s=l.index,o=l[0].length),this.append(t.slice(i,s<0?t.length:s)),s<0)break;if(this.lineBreak(),o>1)for(let u of this.points)u.node==e&&u.pos>this.text.length&&(u.pos-=o-1);i=s+o}}readNode(e){if(e.cmIgnore)return;let t=rt.get(e),i=t&&t.overrideDOMText;if(i!=null){this.findPointInside(e,i.length);for(let r=i.iter();!r.next().done;)r.lineBreak?this.lineBreak():this.append(r.value)}else e.nodeType==3?this.readTextNode(e):e.nodeName=="BR"?e.nextSibling&&this.lineBreak():e.nodeType==1&&this.readRange(e.firstChild,null)}findPointBefore(e,t){for(let i of this.points)i.node==e&&e.childNodes[i.offset]==t&&(i.pos=this.text.length)}findPointInside(e,t){for(let i of this.points)(e.nodeType==3?i.node==e:e.contains(i.node))&&(i.pos=this.text.length+(eK(e,i.node,i.offset)?t:0))}}function eK(n,e,t){for(;;){if(!e||t<ws(e))return!1;if(e==n)return!0;t=Ch(e)+1,e=e.parentNode}}function OC(n){return n.nodeType==1&&/^(DIV|P|LI|UL|OL|BLOCKQUOTE|DD|DT|H\d|SECTION|PRE)$/.test(n.nodeName)}class yC{constructor(e,t){this.node=e,this.offset=t,this.pos=-1}}class tK{constructor(e,t,i,r){this.typeOver=r,this.bounds=null,this.text="";let{impreciseHead:s,impreciseAnchor:o}=e.docView;if(e.state.readOnly&&t>-1)this.newSel=null;else if(t>-1&&(this.bounds=e.docView.domBoundsAround(t,i,0))){let l=s||o?[]:rK(e),u=new JH(l,e.state);u.readRange(this.bounds.startDOM,this.bounds.endDOM),this.text=u.text,this.newSel=sK(l,this.bounds.from)}else{let l=e.observer.selectionRange,u=s&&s.node==l.focusNode&&s.offset==l.focusOffset||!z1(e.contentDOM,l.focusNode)?e.state.selection.main.head:e.docView.posFromDOM(l.focusNode,l.focusOffset),h=o&&o.node==l.anchorNode&&o.offset==l.anchorOffset||!z1(e.contentDOM,l.anchorNode)?e.state.selection.main.anchor:e.docView.posFromDOM(l.anchorNode,l.anchorOffset);this.newSel=L.single(h,u)}}}function yM(n,e){let t,{newSel:i}=e,r=n.state.selection.main,s=n.inputState.lastKeyTime>Date.now()-100?n.inputState.lastKeyCode:-1;if(e.bounds){let{from:o,to:l}=e.bounds,u=r.from,h=null;(s===8||ae.android&&e.text.length<l-o)&&(u=r.to,h="end");let f=iK(n.state.doc.sliceString(o,l,_c),e.text,u-o,h);f&&(ae.chrome&&s==13&&f.toB==f.from+2&&e.text.slice(f.from,f.toB)==_c+_c&&f.toB--,t={from:o+f.from,to:o+f.toA,insert:Le.of(e.text.slice(f.from,f.toB).split(_c))})}else i&&(!n.hasFocus&&n.state.facet(uO)||i.main.eq(r))&&(i=null);if(!t&&!i)return!1;if(!t&&e.typeOver&&!r.empty&&i&&i.main.empty?t={from:r.from,to:r.to,insert:n.state.doc.slice(r.from,r.to)}:t&&t.from>=r.from&&t.to<=r.to&&(t.from!=r.from||t.to!=r.to)&&r.to-r.from-(t.to-t.from)<=4?t={from:r.from,to:r.to,insert:n.state.doc.slice(r.from,t.from).append(t.insert).append(n.state.doc.slice(t.to,r.to))}:(ae.mac||ae.android)&&t&&t.from==t.to&&t.from==r.head-1&&/^\. ?$/.test(t.insert.toString())&&n.contentDOM.getAttribute("autocorrect")=="off"?(i&&t.insert.length==2&&(i=L.single(i.main.anchor-1,i.main.head-1)),t={from:r.from,to:r.to,insert:Le.of([" "])}):ae.chrome&&t&&t.from==t.to&&t.from==r.head&&t.insert.toString()==`
 `&&n.lineWrapping&&(i&&(i=L.single(i.main.anchor-1,i.main.head-1)),t={from:r.from,to:r.to,insert:Le.of([" "])}),t){if(ae.ios&&n.inputState.flushIOSKey()||ae.android&&(t.from==r.from&&t.to==r.to&&t.insert.length==1&&t.insert.lines==2&&Ra(n.contentDOM,"Enter",13)||(t.from==r.from-1&&t.to==r.to&&t.insert.length==0||s==8&&t.insert.length<t.to-t.from&&t.to>r.head)&&Ra(n.contentDOM,"Backspace",8)||t.from==r.from&&t.to==r.to+1&&t.insert.length==0&&Ra(n.contentDOM,"Delete",46)))return!0;let o=t.insert.toString();n.inputState.composing>=0&&n.inputState.composing++;let l,u=()=>l||(l=nK(n,t,i));return n.state.facet(WD).some(h=>h(n,t.from,t.to,o,u))||n.dispatch(u()),!0}else if(i&&!i.main.eq(r)){let o=!1,l="select";return n.inputState.lastSelectionTime>Date.now()-50&&(n.inputState.lastSelectionOrigin=="select"&&(o=!0),l=n.inputState.lastSelectionOrigin),n.dispatch({selection:i,scrollIntoView:o,userEvent:l}),!0}else return!1}function nK(n,e,t){let i,r=n.state,s=r.selection.main;if(e.from>=s.from&&e.to<=s.to&&e.to-e.from>=(s.to-s.from)/3&&(!t||t.main.empty&&t.main.from==e.from+e.insert.length)&&n.inputState.composing<0){let l=s.from<e.from?r.sliceDoc(s.from,e.from):"",u=s.to>e.to?r.sliceDoc(e.to,s.to):"";i=r.replaceSelection(n.state.toText(l+e.insert.sliceString(0,void 0,n.state.lineBreak)+u))}else{let l=r.changes(e),u=t&&t.main.to<=l.newLength?t.main:void 0;if(r.selection.ranges.length>1&&n.inputState.composing>=0&&e.to<=s.to&&e.to>=s.to-10){let h=n.state.sliceDoc(e.from,e.to),f,p=t&&nM(n,t.main.head);if(p){let v=e.insert.length-(e.to-e.from);f={from:p.from,to:p.to-v}}else f=n.state.doc.lineAt(s.head);let g=s.to-e.to,O=s.to-s.from;i=r.changeByRange(v=>{if(v.from==s.from&&v.to==s.to)return{changes:l,range:u||v.map(l)};let x=v.to-g,k=x-h.length;if(v.to-v.from!=O||n.state.sliceDoc(k,x)!=h||v.to>=f.from&&v.from<=f.to)return{range:v};let w=r.changes({from:k,to:x,insert:e.insert}),_=v.to-s.to;return{changes:w,range:u?L.range(Math.max(0,u.anchor+_),Math.max(0,u.head+_)):v.map(w)}})}else i={changes:l,selection:u&&r.selection.replaceRange(u)}}let o="input.type";return(n.composing||n.inputState.compositionPendingChange&&n.inputState.compositionEndedAt>Date.now()-50)&&(n.inputState.compositionPendingChange=!1,o+=".compose",n.inputState.compositionFirstChange&&(o+=".start",n.inputState.compositionFirstChange=!1)),r.update(i,{userEvent:o,scrollIntoView:!0})}function iK(n,e,t,i){let r=Math.min(n.length,e.length),s=0;for(;s<r&&n.charCodeAt(s)==e.charCodeAt(s);)s++;if(s==r&&n.length==e.length)return null;let o=n.length,l=e.length;for(;o>0&&l>0&&n.charCodeAt(o-1)==e.charCodeAt(l-1);)o--,l--;if(i=="end"){let u=Math.max(0,s-Math.min(o,l));t-=o+u-s}if(o<s&&n.length<e.length){let u=t<=s&&t>=o?s-t:0;s-=u,l=s+(l-o),o=s}else if(l<s){let u=t<=s&&t>=l?s-t:0;s-=u,o=s+(o-l),l=s}return{from:s,toA:o,toB:l}}function rK(n){let e=[];if(n.root.activeElement!=n.contentDOM)return e;let{anchorNode:t,anchorOffset:i,focusNode:r,focusOffset:s}=n.observer.selectionRange;return t&&(e.push(new yC(t,i)),(r!=t||s!=i)&&e.push(new yC(r,s))),e}function sK(n,e){if(n.length==0)return null;let t=n[0].pos,i=n.length==2?n[1].pos:t;return t>-1&&i>-1?L.single(t+e,i+e):null}const oK={childList:!0,characterData:!0,subtree:!0,attributes:!0,characterDataOldValue:!0},Vy=ae.ie&&ae.ie_version<=11;class lK{constructor(e){this.view=e,this.active=!1,this.selectionRange=new YG,this.selectionChanged=!1,this.delayedFlush=-1,this.resizeTimeout=-1,this.queue=[],this.delayedAndroidKey=null,this.flushingAndroidKey=-1,this.lastChange=0,this.scrollTargets=[],this.intersection=null,this.resizeScroll=null,this.intersecting=!1,this.gapIntersection=null,this.gaps=[],this.parentCheck=-1,this.dom=e.contentDOM,this.observer=new MutationObserver(t=>{for(let i of t)this.queue.push(i);(ae.ie&&ae.ie_version<=11||ae.ios&&e.composing)&&t.some(i=>i.type=="childList"&&i.removedNodes.length||i.type=="characterData"&&i.oldValue.length>i.target.nodeValue.length)?this.flushSoon():this.flush()}),Vy&&(this.onCharData=t=>{this.queue.push({target:t.target,type:"characterData",oldValue:t.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this),this.onResize=this.onResize.bind(this),this.onPrint=this.onPrint.bind(this),this.onScroll=this.onScroll.bind(this),typeof ResizeObserver=="function"&&(this.resizeScroll=new ResizeObserver(()=>{var t;((t=this.view.docView)===null||t===void 0?void 0:t.lastUpdate)<Date.now()-75&&this.onResize()}),this.resizeScroll.observe(e.scrollDOM)),this.addWindowListeners(this.win=e.win),this.start(),typeof IntersectionObserver=="function"&&(this.intersection=new IntersectionObserver(t=>{this.parentCheck<0&&(this.parentCheck=setTimeout(this.listenForScroll.bind(this),1e3)),t.length>0&&t[t.length-1].intersectionRatio>0!=this.intersecting&&(this.intersecting=!this.intersecting,this.intersecting!=this.view.inView&&this.onScrollChanged(document.createEvent("Event")))},{threshold:[0,.001]}),this.intersection.observe(this.dom),this.gapIntersection=new IntersectionObserver(t=>{t.length>0&&t[t.length-1].intersectionRatio>0&&this.onScrollChanged(document.createEvent("Event"))},{})),this.listenForScroll(),this.readSelectionRange()}onScrollChanged(e){this.view.inputState.runHandlers("scroll",e),this.intersecting&&this.view.measure()}onScroll(e){this.intersecting&&this.flush(!1),this.onScrollChanged(e)}onResize(){this.resizeTimeout<0&&(this.resizeTimeout=setTimeout(()=>{this.resizeTimeout=-1,this.view.requestMeasure()},50))}onPrint(){this.view.viewState.printing=!0,this.view.measure(),setTimeout(()=>{this.view.viewState.printing=!1,this.view.requestMeasure()},500)}updateGaps(e){if(this.gapIntersection&&(e.length!=this.gaps.length||this.gaps.some((t,i)=>t!=e[i]))){this.gapIntersection.disconnect();for(let t of e)this.gapIntersection.observe(t);this.gaps=e}}onSelectionChange(e){let t=this.selectionChanged;if(!this.readSelectionRange()||this.delayedAndroidKey)return;let{view:i}=this,r=this.selectionRange;if(i.state.facet(uO)?i.root.activeElement!=this.dom:!$p(i.dom,r))return;let s=r.anchorNode&&i.docView.nearest(r.anchorNode);if(s&&s.ignoreEvent(e)){t||(this.selectionChanged=!1);return}(ae.ie&&ae.ie_version<=11||ae.android&&ae.chrome)&&!i.state.selection.main.empty&&r.focusNode&&Zg(r.focusNode,r.focusOffset,r.anchorNode,r.anchorOffset)?this.flushSoon():this.flush(!1)}readSelectionRange(){let{view:e}=this,t=ae.safari&&e.root.nodeType==11&&ZG(this.dom.ownerDocument)==this.dom&&aK(this.view)||Vg(e.root);if(!t||this.selectionRange.eq(t))return!1;let i=$p(this.dom,t);return i&&!this.selectionChanged&&e.inputState.lastFocusTime>Date.now()-200&&e.inputState.lastTouchTime<Date.now()-300&&zG(this.dom,t)?(this.view.inputState.lastFocusTime=0,e.docView.updateSelection(),!1):(this.selectionRange.setRange(t),i&&(this.selectionChanged=!0),!0)}setSelectionRange(e,t){this.selectionRange.set(e.node,e.offset,t.node,t.offset),this.selectionChanged=!1}clearSelectionRange(){this.selectionRange.set(null,0,null,0)}listenForScroll(){this.parentCheck=-1;let e=0,t=null;for(let i=this.dom;i;)if(i.nodeType==1)!t&&e<this.scrollTargets.length&&this.scrollTargets[e]==i?e++:t||(t=this.scrollTargets.slice(0,e)),t&&t.push(i),i=i.assignedSlot||i.parentNode;else if(i.nodeType==11)i=i.host;else break;if(e<this.scrollTargets.length&&!t&&(t=this.scrollTargets.slice(0,e)),t){for(let i of this.scrollTargets)i.removeEventListener("scroll",this.onScroll);for(let i of this.scrollTargets=t)i.addEventListener("scroll",this.onScroll)}}ignore(e){if(!this.active)return e();try{return this.stop(),e()}finally{this.start(),this.clear()}}start(){this.active||(this.observer.observe(this.dom,oK),Vy&&this.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.active=!0)}stop(){this.active&&(this.active=!1,this.observer.disconnect(),Vy&&this.dom.removeEventListener("DOMCharacterDataModified",this.onCharData))}clear(){this.processRecords(),this.queue.length=0,this.selectionChanged=!1}delayAndroidKey(e,t){var i;if(!this.delayedAndroidKey){let r=()=>{let s=this.delayedAndroidKey;s&&(this.clearDelayedAndroidKey(),this.view.inputState.lastKeyCode=s.keyCode,this.view.inputState.lastKeyTime=Date.now(),!this.flush()&&s.force&&Ra(this.dom,s.key,s.keyCode))};this.flushingAndroidKey=this.view.win.requestAnimationFrame(r)}(!this.delayedAndroidKey||e=="Enter")&&(this.delayedAndroidKey={key:e,keyCode:t,force:this.lastChange<Date.now()-50||!!(!((i=this.delayedAndroidKey)===null||i===void 0)&&i.force)})}clearDelayedAndroidKey(){this.win.cancelAnimationFrame(this.flushingAndroidKey),this.delayedAndroidKey=null,this.flushingAndroidKey=-1}flushSoon(){this.delayedFlush<0&&(this.delayedFlush=this.view.win.requestAnimationFrame(()=>{this.delayedFlush=-1,this.flush()}))}forceFlush(){this.delayedFlush>=0&&(this.view.win.cancelAnimationFrame(this.delayedFlush),this.delayedFlush=-1),this.flush()}pendingRecords(){for(let e of this.observer.takeRecords())this.queue.push(e);return this.queue}processRecords(){let e=this.pendingRecords();e.length&&(this.queue=[]);let t=-1,i=-1,r=!1;for(let s of e){let o=this.readMutation(s);o&&(o.typeOver&&(r=!0),t==-1?{from:t,to:i}=o:(t=Math.min(o.from,t),i=Math.max(o.to,i)))}return{from:t,to:i,typeOver:r}}readChange(){let{from:e,to:t,typeOver:i}=this.processRecords(),r=this.selectionChanged&&$p(this.dom,this.selectionRange);if(e<0&&!r)return null;e>-1&&(this.lastChange=Date.now()),this.view.inputState.lastFocusTime=0,this.selectionChanged=!1;let s=new tK(this.view,e,t,i);return this.view.docView.domChanged={newSel:s.newSel?s.newSel.main:null},s}flush(e=!0){if(this.delayedFlush>=0||this.delayedAndroidKey)return!1;e&&this.readSelectionRange();let t=this.readChange();if(!t)return this.view.requestMeasure(),!1;let i=this.view.state,r=yM(this.view,t);return this.view.state==i&&this.view.update([]),r}readMutation(e){let t=this.view.docView.nearest(e.target);if(!t||t.ignoreMutation(e))return null;if(t.markDirty(e.type=="attributes"),e.type=="attributes"&&(t.flags|=4),e.type=="childList"){let i=vC(t,e.previousSibling||e.target.previousSibling,-1),r=vC(t,e.nextSibling||e.target.nextSibling,1);return{from:i?t.posAfter(i):t.posAtStart,to:r?t.posBefore(r):t.posAtEnd,typeOver:!1}}else return e.type=="characterData"?{from:t.posAtStart,to:t.posAtEnd,typeOver:e.target.nodeValue==e.oldValue}:null}setWindow(e){e!=this.win&&(this.removeWindowListeners(this.win),this.win=e,this.addWindowListeners(this.win))}addWindowListeners(e){e.addEventListener("resize",this.onResize),e.addEventListener("beforeprint",this.onPrint),e.addEventListener("scroll",this.onScroll),e.document.addEventListener("selectionchange",this.onSelectionChange)}removeWindowListeners(e){e.removeEventListener("scroll",this.onScroll),e.removeEventListener("resize",this.onResize),e.removeEventListener("beforeprint",this.onPrint),e.document.removeEventListener("selectionchange",this.onSelectionChange)}destroy(){var e,t,i;this.stop(),(e=this.intersection)===null||e===void 0||e.disconnect(),(t=this.gapIntersection)===null||t===void 0||t.disconnect(),(i=this.resizeScroll)===null||i===void 0||i.disconnect();for(let r of this.scrollTargets)r.removeEventListener("scroll",this.onScroll);this.removeWindowListeners(this.win),clearTimeout(this.parentCheck),clearTimeout(this.resizeTimeout),this.win.cancelAnimationFrame(this.delayedFlush),this.win.cancelAnimationFrame(this.flushingAndroidKey)}}function vC(n,e,t){for(;e;){let i=rt.get(e);if(i&&i.parent==n)return i;let r=e.parentNode;e=r!=n.dom?r:t>0?e.nextSibling:e.previousSibling}return null}function aK(n){let e=null;function t(u){u.preventDefault(),u.stopImmediatePropagation(),e=u.getTargetRanges()[0]}if(n.contentDOM.addEventListener("beforeinput",t,!0),n.dom.ownerDocument.execCommand("indent"),n.contentDOM.removeEventListener("beforeinput",t,!0),!e)return null;let i=e.startContainer,r=e.startOffset,s=e.endContainer,o=e.endOffset,l=n.docView.domAtPos(n.state.selection.main.anchor);return Zg(l.node,l.offset,s,o)&&([i,r,s,o]=[s,o,i,r]),{anchorNode:i,anchorOffset:r,focusNode:s,focusOffset:o}}class ne{get state(){return this.viewState.state}get viewport(){return this.viewState.viewport}get visibleRanges(){return this.viewState.visibleRanges}get inView(){return this.viewState.inView}get composing(){return this.inputState.composing>0}get compositionStarted(){return this.inputState.composing>=0}get root(){return this._root}get win(){return this.dom.ownerDocument.defaultView||window}constructor(e={}){this.plugins=[],this.pluginMap=new Map,this.editorAttrs={},this.contentAttrs={},this.bidiCache=[],this.destroyed=!1,this.updateState=2,this.measureScheduled=-1,this.measureRequests=[],this.contentDOM=document.createElement("div"),this.scrollDOM=document.createElement("div"),this.scrollDOM.tabIndex=-1,this.scrollDOM.className="cm-scroller",this.scrollDOM.appendChild(this.contentDOM),this.announceDOM=document.createElement("div"),this.announceDOM.style.cssText="position: fixed; top: -10000px",this.announceDOM.setAttribute("aria-live","polite"),this.dom=document.createElement("div"),this.dom.appendChild(this.announceDOM),this.dom.appendChild(this.scrollDOM);let{dispatch:t}=e;this.dispatchTransactions=e.dispatchTransactions||t&&(i=>i.forEach(r=>t(r,this)))||(i=>this.update(i)),this.dispatch=this.dispatch.bind(this),this._root=e.root||FG(e.parent)||document,this.viewState=new gC(e.state||Me.create(e)),e.scrollTo&&e.scrollTo.is(zd)&&(this.viewState.scrollTarget=e.scrollTo.value.clip(this.viewState.state)),this.plugins=this.state.facet(vc).map(i=>new Dy(i));for(let i of this.plugins)i.update(this);this.observer=new lK(this),this.inputState=new xH(this),this.inputState.ensureHandlers(this.plugins),this.docView=new Hb(this),this.mountStyles(),this.updateAttrs(),this.updateState=0,this.requestMeasure(),e.parent&&e.parent.appendChild(this.dom)}dispatch(...e){let t=e.length==1&&e[0]instanceof Wt?e:e.length==1&&Array.isArray(e[0])?e[0]:[this.state.update(...e)];this.dispatchTransactions(t,this)}update(e){if(this.updateState!=0)throw new Error("Calls to EditorView.update are not allowed while an update is in progress");let t=!1,i=!1,r,s=this.state;for(let g of e){if(g.startState!=s)throw new RangeError("Trying to update state with a transaction that doesn't start from the previous state.");s=g.state}if(this.destroyed){this.viewState.state=s;return}let o=this.hasFocus,l=0,u=null;e.some(g=>g.annotation(hM))?(this.inputState.notifiedFocused=o,l=1):o!=this.inputState.notifiedFocused&&(this.inputState.notifiedFocused=o,u=fM(s,o),u||(l=1));let h=this.observer.delayedAndroidKey,f=null;if(h?(this.observer.clearDelayedAndroidKey(),f=this.observer.readChange(),(f&&!this.state.doc.eq(s.doc)||!this.state.selection.eq(s.selection))&&(f=null)):this.observer.clear(),s.facet(Me.phrases)!=this.state.facet(Me.phrases))return this.setState(s);r=Ug.create(this,s,e),r.flags|=l;let p=this.viewState.scrollTarget;try{this.updateState=2;for(let g of e){if(p&&(p=p.map(g.changes)),g.scrollIntoView){let{main:O}=g.state.selection;p=new $a(O.empty?O:L.cursor(O.head,O.head>O.anchor?-1:1))}for(let O of g.effects)O.is(zd)&&(p=O.value.clip(this.state))}this.viewState.update(r,p),this.bidiCache=Bg.update(this.bidiCache,r.changes),r.empty||(this.updatePlugins(r),this.inputState.update(r)),t=this.docView.update(r),this.state.facet(wc)!=this.styleModules&&this.mountStyles(),i=this.updateAttrs(),this.showAnnouncements(e),this.docView.updateSelection(t,e.some(g=>g.isUserEvent("select.pointer")))}finally{this.updateState=0}if(r.startState.facet(Kd)!=r.state.facet(Kd)&&(this.viewState.mustMeasureContent=!0),(t||i||p||this.viewState.mustEnforceCursorAssoc||this.viewState.mustMeasureContent)&&this.requestMeasure(),!r.empty)for(let g of this.state.facet(J1))try{g(r)}catch(O){Zi(this.state,O,"update listener")}(u||f)&&Promise.resolve().then(()=>{u&&this.state==u.startState&&this.dispatch(u),f&&!yM(this,f)&&h.force&&Ra(this.contentDOM,h.key,h.keyCode)})}setState(e){if(this.updateState!=0)throw new Error("Calls to EditorView.setState are not allowed while an update is in progress");if(this.destroyed){this.viewState.state=e;return}this.updateState=2;let t=this.hasFocus;try{for(let i of this.plugins)i.destroy(this);this.viewState=new gC(e),this.plugins=e.facet(vc).map(i=>new Dy(i)),this.pluginMap.clear();for(let i of this.plugins)i.update(this);this.docView=new Hb(this),this.inputState.ensureHandlers(this.plugins),this.mountStyles(),this.updateAttrs(),this.bidiCache=[]}finally{this.updateState=0}t&&this.focus(),this.requestMeasure()}updatePlugins(e){let t=e.startState.facet(vc),i=e.state.facet(vc);if(t!=i){let r=[];for(let s of i){let o=t.indexOf(s);if(o<0)r.push(new Dy(s));else{let l=this.plugins[o];l.mustUpdate=e,r.push(l)}}for(let s of this.plugins)s.mustUpdate!=e&&s.destroy(this);this.plugins=r,this.pluginMap.clear()}else for(let r of this.plugins)r.mustUpdate=e;for(let r=0;r<this.plugins.length;r++)this.plugins[r].update(this);t!=i&&this.inputState.ensureHandlers(this.plugins)}measure(e=!0){if(this.destroyed)return;if(this.measureScheduled>-1&&this.win.cancelAnimationFrame(this.measureScheduled),this.observer.delayedAndroidKey){this.measureScheduled=-1,this.requestMeasure();return}this.measureScheduled=0,e&&this.observer.forceFlush();let t=null,i=this.scrollDOM,r=i.scrollTop*this.scaleY,{scrollAnchorPos:s,scrollAnchorHeight:o}=this.viewState;Math.abs(r-this.viewState.scrollTop)>1&&(o=-1),this.viewState.scrollAnchorHeight=-1;try{for(let l=0;;l++){if(o<0)if(CD(i))s=-1,o=this.viewState.heightMap.height;else{let O=this.viewState.scrollAnchorAt(r);s=O.from,o=O.top}this.updateState=1;let u=this.viewState.measure(this);if(!u&&!this.measureRequests.length&&this.viewState.scrollTarget==null)break;if(l>5){console.warn(this.measureRequests.length?"Measure loop restarted more than 5 times":"Viewport failed to stabilize");break}let h=[];u&4||([this.measureRequests,h]=[h,this.measureRequests]);let f=h.map(O=>{try{return O.read(this)}catch(v){return Zi(this.state,v),wC}}),p=Ug.create(this,this.state,[]),g=!1;p.flags|=u,t?t.flags|=u:t=p,this.updateState=2,p.empty||(this.updatePlugins(p),this.inputState.update(p),this.updateAttrs(),g=this.docView.update(p));for(let O=0;O<h.length;O++)if(f[O]!=wC)try{let v=h[O];v.write&&v.write(f[O],this)}catch(v){Zi(this.state,v)}if(g&&this.docView.updateSelection(!0),!p.viewportChanged&&this.measureRequests.length==0){if(this.viewState.editorHeight)if(this.viewState.scrollTarget){this.docView.scrollIntoView(this.viewState.scrollTarget),this.viewState.scrollTarget=null;continue}else{let v=(s<0?this.viewState.heightMap.height:this.viewState.lineBlockAt(s).top)-o;if(v>1||v<-1){r=r+v,i.scrollTop=r/this.scaleY,o=-1;continue}}break}}}finally{this.updateState=0,this.measureScheduled=-1}if(t&&!t.empty)for(let l of this.state.facet(J1))l(t)}get themeClasses(){return lw+" "+(this.state.facet(ow)?mM:gM)+" "+this.state.facet(Kd)}updateAttrs(){let e=SC(this,XD,{class:"cm-editor"+(this.hasFocus?" cm-focused ":" ")+this.themeClasses}),t={spellcheck:"false",autocorrect:"off",autocapitalize:"off",translate:"no",contenteditable:this.state.facet(uO)?"true":"false",class:"cm-content",style:`${ae.tabSize}: ${this.state.tabSize}`,role:"textbox","aria-multiline":"true"};this.state.readOnly&&(t["aria-readonly"]="true"),SC(this,W_,t);let i=this.observer.ignore(()=>{let r=H1(this.contentDOM,this.contentAttrs,t),s=H1(this.dom,this.editorAttrs,e);return r||s});return this.editorAttrs=e,this.contentAttrs=t,i}showAnnouncements(e){let t=!0;for(let i of e)for(let r of i.effects)if(r.is(ne.announce)){t&&(this.announceDOM.textContent=""),t=!1;let s=this.announceDOM.appendChild(document.createElement("div"));s.textContent=r.value}}mountStyles(){this.styleModules=this.state.facet(wc);let e=this.state.facet(ne.cspNonce);ko.mount(this.root,this.styleModules.concat(KH).reverse(),e?{nonce:e}:void 0)}readMeasured(){if(this.updateState==2)throw new Error("Reading the editor layout isn't allowed during an update");this.updateState==0&&this.measureScheduled>-1&&this.measure(!1)}requestMeasure(e){if(this.measureScheduled<0&&(this.measureScheduled=this.win.requestAnimationFrame(()=>this.measure())),e){if(this.measureRequests.indexOf(e)>-1)return;if(e.key!=null){for(let t=0;t<this.measureRequests.length;t++)if(this.measureRequests[t].key===e.key){this.measureRequests[t]=e;return}}this.measureRequests.push(e)}}plugin(e){let t=this.pluginMap.get(e);return(t===void 0||t&&t.spec!=e)&&this.pluginMap.set(e,t=this.plugins.find(i=>i.spec==e)||null),t&&t.update(this).value}get documentTop(){return this.contentDOM.getBoundingClientRect().top+this.viewState.paddingTop}get documentPadding(){return{top:this.viewState.paddingTop,bottom:this.viewState.paddingBottom}}get scaleX(){return this.viewState.scaleX}get scaleY(){return this.viewState.scaleY}elementAtHeight(e){return this.readMeasured(),this.viewState.elementAtHeight(e)}lineBlockAtHeight(e){return this.readMeasured(),this.viewState.lineBlockAtHeight(e)}get viewportLineBlocks(){return this.viewState.viewportLines}lineBlockAt(e){return this.viewState.lineBlockAt(e)}get contentHeight(){return this.viewState.contentHeight}moveByChar(e,t,i){return Ny(this,e,iC(this,e,t,i))}moveByGroup(e,t){return Ny(this,e,iC(this,e,t,i=>SH(this,e.head,i)))}moveToLineBoundary(e,t,i=!0){return wH(this,e,t,i)}moveVertically(e,t,i){return Ny(this,e,_H(this,e,t,i))}domAtPos(e){return this.docView.domAtPos(e)}posAtDOM(e,t=0){return this.docView.posFromDOM(e,t)}posAtCoords(e,t=!0){return this.readMeasured(),rM(this,e,t)}coordsAtPos(e,t=1){this.readMeasured();let i=this.docView.coordsAt(e,t);if(!i||i.left==i.right)return i;let r=this.state.doc.lineAt(e),s=this.bidiSpans(r),o=s[eo.find(s,e-r.from,-1,t)];return lO(i,o.dir==dt.LTR==t>0)}coordsForChar(e){return this.readMeasured(),this.docView.coordsForChar(e)}get defaultCharacterWidth(){return this.viewState.heightOracle.charWidth}get defaultLineHeight(){return this.viewState.heightOracle.lineHeight}get textDirection(){return this.viewState.defaultTextDirection}textDirectionAt(e){return!this.state.facet(FD)||e<this.viewport.from||e>this.viewport.to?this.textDirection:(this.readMeasured(),this.docView.textDirectionAt(e))}get lineWrapping(){return this.viewState.heightOracle.lineWrapping}bidiSpans(e){if(e.length>uK)return eM(e.length);let t=this.textDirectionAt(e.from),i;for(let s of this.bidiCache)if(s.from==e.from&&s.dir==t&&(s.fresh||JD(s.isolates,i=Gb(this,e.from,e.to))))return s.order;i||(i=Gb(this,e.from,e.to));let r=oH(e.text,t,i);return this.bidiCache.push(new Bg(e.from,e.to,t,i,!0,r)),r}get hasFocus(){var e;return(this.dom.ownerDocument.hasFocus()||ae.safari&&((e=this.inputState)===null||e===void 0?void 0:e.lastContextMenu)>Date.now()-3e4)&&this.root.activeElement==this.contentDOM}focus(){this.observer.ignore(()=>{PD(this.contentDOM),this.docView.updateSelection()})}setRoot(e){this._root!=e&&(this._root=e,this.observer.setWindow((e.nodeType==9?e:e.ownerDocument).defaultView||window),this.mountStyles())}destroy(){for(let e of this.plugins)e.destroy(this);this.plugins=[],this.inputState.destroy(),this.dom.remove(),this.observer.destroy(),this.measureScheduled>-1&&this.win.cancelAnimationFrame(this.measureScheduled),this.destroyed=!0}static scrollIntoView(e,t={}){return zd.of(new $a(typeof e=="number"?L.cursor(e):e,t.y,t.x,t.yMargin,t.xMargin))}scrollSnapshot(){let{scrollTop:e,scrollLeft:t}=this.scrollDOM,i=this.viewState.scrollAnchorAt(e);return zd.of(new $a(L.cursor(i.from),"start","start",i.top-e,t,!0))}static domEventHandlers(e){return Pt.define(()=>({}),{eventHandlers:e})}static domEventObservers(e){return Pt.define(()=>({}),{eventObservers:e})}static theme(e,t){let i=ko.newName(),r=[Kd.of(i),wc.of(aw(`.${i}`,e))];return t&&t.dark&&r.push(ow.of(!0)),r}static baseTheme(e){return Al.lowest(wc.of(aw("."+lw,e,OM)))}static findFromDOM(e){var t;let i=e.querySelector(".cm-content"),r=i&&rt.get(i)||rt.get(e);return((t=r==null?void 0:r.rootView)===null||t===void 0?void 0:t.view)||null}}ne.styleModule=wc;ne.inputHandler=WD;ne.focusChangeEffect=YD;ne.perLineTextDirection=FD;ne.exceptionSink=BD;ne.updateListener=J1;ne.editable=uO;ne.mouseSelectionStyle=UD;ne.dragMovesSelection=ZD;ne.clickAddsSelectionRange=VD;ne.decorations=Ah;ne.atomicRanges=Y_;ne.bidiIsolatedRanges=jD;ne.scrollMargins=qD;ne.darkTheme=ow;ne.cspNonce=se.define({combine:n=>n.length?n[0]:""});ne.contentAttributes=W_;ne.editorAttributes=XD;ne.lineWrapping=ne.contentAttributes.of({class:"cm-lineWrapping"});ne.announce=Se.define();const uK=4096,wC={};class Bg{constructor(e,t,i,r,s,o){this.from=e,this.to=t,this.dir=i,this.isolates=r,this.fresh=s,this.order=o}static update(e,t){if(t.empty&&!e.some(s=>s.fresh))return e;let i=[],r=e.length?e[e.length-1].dir:dt.LTR;for(let s=Math.max(0,e.length-10);s<e.length;s++){let o=e[s];o.dir==r&&!t.touchesRange(o.from,o.to)&&i.push(new Bg(t.mapPos(o.from,1),t.mapPos(o.to,-1),o.dir,o.isolates,!1,o.order))}return i}}function SC(n,e,t){for(let i=n.state.facet(e),r=i.length-1;r>=0;r--){let s=i[r],o=typeof s=="function"?s(n):s;o&&G1(o,t)}return t}const cK=ae.mac?"mac":ae.windows?"win":ae.linux?"linux":"key";function hK(n,e){const t=n.split(/-(?!$)/);let i=t[t.length-1];i=="Space"&&(i=" ");let r,s,o,l;for(let u=0;u<t.length-1;++u){const h=t[u];if(/^(cmd|meta|m)$/i.test(h))l=!0;else if(/^a(lt)?$/i.test(h))r=!0;else if(/^(c|ctrl|control)$/i.test(h))s=!0;else if(/^s(hift)?$/i.test(h))o=!0;else if(/^mod$/i.test(h))e=="mac"?l=!0:s=!0;else throw new Error("Unrecognized modifier name: "+h)}return r&&(i="Alt-"+i),s&&(i="Ctrl-"+i),l&&(i="Meta-"+i),o&&(i="Shift-"+i),i}function Jd(n,e,t){return e.altKey&&(n="Alt-"+n),e.ctrlKey&&(n="Ctrl-"+n),e.metaKey&&(n="Meta-"+n),t!==!1&&e.shiftKey&&(n="Shift-"+n),n}const fK=Al.default(ne.domEventHandlers({keydown(n,e){return wM(vM(e.state),n,e,"editor")}})),vf=se.define({enables:fK}),_C=new WeakMap;function vM(n){let e=n.facet(vf),t=_C.get(e);return t||_C.set(e,t=gK(e.reduce((i,r)=>i.concat(r),[]))),t}function dK(n,e,t){return wM(vM(n.state),e,n,t)}let Xs=null;const pK=4e3;function gK(n,e=cK){let t=Object.create(null),i=Object.create(null),r=(o,l)=>{let u=i[o];if(u==null)i[o]=l;else if(u!=l)throw new Error("Key binding "+o+" is used both as a regular binding and as a multi-stroke prefix")},s=(o,l,u,h,f)=>{var p,g;let O=t[o]||(t[o]=Object.create(null)),v=l.split(/ (?!$)/).map(w=>hK(w,e));for(let w=1;w<v.length;w++){let _=v.slice(0,w).join(" ");r(_,!0),O[_]||(O[_]={preventDefault:!0,stopPropagation:!1,run:[E=>{let b=Xs={view:E,prefix:_,scope:o};return setTimeout(()=>{Xs==b&&(Xs=null)},pK),!0}]})}let x=v.join(" ");r(x,!1);let k=O[x]||(O[x]={preventDefault:!1,stopPropagation:!1,run:((g=(p=O._any)===null||p===void 0?void 0:p.run)===null||g===void 0?void 0:g.slice())||[]});u&&k.run.push(u),h&&(k.preventDefault=!0),f&&(k.stopPropagation=!0)};for(let o of n){let l=o.scope?o.scope.split(" "):["editor"];if(o.any)for(let h of l){let f=t[h]||(t[h]=Object.create(null));f._any||(f._any={preventDefault:!1,stopPropagation:!1,run:[]});for(let p in f)f[p].run.push(o.any)}let u=o[e]||o.key;if(u)for(let h of l)s(h,u,o.run,o.preventDefault,o.stopPropagation),o.shift&&s(h,"Shift-"+u,o.shift,o.preventDefault,o.stopPropagation)}return t}function wM(n,e,t,i){let r=VG(e),s=sn(r,0),o=Mi(s)==r.length&&r!=" ",l="",u=!1,h=!1,f=!1;Xs&&Xs.view==t&&Xs.scope==i&&(l=Xs.prefix+" ",oM.indexOf(e.keyCode)<0&&(h=!0,Xs=null));let p=new Set,g=k=>{if(k){for(let w of k.run)if(!p.has(w)&&(p.add(w),w(t,e)))return k.stopPropagation&&(f=!0),!0;k.preventDefault&&(k.stopPropagation&&(f=!0),h=!0)}return!1},O=n[i],v,x;return O&&(g(O[l+Jd(r,e,!o)])?u=!0:o&&(e.altKey||e.metaKey||e.ctrlKey)&&!(ae.windows&&e.ctrlKey&&e.altKey)&&(v=Eo[e.keyCode])&&v!=r?(g(O[l+Jd(v,e,!0)])||e.shiftKey&&(x=bh[e.keyCode])!=r&&x!=v&&g(O[l+Jd(x,e,!1)]))&&(u=!0):o&&e.shiftKey&&g(O[l+Jd(r,e,!0)])&&(u=!0),!u&&g(O._any)&&(u=!0)),h&&(u=!0),u&&f&&e.stopPropagation(),u}class wf{constructor(e,t,i,r,s){this.className=e,this.left=t,this.top=i,this.width=r,this.height=s}draw(){let e=document.createElement("div");return e.className=this.className,this.adjust(e),e}update(e,t){return t.className!=this.className?!1:(this.adjust(e),!0)}adjust(e){e.style.left=this.left+"px",e.style.top=this.top+"px",this.width!=null&&(e.style.width=this.width+"px"),e.style.height=this.height+"px"}eq(e){return this.left==e.left&&this.top==e.top&&this.width==e.width&&this.height==e.height&&this.className==e.className}static forRange(e,t,i){if(i.empty){let r=e.coordsAtPos(i.head,i.assoc||1);if(!r)return[];let s=SM(e);return[new wf(t,r.left-s.left,r.top-s.top,null,r.bottom-r.top)]}else return mK(e,t,i)}}function SM(n){let e=n.scrollDOM.getBoundingClientRect();return{left:(n.textDirection==dt.LTR?e.left:e.right-n.scrollDOM.clientWidth*n.scaleX)-n.scrollDOM.scrollLeft*n.scaleX,top:e.top-n.scrollDOM.scrollTop*n.scaleY}}function xC(n,e,t){let i=L.cursor(e);return{from:Math.max(t.from,n.moveToLineBoundary(i,!1,!0).from),to:Math.min(t.to,n.moveToLineBoundary(i,!0,!0).from),type:Nn.Text}}function mK(n,e,t){if(t.to<=n.viewport.from||t.from>=n.viewport.to)return[];let i=Math.max(t.from,n.viewport.from),r=Math.min(t.to,n.viewport.to),s=n.textDirection==dt.LTR,o=n.contentDOM,l=o.getBoundingClientRect(),u=SM(n),h=o.querySelector(".cm-line"),f=h&&window.getComputedStyle(h),p=l.left+(f?parseInt(f.paddingLeft)+Math.min(0,parseInt(f.textIndent)):0),g=l.right-(f?parseInt(f.paddingRight):0),O=rw(n,i),v=rw(n,r),x=O.type==Nn.Text?O:null,k=v.type==Nn.Text?v:null;if(x&&(n.lineWrapping||O.widgetLineBreaks)&&(x=xC(n,i,x)),k&&(n.lineWrapping||v.widgetLineBreaks)&&(k=xC(n,r,k)),x&&k&&x.from==k.from)return _(E(t.from,t.to,x));{let I=x?E(t.from,null,x):b(O,!1),Q=k?E(null,t.to,k):b(v,!0),M=[];return(x||O).to<(k||v).from-(x&&k?1:0)||O.widgetLineBreaks>1&&I.bottom+n.defaultLineHeight/2<Q.top?M.push(w(p,I.bottom,g,Q.top)):I.bottom<Q.top&&n.elementAtHeight((I.bottom+Q.top)/2).type==Nn.Text&&(I.bottom=Q.top=(I.bottom+Q.top)/2),_(I).concat(M).concat(_(Q))}function w(I,Q,M,W){return new wf(e,I-u.left,Q-u.top-.01,M-I,W-Q+.01)}function _({top:I,bottom:Q,horizontal:M}){let W=[];for(let J=0;J<M.length;J+=2)W.push(w(M[J],I,M[J+1],Q));return W}function E(I,Q,M){let W=1e9,J=-1e9,j=[];function Ee(bt,_t,Ot,yt,z){let ie=n.coordsAtPos(bt,bt==M.to?-2:2),oe=n.coordsAtPos(Ot,Ot==M.from?2:-2);!ie||!oe||(W=Math.min(ie.top,oe.top,W),J=Math.max(ie.bottom,oe.bottom,J),z==dt.LTR?j.push(s&&_t?p:ie.left,s&&yt?g:oe.right):j.push(!s&&yt?p:oe.left,!s&&_t?g:ie.right))}let ze=I??M.from,lt=Q??M.to;for(let bt of n.visibleRanges)if(bt.to>ze&&bt.from<lt)for(let _t=Math.max(bt.from,ze),Ot=Math.min(bt.to,lt);;){let yt=n.state.doc.lineAt(_t);for(let z of n.bidiSpans(yt)){let ie=z.from+yt.from,oe=z.to+yt.from;if(ie>=Ot)break;oe>_t&&Ee(Math.max(ie,_t),I==null&&ie<=ze,Math.min(oe,Ot),Q==null&&oe>=lt,z.dir)}if(_t=yt.to+1,_t>=Ot)break}return j.length==0&&Ee(ze,I==null,lt,Q==null,n.textDirection),{top:W,bottom:J,horizontal:j}}function b(I,Q){let M=l.top+(Q?I.top:I.bottom);return{top:M,bottom:M,horizontal:[]}}}function OK(n,e){return n.constructor==e.constructor&&n.eq(e)}class yK{constructor(e,t){this.view=e,this.layer=t,this.drawn=[],this.scaleX=1,this.scaleY=1,this.measureReq={read:this.measure.bind(this),write:this.draw.bind(this)},this.dom=e.scrollDOM.appendChild(document.createElement("div")),this.dom.classList.add("cm-layer"),t.above&&this.dom.classList.add("cm-layer-above"),t.class&&this.dom.classList.add(t.class),this.scale(),this.dom.setAttribute("aria-hidden","true"),this.setOrder(e.state),e.requestMeasure(this.measureReq),t.mount&&t.mount(this.dom,e)}update(e){e.startState.facet(Mp)!=e.state.facet(Mp)&&this.setOrder(e.state),(this.layer.update(e,this.dom)||e.geometryChanged)&&(this.scale(),e.view.requestMeasure(this.measureReq))}setOrder(e){let t=0,i=e.facet(Mp);for(;t<i.length&&i[t]!=this.layer;)t++;this.dom.style.zIndex=String((this.layer.above?150:-1)-t)}measure(){return this.layer.markers(this.view)}scale(){let{scaleX:e,scaleY:t}=this.view;(e!=this.scaleX||t!=this.scaleY)&&(this.scaleX=e,this.scaleY=t,this.dom.style.transform=`scale(${1/e}, ${1/t})`)}draw(e){if(e.length!=this.drawn.length||e.some((t,i)=>!OK(t,this.drawn[i]))){let t=this.dom.firstChild,i=0;for(let r of e)r.update&&t&&r.constructor&&this.drawn[i].constructor&&r.update(t,this.drawn[i])?(t=t.nextSibling,i++):this.dom.insertBefore(r.draw(),t);for(;t;){let r=t.nextSibling;t.remove(),t=r}this.drawn=e}}destroy(){this.layer.destroy&&this.layer.destroy(this.dom,this.view),this.dom.remove()}}const Mp=se.define();function _M(n){return[Pt.define(e=>new yK(e,n)),Mp.of(n)]}const xM=!ae.ios,Rh=se.define({combine(n){return Ur(n,{cursorBlinkRate:1200,drawRangeCursor:!0},{cursorBlinkRate:(e,t)=>Math.min(e,t),drawRangeCursor:(e,t)=>e||t})}});function vK(n={}){return[Rh.of(n),wK,SK,_K,zD.of(!0)]}function TM(n){return n.startState.facet(Rh)!=n.state.facet(Rh)}const wK=_M({above:!0,markers(n){let{state:e}=n,t=e.facet(Rh),i=[];for(let r of e.selection.ranges){let s=r==e.selection.main;if(r.empty?!s||xM:t.drawRangeCursor){let o=s?"cm-cursor cm-cursor-primary":"cm-cursor cm-cursor-secondary",l=r.empty?r:L.cursor(r.head,r.head>r.anchor?-1:1);for(let u of wf.forRange(n,o,l))i.push(u)}}return i},update(n,e){n.transactions.some(i=>i.selection)&&(e.style.animationName=e.style.animationName=="cm-blink"?"cm-blink2":"cm-blink");let t=TM(n);return t&&TC(n.state,e),n.docChanged||n.selectionSet||t},mount(n,e){TC(e.state,n)},class:"cm-cursorLayer"});function TC(n,e){e.style.animationDuration=n.facet(Rh).cursorBlinkRate+"ms"}const SK=_M({above:!1,markers(n){return n.state.selection.ranges.map(e=>e.empty?[]:wf.forRange(n,"cm-selectionBackground",e)).reduce((e,t)=>e.concat(t))},update(n,e){return n.docChanged||n.selectionSet||n.viewportChanged||TM(n)},class:"cm-selectionLayer"}),kM={".cm-line":{"& ::selection":{backgroundColor:"transparent !important"},"&::selection":{backgroundColor:"transparent !important"}}};xM&&(kM[".cm-line"].caretColor="transparent !important");const _K=Al.highest(ne.theme(kM)),EM=Se.define({map(n,e){return n==null?null:e.mapPos(n)}}),xc=Ft.define({create(){return null},update(n,e){return n!=null&&(n=e.changes.mapPos(n)),e.effects.reduce((t,i)=>i.is(EM)?i.value:t,n)}}),xK=Pt.fromClass(class{constructor(n){this.view=n,this.cursor=null,this.measureReq={read:this.readPos.bind(this),write:this.drawCursor.bind(this)}}update(n){var e;let t=n.state.field(xc);t==null?this.cursor!=null&&((e=this.cursor)===null||e===void 0||e.remove(),this.cursor=null):(this.cursor||(this.cursor=this.view.scrollDOM.appendChild(document.createElement("div")),this.cursor.className="cm-dropCursor"),(n.startState.field(xc)!=t||n.docChanged||n.geometryChanged)&&this.view.requestMeasure(this.measureReq))}readPos(){let{view:n}=this,e=n.state.field(xc),t=e!=null&&n.coordsAtPos(e);if(!t)return null;let i=n.scrollDOM.getBoundingClientRect();return{left:t.left-i.left+n.scrollDOM.scrollLeft*n.scaleX,top:t.top-i.top+n.scrollDOM.scrollTop*n.scaleY,height:t.bottom-t.top}}drawCursor(n){if(this.cursor){let{scaleX:e,scaleY:t}=this.view;n?(this.cursor.style.left=n.left/e+"px",this.cursor.style.top=n.top/t+"px",this.cursor.style.height=n.height/t+"px"):this.cursor.style.left="-100000px"}}destroy(){this.cursor&&this.cursor.remove()}setDropPos(n){this.view.state.field(xc)!=n&&this.view.dispatch({effects:EM.of(n)})}},{eventObservers:{dragover(n){this.setDropPos(this.view.posAtCoords({x:n.clientX,y:n.clientY}))},dragleave(n){(n.target==this.view.contentDOM||!this.view.contentDOM.contains(n.relatedTarget))&&this.setDropPos(null)},dragend(){this.setDropPos(null)},drop(){this.setDropPos(null)}}});function TK(){return[xc,xK]}function kC(n,e,t,i,r){e.lastIndex=0;for(let s=n.iterRange(t,i),o=t,l;!s.next().done;o+=s.value.length)if(!s.lineBreak)for(;l=e.exec(s.value);)r(o+l.index,l)}function kK(n,e){let t=n.visibleRanges;if(t.length==1&&t[0].from==n.viewport.from&&t[0].to==n.viewport.to)return t;let i=[];for(let{from:r,to:s}of t)r=Math.max(n.state.doc.lineAt(r).from,r-e),s=Math.min(n.state.doc.lineAt(s).to,s+e),i.length&&i[i.length-1].to>=r?i[i.length-1].to=s:i.push({from:r,to:s});return i}class EK{constructor(e){const{regexp:t,decoration:i,decorate:r,boundary:s,maxLength:o=1e3}=e;if(!t.global)throw new RangeError("The regular expression given to MatchDecorator should have its 'g' flag set");if(this.regexp=t,r)this.addMatch=(l,u,h,f)=>r(f,h,h+l[0].length,l,u);else if(typeof i=="function")this.addMatch=(l,u,h,f)=>{let p=i(l,u,h);p&&f(h,h+l[0].length,p)};else if(i)this.addMatch=(l,u,h,f)=>f(h,h+l[0].length,i);else throw new RangeError("Either 'decorate' or 'decoration' should be provided to MatchDecorator");this.boundary=s,this.maxLength=o}createDeco(e){let t=new To,i=t.add.bind(t);for(let{from:r,to:s}of kK(e,this.maxLength))kC(e.state.doc,this.regexp,r,s,(o,l)=>this.addMatch(l,e,o,i));return t.finish()}updateDeco(e,t){let i=1e9,r=-1;return e.docChanged&&e.changes.iterChanges((s,o,l,u)=>{u>e.view.viewport.from&&l<e.view.viewport.to&&(i=Math.min(l,i),r=Math.max(u,r))}),e.viewportChanged||r-i>1e3?this.createDeco(e.view):r>-1?this.updateRange(e.view,t.map(e.changes),i,r):t}updateRange(e,t,i,r){for(let s of e.visibleRanges){let o=Math.max(s.from,i),l=Math.min(s.to,r);if(l>o){let u=e.state.doc.lineAt(o),h=u.to<l?e.state.doc.lineAt(l):u,f=Math.max(s.from,u.from),p=Math.min(s.to,h.to);if(this.boundary){for(;o>u.from;o--)if(this.boundary.test(u.text[o-1-u.from])){f=o;break}for(;l<h.to;l++)if(this.boundary.test(h.text[l-h.from])){p=l;break}}let g=[],O,v=(x,k,w)=>g.push(w.range(x,k));if(u==h)for(this.regexp.lastIndex=f-u.from;(O=this.regexp.exec(u.text))&&O.index<p-u.from;)this.addMatch(O,e,O.index+u.from,v);else kC(e.state.doc,this.regexp,f,p,(x,k)=>this.addMatch(k,e,x,v));t=t.update({filterFrom:f,filterTo:p,filter:(x,k)=>x<f||k>p,add:g})}}return t}}const uw=/x/.unicode!=null?"gu":"g",PK=new RegExp(`[\0-\b
--­؜​‎‏\u2028\u2029‭‮⁦⁧⁩\uFEFF￹-￼]`,uw),bK={0:"null",7:"bell",8:"backspace",10:"newline",11:"vertical tab",13:"carriage return",27:"escape",8203:"zero width space",8204:"zero width non-joiner",8205:"zero width joiner",8206:"left-to-right mark",8207:"right-to-left mark",8232:"line separator",8237:"left-to-right override",8238:"right-to-left override",8294:"left-to-right isolate",8295:"right-to-left isolate",8297:"pop directional isolate",8233:"paragraph separator",65279:"zero width no-break space",65532:"object replacement"};let Zy=null;function CK(){var n;if(Zy==null&&typeof document<"u"&&document.body){let e=document.body.style;Zy=((n=e.tabSize)!==null&&n!==void 0?n:e.MozTabSize)!=null}return Zy||!1}const Np=se.define({combine(n){let e=Ur(n,{render:null,specialChars:PK,addSpecialChars:null});return(e.replaceTabs=!CK())&&(e.specialChars=new RegExp("	|"+e.specialChars.source,uw)),e.addSpecialChars&&(e.specialChars=new RegExp(e.specialChars.source+"|"+e.addSpecialChars.source,uw)),e}});function AK(n={}){return[Np.of(n),IK()]}let EC=null;function IK(){return EC||(EC=Pt.fromClass(class{constructor(n){this.view=n,this.decorations=he.none,this.decorationCache=Object.create(null),this.decorator=this.makeDecorator(n.state.facet(Np)),this.decorations=this.decorator.createDeco(n)}makeDecorator(n){return new EK({regexp:n.specialChars,decoration:(e,t,i)=>{let{doc:r}=t.state,s=sn(e[0],0);if(s==9){let o=r.lineAt(i),l=t.state.tabSize,u=vu(o.text,l,i-o.from);return he.replace({widget:new DK((l-u%l)*this.view.defaultCharacterWidth/this.view.scaleX)})}return this.decorationCache[s]||(this.decorationCache[s]=he.replace({widget:new QK(n,s)}))},boundary:n.replaceTabs?void 0:/[^]/})}update(n){let e=n.state.facet(Np);n.startState.facet(Np)!=e?(this.decorator=this.makeDecorator(e),this.decorations=this.decorator.createDeco(n.view)):this.decorations=this.decorator.updateDeco(n,this.decorations)}},{decorations:n=>n.decorations}))}const RK="•";function $K(n){return n>=32?RK:n==10?"␤":String.fromCharCode(9216+n)}class QK extends Br{constructor(e,t){super(),this.options=e,this.code=t}eq(e){return e.code==this.code}toDOM(e){let t=$K(this.code),i=e.state.phrase("Control character")+" "+(bK[this.code]||"0x"+this.code.toString(16)),r=this.options.render&&this.options.render(this.code,i,t);if(r)return r;let s=document.createElement("span");return s.textContent=t,s.title=i,s.setAttribute("aria-label",i),s.className="cm-specialChar",s}ignoreEvent(){return!1}}class DK extends Br{constructor(e){super(),this.width=e}eq(e){return e.width==this.width}toDOM(){let e=document.createElement("span");return e.textContent="	",e.className="cm-tab",e.style.width=this.width+"px",e}ignoreEvent(){return!1}}function MK(){return LK}const NK=he.line({class:"cm-activeLine"}),LK=Pt.fromClass(class{constructor(n){this.decorations=this.getDeco(n)}update(n){(n.docChanged||n.selectionSet)&&(this.decorations=this.getDeco(n.view))}getDeco(n){let e=-1,t=[];for(let i of n.state.selection.ranges){let r=n.lineBlockAt(i.head);r.from>e&&(t.push(NK.range(r.from)),e=r.from)}return he.set(t)}},{decorations:n=>n.decorations});class VK extends Br{constructor(e){super(),this.content=e}toDOM(){let e=document.createElement("span");return e.className="cm-placeholder",e.style.pointerEvents="none",e.appendChild(typeof this.content=="string"?document.createTextNode(this.content):this.content),typeof this.content=="string"?e.setAttribute("aria-label","placeholder "+this.content):e.setAttribute("aria-hidden","true"),e}coordsAt(e){let t=e.firstChild?tu(e.firstChild):[];if(!t.length)return null;let i=window.getComputedStyle(e.parentNode),r=lO(t[0],i.direction!="rtl"),s=parseInt(i.lineHeight);return r.bottom-r.top>s*1.5?{left:r.left,right:r.right,top:r.top,bottom:r.top+s}:r}ignoreEvent(){return!1}}function ZK(n){return Pt.fromClass(class{constructor(e){this.view=e,this.placeholder=n?he.set([he.widget({widget:new VK(n),side:1}).range(0)]):he.none}get decorations(){return this.view.state.doc.length?he.none:this.placeholder}},{decorations:e=>e.decorations})}const cw=2e3;function UK(n,e,t){let i=Math.min(e.line,t.line),r=Math.max(e.line,t.line),s=[];if(e.off>cw||t.off>cw||e.col<0||t.col<0){let o=Math.min(e.off,t.off),l=Math.max(e.off,t.off);for(let u=i;u<=r;u++){let h=n.doc.line(u);h.length<=l&&s.push(L.range(h.from+o,h.to+l))}}else{let o=Math.min(e.col,t.col),l=Math.max(e.col,t.col);for(let u=i;u<=r;u++){let h=n.doc.line(u),f=W1(h.text,o,n.tabSize,!0);if(f<0)s.push(L.cursor(h.to));else{let p=W1(h.text,l,n.tabSize);s.push(L.range(h.from+f,h.from+p))}}}return s}function BK(n,e){let t=n.coordsAtPos(n.viewport.from);return t?Math.round(Math.abs((t.left-e)/n.defaultCharacterWidth)):-1}function PC(n,e){let t=n.posAtCoords({x:e.clientX,y:e.clientY},!1),i=n.state.doc.lineAt(t),r=t-i.from,s=r>cw?-1:r==i.length?BK(n,e.clientX):vu(i.text,n.state.tabSize,t-i.from);return{line:i.number,col:s,off:r}}function WK(n,e){let t=PC(n,e),i=n.state.selection;return t?{update(r){if(r.docChanged){let s=r.changes.mapPos(r.startState.doc.line(t.line).from),o=r.state.doc.lineAt(s);t={line:o.number,col:t.col,off:Math.min(t.off,o.length)},i=i.map(r.changes)}},get(r,s,o){let l=PC(n,r);if(!l)return i;let u=UK(n.state,t,l);return u.length?o?L.create(u.concat(i.ranges)):L.create(u):i}}:null}function YK(n){let e=(n==null?void 0:n.eventFilter)||(t=>t.altKey&&t.button==0);return ne.mouseSelectionStyle.of((t,i)=>e(i)?WK(t,i):null)}const FK={Alt:[18,n=>!!n.altKey],Control:[17,n=>!!n.ctrlKey],Shift:[16,n=>!!n.shiftKey],Meta:[91,n=>!!n.metaKey]},zK={style:"cursor: crosshair"};function XK(n={}){let[e,t]=FK[n.key||"Alt"],i=Pt.fromClass(class{constructor(r){this.view=r,this.isDown=!1}set(r){this.isDown!=r&&(this.isDown=r,this.view.update([]))}},{eventObservers:{keydown(r){this.set(r.keyCode==e||t(r))},keyup(r){(r.keyCode==e||!t(r))&&this.set(!1)},mousemove(r){this.set(t(r))}}});return[i,ne.contentAttributes.of(r=>{var s;return!((s=r.plugin(i))===null||s===void 0)&&s.isDown?zK:null})]}const sc="-10000px";class PM{constructor(e,t,i){this.facet=t,this.createTooltipView=i,this.input=e.state.facet(t),this.tooltips=this.input.filter(r=>r),this.tooltipViews=this.tooltips.map(i)}update(e,t){var i;let r=e.state.facet(this.facet),s=r.filter(u=>u);if(r===this.input){for(let u of this.tooltipViews)u.update&&u.update(e);return!1}let o=[],l=t?[]:null;for(let u=0;u<s.length;u++){let h=s[u],f=-1;if(h){for(let p=0;p<this.tooltips.length;p++){let g=this.tooltips[p];g&&g.create==h.create&&(f=p)}if(f<0)o[u]=this.createTooltipView(h),l&&(l[u]=!!h.above);else{let p=o[u]=this.tooltipViews[f];l&&(l[u]=t[f]),p.update&&p.update(e)}}}for(let u of this.tooltipViews)o.indexOf(u)<0&&(u.dom.remove(),(i=u.destroy)===null||i===void 0||i.call(u));return t&&(l.forEach((u,h)=>t[h]=u),t.length=l.length),this.input=r,this.tooltips=s,this.tooltipViews=o,!0}}function jK(n){let{win:e}=n;return{top:0,left:0,bottom:e.innerHeight,right:e.innerWidth}}const Uy=se.define({combine:n=>{var e,t,i;return{position:ae.ios?"absolute":((e=n.find(r=>r.position))===null||e===void 0?void 0:e.position)||"fixed",parent:((t=n.find(r=>r.parent))===null||t===void 0?void 0:t.parent)||null,tooltipSpace:((i=n.find(r=>r.tooltipSpace))===null||i===void 0?void 0:i.tooltipSpace)||jK}}}),bC=new WeakMap,bM=Pt.fromClass(class{constructor(n){this.view=n,this.above=[],this.inView=!0,this.madeAbsolute=!1,this.lastTransaction=0,this.measureTimeout=-1;let e=n.state.facet(Uy);this.position=e.position,this.parent=e.parent,this.classes=n.themeClasses,this.createContainer(),this.measureReq={read:this.readMeasure.bind(this),write:this.writeMeasure.bind(this),key:this},this.manager=new PM(n,z_,t=>this.createTooltip(t)),this.intersectionObserver=typeof IntersectionObserver=="function"?new IntersectionObserver(t=>{Date.now()>this.lastTransaction-50&&t.length>0&&t[t.length-1].intersectionRatio<1&&this.measureSoon()},{threshold:[1]}):null,this.observeIntersection(),n.win.addEventListener("resize",this.measureSoon=this.measureSoon.bind(this)),this.maybeMeasure()}createContainer(){this.parent?(this.container=document.createElement("div"),this.container.style.position="relative",this.container.className=this.view.themeClasses,this.parent.appendChild(this.container)):this.container=this.view.dom}observeIntersection(){if(this.intersectionObserver){this.intersectionObserver.disconnect();for(let n of this.manager.tooltipViews)this.intersectionObserver.observe(n.dom)}}measureSoon(){this.measureTimeout<0&&(this.measureTimeout=setTimeout(()=>{this.measureTimeout=-1,this.maybeMeasure()},50))}update(n){n.transactions.length&&(this.lastTransaction=Date.now());let e=this.manager.update(n,this.above);e&&this.observeIntersection();let t=e||n.geometryChanged,i=n.state.facet(Uy);if(i.position!=this.position&&!this.madeAbsolute){this.position=i.position;for(let r of this.manager.tooltipViews)r.dom.style.position=this.position;t=!0}if(i.parent!=this.parent){this.parent&&this.container.remove(),this.parent=i.parent,this.createContainer();for(let r of this.manager.tooltipViews)this.container.appendChild(r.dom);t=!0}else this.parent&&this.view.themeClasses!=this.classes&&(this.classes=this.container.className=this.view.themeClasses);t&&this.maybeMeasure()}createTooltip(n){let e=n.create(this.view);if(e.dom.classList.add("cm-tooltip"),n.arrow&&!e.dom.querySelector(".cm-tooltip > .cm-tooltip-arrow")){let t=document.createElement("div");t.className="cm-tooltip-arrow",e.dom.appendChild(t)}return e.dom.style.position=this.position,e.dom.style.top=sc,e.dom.style.left="0px",this.container.appendChild(e.dom),e.mount&&e.mount(this.view),e}destroy(){var n,e;this.view.win.removeEventListener("resize",this.measureSoon);for(let t of this.manager.tooltipViews)t.dom.remove(),(n=t.destroy)===null||n===void 0||n.call(t);this.parent&&this.container.remove(),(e=this.intersectionObserver)===null||e===void 0||e.disconnect(),clearTimeout(this.measureTimeout)}readMeasure(){let n=this.view.dom.getBoundingClientRect(),e=1,t=1,i=!1;if(this.position=="fixed"&&this.manager.tooltipViews.length){let{dom:r}=this.manager.tooltipViews[0];if(ae.gecko)i=r.offsetParent!=this.container.ownerDocument.body;else if(this.view.scaleX!=1||this.view.scaleY!=1)i=!0;else if(r.style.top==sc&&r.style.left=="0px"){let s=r.getBoundingClientRect();i=Math.abs(s.top+1e4)>1||Math.abs(s.left)>1}}if(i||this.position=="absolute")if(this.parent){let r=this.parent.getBoundingClientRect();r.width&&r.height&&(e=r.width/this.parent.offsetWidth,t=r.height/this.parent.offsetHeight)}else({scaleX:e,scaleY:t}=this.view.viewState);return{editor:n,parent:this.parent?this.container.getBoundingClientRect():n,pos:this.manager.tooltips.map((r,s)=>{let o=this.manager.tooltipViews[s];return o.getCoords?o.getCoords(r.pos):this.view.coordsAtPos(r.pos)}),size:this.manager.tooltipViews.map(({dom:r})=>r.getBoundingClientRect()),space:this.view.state.facet(Uy).tooltipSpace(this.view),scaleX:e,scaleY:t,makeAbsolute:i}}writeMeasure(n){var e;if(n.makeAbsolute){this.madeAbsolute=!0,this.position="absolute";for(let l of this.manager.tooltipViews)l.dom.style.position="absolute"}let{editor:t,space:i,scaleX:r,scaleY:s}=n,o=[];for(let l=0;l<this.manager.tooltips.length;l++){let u=this.manager.tooltips[l],h=this.manager.tooltipViews[l],{dom:f}=h,p=n.pos[l],g=n.size[l];if(!p||p.bottom<=Math.max(t.top,i.top)||p.top>=Math.min(t.bottom,i.bottom)||p.right<Math.max(t.left,i.left)-.1||p.left>Math.min(t.right,i.right)+.1){f.style.top=sc;continue}let O=u.arrow?h.dom.querySelector(".cm-tooltip-arrow"):null,v=O?7:0,x=g.right-g.left,k=(e=bC.get(h))!==null&&e!==void 0?e:g.bottom-g.top,w=h.offset||GK,_=this.view.textDirection==dt.LTR,E=g.width>i.right-i.left?_?i.left:i.right-g.width:_?Math.min(p.left-(O?14:0)+w.x,i.right-x):Math.max(i.left,p.left-x+(O?14:0)-w.x),b=this.above[l];!u.strictSide&&(b?p.top-(g.bottom-g.top)-w.y<i.top:p.bottom+(g.bottom-g.top)+w.y>i.bottom)&&b==i.bottom-p.bottom>p.top-i.top&&(b=this.above[l]=!b);let I=(b?p.top-i.top:i.bottom-p.bottom)-v;if(I<k&&h.resize!==!1){if(I<this.view.defaultLineHeight){f.style.top=sc;continue}bC.set(h,k),f.style.height=(k=I)/s+"px"}else f.style.height&&(f.style.height="");let Q=b?p.top-k-v-w.y:p.bottom+v+w.y,M=E+x;if(h.overlap!==!0)for(let W of o)W.left<M&&W.right>E&&W.top<Q+k&&W.bottom>Q&&(Q=b?W.top-k-2-v:W.bottom+v+2);if(this.position=="absolute"?(f.style.top=(Q-n.parent.top)/s+"px",f.style.left=(E-n.parent.left)/r+"px"):(f.style.top=Q/s+"px",f.style.left=E/r+"px"),O){let W=p.left+(_?w.x:-w.x)-(E+14-7);O.style.left=W/r+"px"}h.overlap!==!0&&o.push({left:E,top:Q,right:M,bottom:Q+k}),f.classList.toggle("cm-tooltip-above",b),f.classList.toggle("cm-tooltip-below",!b),h.positioned&&h.positioned(n.space)}}maybeMeasure(){if(this.manager.tooltips.length&&(this.view.inView&&this.view.requestMeasure(this.measureReq),this.inView!=this.view.inView&&(this.inView=this.view.inView,!this.inView)))for(let n of this.manager.tooltipViews)n.dom.style.top=sc}},{eventObservers:{scroll(){this.maybeMeasure()}}}),qK=ne.baseTheme({".cm-tooltip":{zIndex:100,boxSizing:"border-box"},"&light .cm-tooltip":{border:"1px solid #bbb",backgroundColor:"#f5f5f5"},"&light .cm-tooltip-section:not(:first-child)":{borderTop:"1px solid #bbb"},"&dark .cm-tooltip":{backgroundColor:"#333338",color:"white"},".cm-tooltip-arrow":{height:"7px",width:`${7*2}px`,position:"absolute",zIndex:-1,overflow:"hidden","&:before, &:after":{content:"''",position:"absolute",width:0,height:0,borderLeft:"7px solid transparent",borderRight:"7px solid transparent"},".cm-tooltip-above &":{bottom:"-7px","&:before":{borderTop:"7px solid #bbb"},"&:after":{borderTop:"7px solid #f5f5f5",bottom:"1px"}},".cm-tooltip-below &":{top:"-7px","&:before":{borderBottom:"7px solid #bbb"},"&:after":{borderBottom:"7px solid #f5f5f5",top:"1px"}}},"&dark .cm-tooltip .cm-tooltip-arrow":{"&:before":{borderTopColor:"#333338",borderBottomColor:"#333338"},"&:after":{borderTopColor:"transparent",borderBottomColor:"transparent"}}}),GK={x:0,y:0},z_=se.define({enables:[bM,qK]}),Wg=se.define();class X_{static create(e){return new X_(e)}constructor(e){this.view=e,this.mounted=!1,this.dom=document.createElement("div"),this.dom.classList.add("cm-tooltip-hover"),this.manager=new PM(e,Wg,t=>this.createHostedView(t))}createHostedView(e){let t=e.create(this.view);return t.dom.classList.add("cm-tooltip-section"),this.dom.appendChild(t.dom),this.mounted&&t.mount&&t.mount(this.view),t}mount(e){for(let t of this.manager.tooltipViews)t.mount&&t.mount(e);this.mounted=!0}positioned(e){for(let t of this.manager.tooltipViews)t.positioned&&t.positioned(e)}update(e){this.manager.update(e)}destroy(){var e;for(let t of this.manager.tooltipViews)(e=t.destroy)===null||e===void 0||e.call(t)}passProp(e){let t;for(let i of this.manager.tooltipViews){let r=i[e];if(r!==void 0){if(t===void 0)t=r;else if(t!==r)return}}return t}get offset(){return this.passProp("offset")}get getCoords(){return this.passProp("getCoords")}get overlap(){return this.passProp("overlap")}get resize(){return this.passProp("resize")}}const HK=z_.compute([Wg],n=>{let e=n.facet(Wg).filter(t=>t);return e.length===0?null:{pos:Math.min(...e.map(t=>t.pos)),end:Math.max(...e.filter(t=>t.end!=null).map(t=>t.end)),create:X_.create,above:e[0].above,arrow:e.some(t=>t.arrow)}});class KK{constructor(e,t,i,r,s){this.view=e,this.source=t,this.field=i,this.setHover=r,this.hoverTime=s,this.hoverTimeout=-1,this.restartTimeout=-1,this.pending=null,this.lastMove={x:0,y:0,target:e.dom,time:0},this.checkHover=this.checkHover.bind(this),e.dom.addEventListener("mouseleave",this.mouseleave=this.mouseleave.bind(this)),e.dom.addEventListener("mousemove",this.mousemove=this.mousemove.bind(this))}update(){this.pending&&(this.pending=null,clearTimeout(this.restartTimeout),this.restartTimeout=setTimeout(()=>this.startHover(),20))}get active(){return this.view.state.field(this.field)}checkHover(){if(this.hoverTimeout=-1,this.active)return;let e=Date.now()-this.lastMove.time;e<this.hoverTime?this.hoverTimeout=setTimeout(this.checkHover,this.hoverTime-e):this.startHover()}startHover(){clearTimeout(this.restartTimeout);let{view:e,lastMove:t}=this,i=e.docView.nearest(t.target);if(!i)return;let r,s=1;if(i instanceof Js)r=i.posAtStart;else{if(r=e.posAtCoords(t),r==null)return;let l=e.coordsAtPos(r);if(!l||t.y<l.top||t.y>l.bottom||t.x<l.left-e.defaultCharacterWidth||t.x>l.right+e.defaultCharacterWidth)return;let u=e.bidiSpans(e.state.doc.lineAt(r)).find(f=>f.from<=r&&f.to>=r),h=u&&u.dir==dt.RTL?-1:1;s=t.x<l.left?-h:h}let o=this.source(e,r,s);if(o!=null&&o.then){let l=this.pending={pos:r};o.then(u=>{this.pending==l&&(this.pending=null,u&&e.dispatch({effects:this.setHover.of(u)}))},u=>Zi(e.state,u,"hover tooltip"))}else o&&e.dispatch({effects:this.setHover.of(o)})}mousemove(e){var t;this.lastMove={x:e.clientX,y:e.clientY,target:e.target,time:Date.now()},this.hoverTimeout<0&&(this.hoverTimeout=setTimeout(this.checkHover,this.hoverTime));let i=this.active;if(i&&!CC(this.lastMove.target)||this.pending){let{pos:r}=i||this.pending,s=(t=i==null?void 0:i.end)!==null&&t!==void 0?t:r;(r==s?this.view.posAtCoords(this.lastMove)!=r:!JK(this.view,r,s,e.clientX,e.clientY))&&(this.view.dispatch({effects:this.setHover.of(null)}),this.pending=null)}}mouseleave(e){clearTimeout(this.hoverTimeout),this.hoverTimeout=-1,this.active&&!CC(e.relatedTarget)&&this.view.dispatch({effects:this.setHover.of(null)})}destroy(){clearTimeout(this.hoverTimeout),this.view.dom.removeEventListener("mouseleave",this.mouseleave),this.view.dom.removeEventListener("mousemove",this.mousemove)}}function CC(n){for(let e=n;e;e=e.parentNode)if(e.nodeType==1&&e.classList.contains("cm-tooltip"))return!0;return!1}function JK(n,e,t,i,r,s){let o=n.scrollDOM.getBoundingClientRect(),l=n.documentTop+n.documentPadding.top+n.contentHeight;if(o.left>i||o.right<i||o.top>r||Math.min(o.bottom,l)<r)return!1;let u=n.posAtCoords({x:i,y:r},!1);return u>=e&&u<=t}function eJ(n,e={}){let t=Se.define(),i=Ft.define({create(){return null},update(r,s){if(r&&(e.hideOnChange&&(s.docChanged||s.selection)||e.hideOn&&e.hideOn(s,r)))return null;if(r&&s.docChanged){let o=s.changes.mapPos(r.pos,-1,an.TrackDel);if(o==null)return null;let l=Object.assign(Object.create(null),r);l.pos=o,r.end!=null&&(l.end=s.changes.mapPos(r.end)),r=l}for(let o of s.effects)o.is(t)&&(r=o.value),o.is(tJ)&&(r=null);return r},provide:r=>Wg.from(r)});return[i,Pt.define(r=>new KK(r,n,i,t,e.hoverTime||300)),HK]}function CM(n,e){let t=n.plugin(bM);if(!t)return null;let i=t.manager.tooltips.indexOf(e);return i<0?null:t.manager.tooltipViews[i]}const tJ=Se.define(),AC=se.define({combine(n){let e,t;for(let i of n)e=e||i.topContainer,t=t||i.bottomContainer;return{topContainer:e,bottomContainer:t}}});function $h(n,e){let t=n.plugin(AM),i=t?t.specs.indexOf(e):-1;return i>-1?t.panels[i]:null}const AM=Pt.fromClass(class{constructor(n){this.input=n.state.facet(Qh),this.specs=this.input.filter(t=>t),this.panels=this.specs.map(t=>t(n));let e=n.state.facet(AC);this.top=new ep(n,!0,e.topContainer),this.bottom=new ep(n,!1,e.bottomContainer),this.top.sync(this.panels.filter(t=>t.top)),this.bottom.sync(this.panels.filter(t=>!t.top));for(let t of this.panels)t.dom.classList.add("cm-panel"),t.mount&&t.mount()}update(n){let e=n.state.facet(AC);this.top.container!=e.topContainer&&(this.top.sync([]),this.top=new ep(n.view,!0,e.topContainer)),this.bottom.container!=e.bottomContainer&&(this.bottom.sync([]),this.bottom=new ep(n.view,!1,e.bottomContainer)),this.top.syncClasses(),this.bottom.syncClasses();let t=n.state.facet(Qh);if(t!=this.input){let i=t.filter(u=>u),r=[],s=[],o=[],l=[];for(let u of i){let h=this.specs.indexOf(u),f;h<0?(f=u(n.view),l.push(f)):(f=this.panels[h],f.update&&f.update(n)),r.push(f),(f.top?s:o).push(f)}this.specs=i,this.panels=r,this.top.sync(s),this.bottom.sync(o);for(let u of l)u.dom.classList.add("cm-panel"),u.mount&&u.mount()}else for(let i of this.panels)i.update&&i.update(n)}destroy(){this.top.sync([]),this.bottom.sync([])}},{provide:n=>ne.scrollMargins.of(e=>{let t=e.plugin(n);return t&&{top:t.top.scrollMargin(),bottom:t.bottom.scrollMargin()}})});class ep{constructor(e,t,i){this.view=e,this.top=t,this.container=i,this.dom=void 0,this.classes="",this.panels=[],this.syncClasses()}sync(e){for(let t of this.panels)t.destroy&&e.indexOf(t)<0&&t.destroy();this.panels=e,this.syncDOM()}syncDOM(){if(this.panels.length==0){this.dom&&(this.dom.remove(),this.dom=void 0);return}if(!this.dom){this.dom=document.createElement("div"),this.dom.className=this.top?"cm-panels cm-panels-top":"cm-panels cm-panels-bottom",this.dom.style[this.top?"top":"bottom"]="0";let t=this.container||this.view.dom;t.insertBefore(this.dom,this.top?t.firstChild:null)}let e=this.dom.firstChild;for(let t of this.panels)if(t.dom.parentNode==this.dom){for(;e!=t.dom;)e=IC(e);e=e.nextSibling}else this.dom.insertBefore(t.dom,e);for(;e;)e=IC(e)}scrollMargin(){return!this.dom||this.container?0:Math.max(0,this.top?this.dom.getBoundingClientRect().bottom-Math.max(0,this.view.scrollDOM.getBoundingClientRect().top):Math.min(innerHeight,this.view.scrollDOM.getBoundingClientRect().bottom)-this.dom.getBoundingClientRect().top)}syncClasses(){if(!(!this.container||this.classes==this.view.themeClasses)){for(let e of this.classes.split(" "))e&&this.container.classList.remove(e);for(let e of(this.classes=this.view.themeClasses).split(" "))e&&this.container.classList.add(e)}}}function IC(n){let e=n.nextSibling;return n.remove(),e}const Qh=se.define({enables:AM});class xs extends Sl{compare(e){return this==e||this.constructor==e.constructor&&this.eq(e)}eq(e){return!1}destroy(e){}}xs.prototype.elementClass="";xs.prototype.toDOM=void 0;xs.prototype.mapMode=an.TrackBefore;xs.prototype.startSide=xs.prototype.endSide=-1;xs.prototype.point=!0;const Lp=se.define(),nJ={class:"",renderEmptyElements:!1,elementStyle:"",markers:()=>Be.empty,lineMarker:()=>null,widgetMarker:()=>null,lineMarkerChange:null,initialSpacer:null,updateSpacer:null,domEventHandlers:{}},Wc=se.define();function iJ(n){return[IM(),Wc.of(Object.assign(Object.assign({},nJ),n))]}const hw=se.define({combine:n=>n.some(e=>e)});function IM(n){let e=[rJ];return n&&n.fixed===!1&&e.push(hw.of(!0)),e}const rJ=Pt.fromClass(class{constructor(n){this.view=n,this.prevViewport=n.viewport,this.dom=document.createElement("div"),this.dom.className="cm-gutters",this.dom.setAttribute("aria-hidden","true"),this.dom.style.minHeight=this.view.contentHeight/this.view.scaleY+"px",this.gutters=n.state.facet(Wc).map(e=>new $C(n,e));for(let e of this.gutters)this.dom.appendChild(e.dom);this.fixed=!n.state.facet(hw),this.fixed&&(this.dom.style.position="sticky"),this.syncGutters(!1),n.scrollDOM.insertBefore(this.dom,n.contentDOM)}update(n){if(this.updateGutters(n)){let e=this.prevViewport,t=n.view.viewport,i=Math.min(e.to,t.to)-Math.max(e.from,t.from);this.syncGutters(i<(t.to-t.from)*.8)}n.geometryChanged&&(this.dom.style.minHeight=this.view.contentHeight+"px"),this.view.state.facet(hw)!=!this.fixed&&(this.fixed=!this.fixed,this.dom.style.position=this.fixed?"sticky":""),this.prevViewport=n.view.viewport}syncGutters(n){let e=this.dom.nextSibling;n&&this.dom.remove();let t=Be.iter(this.view.state.facet(Lp),this.view.viewport.from),i=[],r=this.gutters.map(s=>new sJ(s,this.view.viewport,-this.view.documentPadding.top));for(let s of this.view.viewportLineBlocks)if(i.length&&(i=[]),Array.isArray(s.type)){let o=!0;for(let l of s.type)if(l.type==Nn.Text&&o){fw(t,i,l.from);for(let u of r)u.line(this.view,l,i);o=!1}else if(l.widget)for(let u of r)u.widget(this.view,l)}else if(s.type==Nn.Text){fw(t,i,s.from);for(let o of r)o.line(this.view,s,i)}else if(s.widget)for(let o of r)o.widget(this.view,s);for(let s of r)s.finish();n&&this.view.scrollDOM.insertBefore(this.dom,e)}updateGutters(n){let e=n.startState.facet(Wc),t=n.state.facet(Wc),i=n.docChanged||n.heightChanged||n.viewportChanged||!Be.eq(n.startState.facet(Lp),n.state.facet(Lp),n.view.viewport.from,n.view.viewport.to);if(e==t)for(let r of this.gutters)r.update(n)&&(i=!0);else{i=!0;let r=[];for(let s of t){let o=e.indexOf(s);o<0?r.push(new $C(this.view,s)):(this.gutters[o].update(n),r.push(this.gutters[o]))}for(let s of this.gutters)s.dom.remove(),r.indexOf(s)<0&&s.destroy();for(let s of r)this.dom.appendChild(s.dom);this.gutters=r}return i}destroy(){for(let n of this.gutters)n.destroy();this.dom.remove()}},{provide:n=>ne.scrollMargins.of(e=>{let t=e.plugin(n);return!t||t.gutters.length==0||!t.fixed?null:e.textDirection==dt.LTR?{left:t.dom.offsetWidth*e.scaleX}:{right:t.dom.offsetWidth*e.scaleX}})});function RC(n){return Array.isArray(n)?n:[n]}function fw(n,e,t){for(;n.value&&n.from<=t;)n.from==t&&e.push(n.value),n.next()}class sJ{constructor(e,t,i){this.gutter=e,this.height=i,this.i=0,this.cursor=Be.iter(e.markers,t.from)}addElement(e,t,i){let{gutter:r}=this,s=(t.top-this.height)/e.scaleY,o=t.height/e.scaleY;if(this.i==r.elements.length){let l=new RM(e,o,s,i);r.elements.push(l),r.dom.appendChild(l.dom)}else r.elements[this.i].update(e,o,s,i);this.height=t.bottom,this.i++}line(e,t,i){let r=[];fw(this.cursor,r,t.from),i.length&&(r=r.concat(i));let s=this.gutter.config.lineMarker(e,t,r);s&&r.unshift(s);let o=this.gutter;r.length==0&&!o.config.renderEmptyElements||this.addElement(e,t,r)}widget(e,t){let i=this.gutter.config.widgetMarker(e,t.widget,t);i&&this.addElement(e,t,[i])}finish(){let e=this.gutter;for(;e.elements.length>this.i;){let t=e.elements.pop();e.dom.removeChild(t.dom),t.destroy()}}}class $C{constructor(e,t){this.view=e,this.config=t,this.elements=[],this.spacer=null,this.dom=document.createElement("div"),this.dom.className="cm-gutter"+(this.config.class?" "+this.config.class:"");for(let i in t.domEventHandlers)this.dom.addEventListener(i,r=>{let s=r.target,o;if(s!=this.dom&&this.dom.contains(s)){for(;s.parentNode!=this.dom;)s=s.parentNode;let u=s.getBoundingClientRect();o=(u.top+u.bottom)/2}else o=r.clientY;let l=e.lineBlockAtHeight(o-e.documentTop);t.domEventHandlers[i](e,l,r)&&r.preventDefault()});this.markers=RC(t.markers(e)),t.initialSpacer&&(this.spacer=new RM(e,0,0,[t.initialSpacer(e)]),this.dom.appendChild(this.spacer.dom),this.spacer.dom.style.cssText+="visibility: hidden; pointer-events: none")}update(e){let t=this.markers;if(this.markers=RC(this.config.markers(e.view)),this.spacer&&this.config.updateSpacer){let r=this.config.updateSpacer(this.spacer.markers[0],e);r!=this.spacer.markers[0]&&this.spacer.update(e.view,0,0,[r])}let i=e.view.viewport;return!Be.eq(this.markers,t,i.from,i.to)||(this.config.lineMarkerChange?this.config.lineMarkerChange(e):!1)}destroy(){for(let e of this.elements)e.destroy()}}class RM{constructor(e,t,i,r){this.height=-1,this.above=0,this.markers=[],this.dom=document.createElement("div"),this.dom.className="cm-gutterElement",this.update(e,t,i,r)}update(e,t,i,r){this.height!=t&&(this.height=t,this.dom.style.height=t+"px"),this.above!=i&&(this.dom.style.marginTop=(this.above=i)?i+"px":""),oJ(this.markers,r)||this.setMarkers(e,r)}setMarkers(e,t){let i="cm-gutterElement",r=this.dom.firstChild;for(let s=0,o=0;;){let l=o,u=s<t.length?t[s++]:null,h=!1;if(u){let f=u.elementClass;f&&(i+=" "+f);for(let p=o;p<this.markers.length;p++)if(this.markers[p].compare(u)){l=p,h=!0;break}}else l=this.markers.length;for(;o<l;){let f=this.markers[o++];if(f.toDOM){f.destroy(r);let p=r.nextSibling;r.remove(),r=p}}if(!u)break;u.toDOM&&(h?r=r.nextSibling:this.dom.insertBefore(u.toDOM(e),r)),h&&o++}this.dom.className=i,this.markers=t}destroy(){this.setMarkers(null,[])}}function oJ(n,e){if(n.length!=e.length)return!1;for(let t=0;t<n.length;t++)if(!n[t].compare(e[t]))return!1;return!0}const lJ=se.define(),ga=se.define({combine(n){return Ur(n,{formatNumber:String,domEventHandlers:{}},{domEventHandlers(e,t){let i=Object.assign({},e);for(let r in t){let s=i[r],o=t[r];i[r]=s?(l,u,h)=>s(l,u,h)||o(l,u,h):o}return i}})}});class By extends xs{constructor(e){super(),this.number=e}eq(e){return this.number==e.number}toDOM(){return document.createTextNode(this.number)}}function Wy(n,e){return n.state.facet(ga).formatNumber(e,n.state)}const aJ=Wc.compute([ga],n=>({class:"cm-lineNumbers",renderEmptyElements:!1,markers(e){return e.state.facet(lJ)},lineMarker(e,t,i){return i.some(r=>r.toDOM)?null:new By(Wy(e,e.state.doc.lineAt(t.from).number))},widgetMarker:()=>null,lineMarkerChange:e=>e.startState.facet(ga)!=e.state.facet(ga),initialSpacer(e){return new By(Wy(e,QC(e.state.doc.lines)))},updateSpacer(e,t){let i=Wy(t.view,QC(t.view.state.doc.lines));return i==e.number?e:new By(i)},domEventHandlers:n.facet(ga).domEventHandlers}));function uJ(n={}){return[ga.of(n),IM(),aJ]}function QC(n){let e=9;for(;e<n;)e=e*10+9;return e}const cJ=new class extends xs{constructor(){super(...arguments),this.elementClass="cm-activeLineGutter"}},hJ=Lp.compute(["selection"],n=>{let e=[],t=-1;for(let i of n.selection.ranges){let r=n.doc.lineAt(i.head).from;r>t&&(t=r,e.push(cJ.range(r)))}return Be.of(e)});function fJ(){return hJ}const $M=1024;let dJ=0;class Yy{constructor(e,t){this.from=e,this.to=t}}class Ie{constructor(e={}){this.id=dJ++,this.perNode=!!e.perNode,this.deserialize=e.deserialize||(()=>{throw new Error("This node type doesn't define a deserialize function")})}add(e){if(this.perNode)throw new RangeError("Can't add per-node props to node types");return typeof e!="function"&&(e=ei.match(e)),t=>{let i=e(t);return i===void 0?null:[this,i]}}}Ie.closedBy=new Ie({deserialize:n=>n.split(" ")});Ie.openedBy=new Ie({deserialize:n=>n.split(" ")});Ie.group=new Ie({deserialize:n=>n.split(" ")});Ie.contextHash=new Ie({perNode:!0});Ie.lookAhead=new Ie({perNode:!0});Ie.mounted=new Ie({perNode:!0});class Yg{constructor(e,t,i){this.tree=e,this.overlay=t,this.parser=i}static get(e){return e&&e.props&&e.props[Ie.mounted.id]}}const pJ=Object.create(null);class ei{constructor(e,t,i,r=0){this.name=e,this.props=t,this.id=i,this.flags=r}static define(e){let t=e.props&&e.props.length?Object.create(null):pJ,i=(e.top?1:0)|(e.skipped?2:0)|(e.error?4:0)|(e.name==null?8:0),r=new ei(e.name||"",t,e.id,i);if(e.props){for(let s of e.props)if(Array.isArray(s)||(s=s(r)),s){if(s[0].perNode)throw new RangeError("Can't store a per-node prop on a node type");t[s[0].id]=s[1]}}return r}prop(e){return this.props[e.id]}get isTop(){return(this.flags&1)>0}get isSkipped(){return(this.flags&2)>0}get isError(){return(this.flags&4)>0}get isAnonymous(){return(this.flags&8)>0}is(e){if(typeof e=="string"){if(this.name==e)return!0;let t=this.prop(Ie.group);return t?t.indexOf(e)>-1:!1}return this.id==e}static match(e){let t=Object.create(null);for(let i in e)for(let r of i.split(" "))t[r]=e[i];return i=>{for(let r=i.prop(Ie.group),s=-1;s<(r?r.length:0);s++){let o=t[s<0?i.name:r[s]];if(o)return o}}}}ei.none=new ei("",Object.create(null),0,8);class j_{constructor(e){this.types=e;for(let t=0;t<e.length;t++)if(e[t].id!=t)throw new RangeError("Node type ids should correspond to array positions when creating a node set")}extend(...e){let t=[];for(let i of this.types){let r=null;for(let s of e){let o=s(i);o&&(r||(r=Object.assign({},i.props)),r[o[0].id]=o[1])}t.push(r?new ei(i.name,r,i.id,i.flags):i)}return new j_(t)}}const tp=new WeakMap,DC=new WeakMap;var Ut;(function(n){n[n.ExcludeBuffers=1]="ExcludeBuffers",n[n.IncludeAnonymous=2]="IncludeAnonymous",n[n.IgnoreMounts=4]="IgnoreMounts",n[n.IgnoreOverlays=8]="IgnoreOverlays"})(Ut||(Ut={}));class $t{constructor(e,t,i,r,s){if(this.type=e,this.children=t,this.positions=i,this.length=r,this.props=null,s&&s.length){this.props=Object.create(null);for(let[o,l]of s)this.props[typeof o=="number"?o:o.id]=l}}toString(){let e=Yg.get(this);if(e&&!e.overlay)return e.tree.toString();let t="";for(let i of this.children){let r=i.toString();r&&(t&&(t+=","),t+=r)}return this.type.name?(/\W/.test(this.type.name)&&!this.type.isError?JSON.stringify(this.type.name):this.type.name)+(t.length?"("+t+")":""):t}cursor(e=0){return new pw(this.topNode,e)}cursorAt(e,t=0,i=0){let r=tp.get(this)||this.topNode,s=new pw(r);return s.moveTo(e,t),tp.set(this,s._tree),s}get topNode(){return new Jn(this,0,0,null)}resolve(e,t=0){let i=Dh(tp.get(this)||this.topNode,e,t,!1);return tp.set(this,i),i}resolveInner(e,t=0){let i=Dh(DC.get(this)||this.topNode,e,t,!0);return DC.set(this,i),i}resolveStack(e,t=0){return OJ(this,e,t)}iterate(e){let{enter:t,leave:i,from:r=0,to:s=this.length}=e,o=e.mode||0,l=(o&Ut.IncludeAnonymous)>0;for(let u=this.cursor(o|Ut.IncludeAnonymous);;){let h=!1;if(u.from<=s&&u.to>=r&&(!l&&u.type.isAnonymous||t(u)!==!1)){if(u.firstChild())continue;h=!0}for(;h&&i&&(l||!u.type.isAnonymous)&&i(u),!u.nextSibling();){if(!u.parent())return;h=!0}}}prop(e){return e.perNode?this.props?this.props[e.id]:void 0:this.type.prop(e)}get propValues(){let e=[];if(this.props)for(let t in this.props)e.push([+t,this.props[t]]);return e}balance(e={}){return this.children.length<=8?this:H_(ei.none,this.children,this.positions,0,this.children.length,0,this.length,(t,i,r)=>new $t(this.type,t,i,r,this.propValues),e.makeTree||((t,i,r)=>new $t(ei.none,t,i,r)))}static build(e){return yJ(e)}}$t.empty=new $t(ei.none,[],[],0);class q_{constructor(e,t){this.buffer=e,this.index=t}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}get pos(){return this.index}next(){this.index-=4}fork(){return new q_(this.buffer,this.index)}}class Il{constructor(e,t,i){this.buffer=e,this.length=t,this.set=i}get type(){return ei.none}toString(){let e=[];for(let t=0;t<this.buffer.length;)e.push(this.childString(t)),t=this.buffer[t+3];return e.join(",")}childString(e){let t=this.buffer[e],i=this.buffer[e+3],r=this.set.types[t],s=r.name;if(/\W/.test(s)&&!r.isError&&(s=JSON.stringify(s)),e+=4,i==e)return s;let o=[];for(;e<i;)o.push(this.childString(e)),e=this.buffer[e+3];return s+"("+o.join(",")+")"}findChild(e,t,i,r,s){let{buffer:o}=this,l=-1;for(let u=e;u!=t&&!(QM(s,r,o[u+1],o[u+2])&&(l=u,i>0));u=o[u+3]);return l}slice(e,t,i){let r=this.buffer,s=new Uint16Array(t-e),o=0;for(let l=e,u=0;l<t;){s[u++]=r[l++],s[u++]=r[l++]-i;let h=s[u++]=r[l++]-i;s[u++]=r[l++]-e,o=Math.max(o,h)}return new Il(s,o,this.set)}}function QM(n,e,t,i){switch(n){case-2:return t<e;case-1:return i>=e&&t<e;case 0:return t<e&&i>e;case 1:return t<=e&&i>e;case 2:return i>e;case 4:return!0}}function Dh(n,e,t,i){for(var r;n.from==n.to||(t<1?n.from>=e:n.from>e)||(t>-1?n.to<=e:n.to<e);){let o=!i&&n instanceof Jn&&n.index<0?null:n.parent;if(!o)return n;n=o}let s=i?0:Ut.IgnoreOverlays;if(i)for(let o=n,l=o.parent;l;o=l,l=o.parent)o instanceof Jn&&o.index<0&&((r=l.enter(e,t,s))===null||r===void 0?void 0:r.from)!=o.from&&(n=l);for(;;){let o=n.enter(e,t,s);if(!o)return n;n=o}}class DM{cursor(e=0){return new pw(this,e)}getChild(e,t=null,i=null){let r=MC(this,e,t,i);return r.length?r[0]:null}getChildren(e,t=null,i=null){return MC(this,e,t,i)}resolve(e,t=0){return Dh(this,e,t,!1)}resolveInner(e,t=0){return Dh(this,e,t,!0)}matchContext(e){return dw(this,e)}enterUnfinishedNodesBefore(e){let t=this.childBefore(e),i=this;for(;t;){let r=t.lastChild;if(!r||r.to!=t.to)break;r.type.isError&&r.from==r.to?(i=t,t=r.prevSibling):t=r}return i}get node(){return this}get next(){return this.parent}}class Jn extends DM{constructor(e,t,i,r){super(),this._tree=e,this.from=t,this.index=i,this._parent=r}get type(){return this._tree.type}get name(){return this._tree.type.name}get to(){return this.from+this._tree.length}nextChild(e,t,i,r,s=0){for(let o=this;;){for(let{children:l,positions:u}=o._tree,h=t>0?l.length:-1;e!=h;e+=t){let f=l[e],p=u[e]+o.from;if(QM(r,i,p,p+f.length)){if(f instanceof Il){if(s&Ut.ExcludeBuffers)continue;let g=f.findChild(0,f.buffer.length,t,i-p,r);if(g>-1)return new Cr(new gJ(o,f,e,p),null,g)}else if(s&Ut.IncludeAnonymous||!f.type.isAnonymous||G_(f)){let g;if(!(s&Ut.IgnoreMounts)&&(g=Yg.get(f))&&!g.overlay)return new Jn(g.tree,p,e,o);let O=new Jn(f,p,e,o);return s&Ut.IncludeAnonymous||!O.type.isAnonymous?O:O.nextChild(t<0?f.children.length-1:0,t,i,r)}}}if(s&Ut.IncludeAnonymous||!o.type.isAnonymous||(o.index>=0?e=o.index+t:e=t<0?-1:o._parent._tree.children.length,o=o._parent,!o))return null}}get firstChild(){return this.nextChild(0,1,0,4)}get lastChild(){return this.nextChild(this._tree.children.length-1,-1,0,4)}childAfter(e){return this.nextChild(0,1,e,2)}childBefore(e){return this.nextChild(this._tree.children.length-1,-1,e,-2)}enter(e,t,i=0){let r;if(!(i&Ut.IgnoreOverlays)&&(r=Yg.get(this._tree))&&r.overlay){let s=e-this.from;for(let{from:o,to:l}of r.overlay)if((t>0?o<=s:o<s)&&(t<0?l>=s:l>s))return new Jn(r.tree,r.overlay[0].from+this.from,-1,this)}return this.nextChild(0,1,e,t,i)}nextSignificantParent(){let e=this;for(;e.type.isAnonymous&&e._parent;)e=e._parent;return e}get parent(){return this._parent?this._parent.nextSignificantParent():null}get nextSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index+1,1,0,4):null}get prevSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index-1,-1,0,4):null}get tree(){return this._tree}toTree(){return this._tree}toString(){return this._tree.toString()}}function MC(n,e,t,i){let r=n.cursor(),s=[];if(!r.firstChild())return s;if(t!=null){for(;!r.type.is(t);)if(!r.nextSibling())return s}for(;;){if(i!=null&&r.type.is(i))return s;if(r.type.is(e)&&s.push(r.node),!r.nextSibling())return i==null?s:[]}}function dw(n,e,t=e.length-1){for(let i=n.parent;t>=0;i=i.parent){if(!i)return!1;if(!i.type.isAnonymous){if(e[t]&&e[t]!=i.name)return!1;t--}}return!0}class gJ{constructor(e,t,i,r){this.parent=e,this.buffer=t,this.index=i,this.start=r}}class Cr extends DM{get name(){return this.type.name}get from(){return this.context.start+this.context.buffer.buffer[this.index+1]}get to(){return this.context.start+this.context.buffer.buffer[this.index+2]}constructor(e,t,i){super(),this.context=e,this._parent=t,this.index=i,this.type=e.buffer.set.types[e.buffer.buffer[i]]}child(e,t,i){let{buffer:r}=this.context,s=r.findChild(this.index+4,r.buffer[this.index+3],e,t-this.context.start,i);return s<0?null:new Cr(this.context,this,s)}get firstChild(){return this.child(1,0,4)}get lastChild(){return this.child(-1,0,4)}childAfter(e){return this.child(1,e,2)}childBefore(e){return this.child(-1,e,-2)}enter(e,t,i=0){if(i&Ut.ExcludeBuffers)return null;let{buffer:r}=this.context,s=r.findChild(this.index+4,r.buffer[this.index+3],t>0?1:-1,e-this.context.start,t);return s<0?null:new Cr(this.context,this,s)}get parent(){return this._parent||this.context.parent.nextSignificantParent()}externalSibling(e){return this._parent?null:this.context.parent.nextChild(this.context.index+e,e,0,4)}get nextSibling(){let{buffer:e}=this.context,t=e.buffer[this.index+3];return t<(this._parent?e.buffer[this._parent.index+3]:e.buffer.length)?new Cr(this.context,this._parent,t):this.externalSibling(1)}get prevSibling(){let{buffer:e}=this.context,t=this._parent?this._parent.index+4:0;return this.index==t?this.externalSibling(-1):new Cr(this.context,this._parent,e.findChild(t,this.index,-1,0,4))}get tree(){return null}toTree(){let e=[],t=[],{buffer:i}=this.context,r=this.index+4,s=i.buffer[this.index+3];if(s>r){let o=i.buffer[this.index+1];e.push(i.slice(r,s,o)),t.push(0)}return new $t(this.type,e,t,this.to-this.from)}toString(){return this.context.buffer.childString(this.index)}}function MM(n){if(!n.length)return null;if(n.length==1)return n[0];let e=0,t=n[0];for(let s=1;s<n.length;s++){let o=n[s];(o.from>t.from||o.to<t.to)&&(t=o,e=s)}let i=t instanceof Jn&&t.index<0?null:t.parent,r=n.slice();return i?r[e]=i:r.splice(e,1),new mJ(r,t)}class mJ{constructor(e,t){this.heads=e,this.node=t}get next(){return MM(this.heads)}}function OJ(n,e,t){let i=n.resolveInner(e,t),r=null;for(let s=i instanceof Jn?i:i.context.parent;s;s=s.parent)if(s.index<0){let o=s.parent;(r||(r=[i])).push(o.resolve(e,t)),s=o}else{let o=Yg.get(s.tree);if(o&&o.overlay&&o.overlay[0].from<=e&&o.overlay[o.overlay.length-1].to>=e){let l=new Jn(o.tree,o.overlay[0].from+s.from,0,null);(r||(r=[i])).push(Dh(l,e,t,!1))}}return r?MM(r):i}class pw{get name(){return this.type.name}constructor(e,t=0){if(this.mode=t,this.buffer=null,this.stack=[],this.index=0,this.bufferNode=null,e instanceof Jn)this.yieldNode(e);else{this._tree=e.context.parent,this.buffer=e.context;for(let i=e._parent;i;i=i._parent)this.stack.unshift(i.index);this.bufferNode=e,this.yieldBuf(e.index)}}yieldNode(e){return e?(this._tree=e,this.type=e.type,this.from=e.from,this.to=e.to,!0):!1}yieldBuf(e,t){this.index=e;let{start:i,buffer:r}=this.buffer;return this.type=t||r.set.types[r.buffer[e]],this.from=i+r.buffer[e+1],this.to=i+r.buffer[e+2],!0}yield(e){return e?e instanceof Jn?(this.buffer=null,this.yieldNode(e)):(this.buffer=e.context,this.yieldBuf(e.index,e.type)):!1}toString(){return this.buffer?this.buffer.buffer.childString(this.index):this._tree.toString()}enterChild(e,t,i){if(!this.buffer)return this.yield(this._tree.nextChild(e<0?this._tree._tree.children.length-1:0,e,t,i,this.mode));let{buffer:r}=this.buffer,s=r.findChild(this.index+4,r.buffer[this.index+3],e,t-this.buffer.start,i);return s<0?!1:(this.stack.push(this.index),this.yieldBuf(s))}firstChild(){return this.enterChild(1,0,4)}lastChild(){return this.enterChild(-1,0,4)}childAfter(e){return this.enterChild(1,e,2)}childBefore(e){return this.enterChild(-1,e,-2)}enter(e,t,i=this.mode){return this.buffer?i&Ut.ExcludeBuffers?!1:this.enterChild(1,e,t):this.yield(this._tree.enter(e,t,i))}parent(){if(!this.buffer)return this.yieldNode(this.mode&Ut.IncludeAnonymous?this._tree._parent:this._tree.parent);if(this.stack.length)return this.yieldBuf(this.stack.pop());let e=this.mode&Ut.IncludeAnonymous?this.buffer.parent:this.buffer.parent.nextSignificantParent();return this.buffer=null,this.yieldNode(e)}sibling(e){if(!this.buffer)return this._tree._parent?this.yield(this._tree.index<0?null:this._tree._parent.nextChild(this._tree.index+e,e,0,4,this.mode)):!1;let{buffer:t}=this.buffer,i=this.stack.length-1;if(e<0){let r=i<0?0:this.stack[i]+4;if(this.index!=r)return this.yieldBuf(t.findChild(r,this.index,-1,0,4))}else{let r=t.buffer[this.index+3];if(r<(i<0?t.buffer.length:t.buffer[this.stack[i]+3]))return this.yieldBuf(r)}return i<0?this.yield(this.buffer.parent.nextChild(this.buffer.index+e,e,0,4,this.mode)):!1}nextSibling(){return this.sibling(1)}prevSibling(){return this.sibling(-1)}atLastNode(e){let t,i,{buffer:r}=this;if(r){if(e>0){if(this.index<r.buffer.buffer.length)return!1}else for(let s=0;s<this.index;s++)if(r.buffer.buffer[s+3]<this.index)return!1;({index:t,parent:i}=r)}else({index:t,_parent:i}=this._tree);for(;i;{index:t,_parent:i}=i)if(t>-1)for(let s=t+e,o=e<0?-1:i._tree.children.length;s!=o;s+=e){let l=i._tree.children[s];if(this.mode&Ut.IncludeAnonymous||l instanceof Il||!l.type.isAnonymous||G_(l))return!1}return!0}move(e,t){if(t&&this.enterChild(e,0,4))return!0;for(;;){if(this.sibling(e))return!0;if(this.atLastNode(e)||!this.parent())return!1}}next(e=!0){return this.move(1,e)}prev(e=!0){return this.move(-1,e)}moveTo(e,t=0){for(;(this.from==this.to||(t<1?this.from>=e:this.from>e)||(t>-1?this.to<=e:this.to<e))&&this.parent(););for(;this.enterChild(1,e,t););return this}get node(){if(!this.buffer)return this._tree;let e=this.bufferNode,t=null,i=0;if(e&&e.context==this.buffer)e:for(let r=this.index,s=this.stack.length;s>=0;){for(let o=e;o;o=o._parent)if(o.index==r){if(r==this.index)return o;t=o,i=s+1;break e}r=this.stack[--s]}for(let r=i;r<this.stack.length;r++)t=new Cr(this.buffer,t,this.stack[r]);return this.bufferNode=new Cr(this.buffer,t,this.index)}get tree(){return this.buffer?null:this._tree._tree}iterate(e,t){for(let i=0;;){let r=!1;if(this.type.isAnonymous||e(this)!==!1){if(this.firstChild()){i++;continue}this.type.isAnonymous||(r=!0)}for(;r&&t&&t(this),r=this.type.isAnonymous,!this.nextSibling();){if(!i)return;this.parent(),i--,r=!0}}}matchContext(e){if(!this.buffer)return dw(this.node,e);let{buffer:t}=this.buffer,{types:i}=t.set;for(let r=e.length-1,s=this.stack.length-1;r>=0;s--){if(s<0)return dw(this.node,e,r);let o=i[t.buffer[this.stack[s]]];if(!o.isAnonymous){if(e[r]&&e[r]!=o.name)return!1;r--}}return!0}}function G_(n){return n.children.some(e=>e instanceof Il||!e.type.isAnonymous||G_(e))}function yJ(n){var e;let{buffer:t,nodeSet:i,maxBufferLength:r=$M,reused:s=[],minRepeatType:o=i.types.length}=n,l=Array.isArray(t)?new q_(t,t.length):t,u=i.types,h=0,f=0;function p(b,I,Q,M,W){let{id:J,start:j,end:Ee,size:ze}=l,lt=f;for(;ze<0;)if(l.next(),ze==-1){let z=s[J];Q.push(z),M.push(j-b);return}else if(ze==-3){h=J;return}else if(ze==-4){f=J;return}else throw new RangeError(`Unrecognized record size: ${ze}`);let bt=u[J],_t,Ot,yt=j-b;if(Ee-j<=r&&(Ot=x(l.pos-I,W))){let z=new Uint16Array(Ot.size-Ot.skip),ie=l.pos-Ot.size,oe=z.length;for(;l.pos>ie;)oe=k(Ot.start,z,oe);_t=new Il(z,Ee-Ot.start,i),yt=Ot.start-b}else{let z=l.pos-ze;l.next();let ie=[],oe=[],Te=J>=o?J:-1,Xe=0,Fi=Ee;for(;l.pos>z;)Te>=0&&l.id==Te&&l.size>=0?(l.end<=Fi-r&&(O(ie,oe,j,Xe,l.end,Fi,Te,lt),Xe=ie.length,Fi=l.end),l.next()):p(j,z,ie,oe,Te);if(Te>=0&&Xe>0&&Xe<ie.length&&O(ie,oe,j,Xe,j,Fi,Te,lt),ie.reverse(),oe.reverse(),Te>-1&&Xe>0){let _i=g(bt);_t=H_(bt,ie,oe,0,ie.length,0,Ee-j,_i,_i)}else _t=v(bt,ie,oe,Ee-j,lt-Ee)}Q.push(_t),M.push(yt)}function g(b){return(I,Q,M)=>{let W=0,J=I.length-1,j,Ee;if(J>=0&&(j=I[J])instanceof $t){if(!J&&j.type==b&&j.length==M)return j;(Ee=j.prop(Ie.lookAhead))&&(W=Q[J]+j.length+Ee)}return v(b,I,Q,M,W)}}function O(b,I,Q,M,W,J,j,Ee){let ze=[],lt=[];for(;b.length>M;)ze.push(b.pop()),lt.push(I.pop()+Q-W);b.push(v(i.types[j],ze,lt,J-W,Ee-J)),I.push(W-Q)}function v(b,I,Q,M,W=0,J){if(h){let j=[Ie.contextHash,h];J=J?[j].concat(J):[j]}if(W>25){let j=[Ie.lookAhead,W];J=J?[j].concat(J):[j]}return new $t(b,I,Q,M,J)}function x(b,I){let Q=l.fork(),M=0,W=0,J=0,j=Q.end-r,Ee={size:0,start:0,skip:0};e:for(let ze=Q.pos-b;Q.pos>ze;){let lt=Q.size;if(Q.id==I&&lt>=0){Ee.size=M,Ee.start=W,Ee.skip=J,J+=4,M+=4,Q.next();continue}let bt=Q.pos-lt;if(lt<0||bt<ze||Q.start<j)break;let _t=Q.id>=o?4:0,Ot=Q.start;for(Q.next();Q.pos>bt;){if(Q.size<0)if(Q.size==-3)_t+=4;else break e;else Q.id>=o&&(_t+=4);Q.next()}W=Ot,M+=lt,J+=_t}return(I<0||M==b)&&(Ee.size=M,Ee.start=W,Ee.skip=J),Ee.size>4?Ee:void 0}function k(b,I,Q){let{id:M,start:W,end:J,size:j}=l;if(l.next(),j>=0&&M<o){let Ee=Q;if(j>4){let ze=l.pos-(j-4);for(;l.pos>ze;)Q=k(b,I,Q)}I[--Q]=Ee,I[--Q]=J-b,I[--Q]=W-b,I[--Q]=M}else j==-3?h=M:j==-4&&(f=M);return Q}let w=[],_=[];for(;l.pos>0;)p(n.start||0,n.bufferStart||0,w,_,-1);let E=(e=n.length)!==null&&e!==void 0?e:w.length?_[0]+w[0].length:0;return new $t(u[n.topID],w.reverse(),_.reverse(),E)}const NC=new WeakMap;function Vp(n,e){if(!n.isAnonymous||e instanceof Il||e.type!=n)return 1;let t=NC.get(e);if(t==null){t=1;for(let i of e.children){if(i.type!=n||!(i instanceof $t)){t=1;break}t+=Vp(n,i)}NC.set(e,t)}return t}function H_(n,e,t,i,r,s,o,l,u){let h=0;for(let v=i;v<r;v++)h+=Vp(n,e[v]);let f=Math.ceil(h*1.5/8),p=[],g=[];function O(v,x,k,w,_){for(let E=k;E<w;){let b=E,I=x[E],Q=Vp(n,v[E]);for(E++;E<w;E++){let M=Vp(n,v[E]);if(Q+M>=f)break;Q+=M}if(E==b+1){if(Q>f){let M=v[b];O(M.children,M.positions,0,M.children.length,x[b]+_);continue}p.push(v[b])}else{let M=x[E-1]+v[E-1].length-I;p.push(H_(n,v,x,b,E,I,M,null,u))}g.push(I+_-s)}}return O(e,t,i,r,0),(l||u)(p,g,o)}class vJ{constructor(){this.map=new WeakMap}setBuffer(e,t,i){let r=this.map.get(e);r||this.map.set(e,r=new Map),r.set(t,i)}getBuffer(e,t){let i=this.map.get(e);return i&&i.get(t)}set(e,t){e instanceof Cr?this.setBuffer(e.context.buffer,e.index,t):e instanceof Jn&&this.map.set(e.tree,t)}get(e){return e instanceof Cr?this.getBuffer(e.context.buffer,e.index):e instanceof Jn?this.map.get(e.tree):void 0}cursorSet(e,t){e.buffer?this.setBuffer(e.buffer.buffer,e.index,t):this.map.set(e.tree,t)}cursorGet(e){return e.buffer?this.getBuffer(e.buffer.buffer,e.index):this.map.get(e.tree)}}class ul{constructor(e,t,i,r,s=!1,o=!1){this.from=e,this.to=t,this.tree=i,this.offset=r,this.open=(s?1:0)|(o?2:0)}get openStart(){return(this.open&1)>0}get openEnd(){return(this.open&2)>0}static addTree(e,t=[],i=!1){let r=[new ul(0,e.length,e,0,!1,i)];for(let s of t)s.to>e.length&&r.push(s);return r}static applyChanges(e,t,i=128){if(!t.length)return e;let r=[],s=1,o=e.length?e[0]:null;for(let l=0,u=0,h=0;;l++){let f=l<t.length?t[l]:null,p=f?f.fromA:1e9;if(p-u>=i)for(;o&&o.from<p;){let g=o;if(u>=g.from||p<=g.to||h){let O=Math.max(g.from,u)-h,v=Math.min(g.to,p)-h;g=O>=v?null:new ul(O,v,g.tree,g.offset+h,l>0,!!f)}if(g&&r.push(g),o.to>p)break;o=s<e.length?e[s++]:null}if(!f)break;u=f.toA,h=f.toA-f.toB}return r}}class NM{startParse(e,t,i){return typeof e=="string"&&(e=new wJ(e)),i=i?i.length?i.map(r=>new Yy(r.from,r.to)):[new Yy(0,0)]:[new Yy(0,e.length)],this.createParse(e,t||[],i)}parse(e,t,i){let r=this.startParse(e,t,i);for(;;){let s=r.advance();if(s)return s}}}class wJ{constructor(e){this.string=e}get length(){return this.string.length}chunk(e){return this.string.slice(e)}get lineChunks(){return!1}read(e,t){return this.string.slice(e,t)}}new Ie({perNode:!0});let SJ=0;class _r{constructor(e,t,i){this.set=e,this.base=t,this.modified=i,this.id=SJ++}static define(e){if(e!=null&&e.base)throw new Error("Can not derive from a modified tag");let t=new _r([],null,[]);if(t.set.push(t),e)for(let i of e.set)t.set.push(i);return t}static defineModifier(){let e=new Fg;return t=>t.modified.indexOf(e)>-1?t:Fg.get(t.base||t,t.modified.concat(e).sort((i,r)=>i.id-r.id))}}let _J=0;class Fg{constructor(){this.instances=[],this.id=_J++}static get(e,t){if(!t.length)return e;let i=t[0].instances.find(l=>l.base==e&&xJ(t,l.modified));if(i)return i;let r=[],s=new _r(r,e,t);for(let l of t)l.instances.push(s);let o=TJ(t);for(let l of e.set)if(!l.modified.length)for(let u of o)r.push(Fg.get(l,u));return s}}function xJ(n,e){return n.length==e.length&&n.every((t,i)=>t==e[i])}function TJ(n){let e=[[]];for(let t=0;t<n.length;t++)for(let i=0,r=e.length;i<r;i++)e.push(e[i].concat(n[t]));return e.sort((t,i)=>i.length-t.length)}function LM(n){let e=Object.create(null);for(let t in n){let i=n[t];Array.isArray(i)||(i=[i]);for(let r of t.split(" "))if(r){let s=[],o=2,l=r;for(let p=0;;){if(l=="..."&&p>0&&p+3==r.length){o=1;break}let g=/^"(?:[^"\\]|\\.)*?"|[^\/!]+/.exec(l);if(!g)throw new RangeError("Invalid path: "+r);if(s.push(g[0]=="*"?"":g[0][0]=='"'?JSON.parse(g[0]):g[0]),p+=g[0].length,p==r.length)break;let O=r[p++];if(p==r.length&&O=="!"){o=0;break}if(O!="/")throw new RangeError("Invalid path: "+r);l=r.slice(p)}let u=s.length-1,h=s[u];if(!h)throw new RangeError("Invalid path: "+r);let f=new zg(i,o,u>0?s.slice(0,u):null);e[h]=f.sort(e[h])}}return VM.add(e)}const VM=new Ie;class zg{constructor(e,t,i,r){this.tags=e,this.mode=t,this.context=i,this.next=r}get opaque(){return this.mode==0}get inherit(){return this.mode==1}sort(e){return!e||e.depth<this.depth?(this.next=e,this):(e.next=this.sort(e.next),e)}get depth(){return this.context?this.context.length:0}}zg.empty=new zg([],2,null);function ZM(n,e){let t=Object.create(null);for(let s of n)if(!Array.isArray(s.tag))t[s.tag.id]=s.class;else for(let o of s.tag)t[o.id]=s.class;let{scope:i,all:r=null}=e||{};return{style:s=>{let o=r;for(let l of s)for(let u of l.set){let h=t[u.id];if(h){o=o?o+" "+h:h;break}}return o},scope:i}}function kJ(n,e){let t=null;for(let i of n){let r=i.style(e);r&&(t=t?t+" "+r:r)}return t}function EJ(n,e,t,i=0,r=n.length){let s=new PJ(i,Array.isArray(e)?e:[e],t);s.highlightRange(n.cursor(),i,r,"",s.highlighters),s.flush(r)}class PJ{constructor(e,t,i){this.at=e,this.highlighters=t,this.span=i,this.class=""}startSpan(e,t){t!=this.class&&(this.flush(e),e>this.at&&(this.at=e),this.class=t)}flush(e){e>this.at&&this.class&&this.span(this.at,e,this.class)}highlightRange(e,t,i,r,s){let{type:o,from:l,to:u}=e;if(l>=i||u<=t)return;o.isTop&&(s=this.highlighters.filter(O=>!O.scope||O.scope(o)));let h=r,f=bJ(e)||zg.empty,p=kJ(s,f.tags);if(p&&(h&&(h+=" "),h+=p,f.mode==1&&(r+=(r?" ":"")+p)),this.startSpan(Math.max(t,l),h),f.opaque)return;let g=e.tree&&e.tree.prop(Ie.mounted);if(g&&g.overlay){let O=e.node.enter(g.overlay[0].from+l,1),v=this.highlighters.filter(k=>!k.scope||k.scope(g.tree.type)),x=e.firstChild();for(let k=0,w=l;;k++){let _=k<g.overlay.length?g.overlay[k]:null,E=_?_.from+l:u,b=Math.max(t,w),I=Math.min(i,E);if(b<I&&x)for(;e.from<I&&(this.highlightRange(e,b,I,r,s),this.startSpan(Math.min(I,e.to),h),!(e.to>=E||!e.nextSibling())););if(!_||E>i)break;w=_.to+l,w>t&&(this.highlightRange(O.cursor(),Math.max(t,_.from+l),Math.min(i,w),"",v),this.startSpan(Math.min(i,w),h))}x&&e.parent()}else if(e.firstChild()){g&&(r="");do if(!(e.to<=t)){if(e.from>=i)break;this.highlightRange(e,t,i,r,s),this.startSpan(Math.min(i,e.to),h)}while(e.nextSibling());e.parent()}}}function bJ(n){let e=n.type.prop(VM);for(;e&&e.context&&!n.matchContext(e.context);)e=e.next;return e||null}const q=_r.define,np=q(),Zs=q(),LC=q(Zs),VC=q(Zs),Us=q(),ip=q(Us),Fy=q(Us),wr=q(),Yo=q(wr),yr=q(),vr=q(),gw=q(),oc=q(gw),rp=q(),A={comment:np,lineComment:q(np),blockComment:q(np),docComment:q(np),name:Zs,variableName:q(Zs),typeName:LC,tagName:q(LC),propertyName:VC,attributeName:q(VC),className:q(Zs),labelName:q(Zs),namespace:q(Zs),macroName:q(Zs),literal:Us,string:ip,docString:q(ip),character:q(ip),attributeValue:q(ip),number:Fy,integer:q(Fy),float:q(Fy),bool:q(Us),regexp:q(Us),escape:q(Us),color:q(Us),url:q(Us),keyword:yr,self:q(yr),null:q(yr),atom:q(yr),unit:q(yr),modifier:q(yr),operatorKeyword:q(yr),controlKeyword:q(yr),definitionKeyword:q(yr),moduleKeyword:q(yr),operator:vr,derefOperator:q(vr),arithmeticOperator:q(vr),logicOperator:q(vr),bitwiseOperator:q(vr),compareOperator:q(vr),updateOperator:q(vr),definitionOperator:q(vr),typeOperator:q(vr),controlOperator:q(vr),punctuation:gw,separator:q(gw),bracket:oc,angleBracket:q(oc),squareBracket:q(oc),paren:q(oc),brace:q(oc),content:wr,heading:Yo,heading1:q(Yo),heading2:q(Yo),heading3:q(Yo),heading4:q(Yo),heading5:q(Yo),heading6:q(Yo),contentSeparator:q(wr),list:q(wr),quote:q(wr),emphasis:q(wr),strong:q(wr),link:q(wr),monospace:q(wr),strikethrough:q(wr),inserted:q(),deleted:q(),changed:q(),invalid:q(),meta:rp,documentMeta:q(rp),annotation:q(rp),processingInstruction:q(rp),definition:_r.defineModifier(),constant:_r.defineModifier(),function:_r.defineModifier(),standard:_r.defineModifier(),local:_r.defineModifier(),special:_r.defineModifier()};ZM([{tag:A.link,class:"tok-link"},{tag:A.heading,class:"tok-heading"},{tag:A.emphasis,class:"tok-emphasis"},{tag:A.strong,class:"tok-strong"},{tag:A.keyword,class:"tok-keyword"},{tag:A.atom,class:"tok-atom"},{tag:A.bool,class:"tok-bool"},{tag:A.url,class:"tok-url"},{tag:A.labelName,class:"tok-labelName"},{tag:A.inserted,class:"tok-inserted"},{tag:A.deleted,class:"tok-deleted"},{tag:A.literal,class:"tok-literal"},{tag:A.string,class:"tok-string"},{tag:A.number,class:"tok-number"},{tag:[A.regexp,A.escape,A.special(A.string)],class:"tok-string2"},{tag:A.variableName,class:"tok-variableName"},{tag:A.local(A.variableName),class:"tok-variableName tok-local"},{tag:A.definition(A.variableName),class:"tok-variableName tok-definition"},{tag:A.special(A.variableName),class:"tok-variableName2"},{tag:A.definition(A.propertyName),class:"tok-propertyName tok-definition"},{tag:A.typeName,class:"tok-typeName"},{tag:A.namespace,class:"tok-namespace"},{tag:A.className,class:"tok-className"},{tag:A.macroName,class:"tok-macroName"},{tag:A.propertyName,class:"tok-propertyName"},{tag:A.operator,class:"tok-operator"},{tag:A.comment,class:"tok-comment"},{tag:A.meta,class:"tok-meta"},{tag:A.invalid,class:"tok-invalid"},{tag:A.punctuation,class:"tok-punctuation"}]);var zy;const ma=new Ie;function UM(n){return se.define({combine:n?e=>e.concat(n):void 0})}const K_=new Ie;class ir{constructor(e,t,i=[],r=""){this.data=e,this.name=r,Me.prototype.hasOwnProperty("tree")||Object.defineProperty(Me.prototype,"tree",{get(){return Dt(this)}}),this.parser=t,this.extension=[bo.of(this),Me.languageData.of((s,o,l)=>{let u=ZC(s,o,l),h=u.type.prop(ma);if(!h)return[];let f=s.facet(h),p=u.type.prop(K_);if(p){let g=u.resolve(o-u.from,l);for(let O of p)if(O.test(g,s)){let v=s.facet(O.facet);return O.type=="replace"?v:v.concat(f)}}return f})].concat(i)}isActiveAt(e,t,i=-1){return ZC(e,t,i).type.prop(ma)==this.data}findRegions(e){let t=e.facet(bo);if((t==null?void 0:t.data)==this.data)return[{from:0,to:e.doc.length}];if(!t||!t.allowsNesting)return[];let i=[],r=(s,o)=>{if(s.prop(ma)==this.data){i.push({from:o,to:o+s.length});return}let l=s.prop(Ie.mounted);if(l){if(l.tree.prop(ma)==this.data){if(l.overlay)for(let u of l.overlay)i.push({from:u.from+o,to:u.to+o});else i.push({from:o,to:o+s.length});return}else if(l.overlay){let u=i.length;if(r(l.tree,l.overlay[0].from+o),i.length>u)return}}for(let u=0;u<s.children.length;u++){let h=s.children[u];h instanceof $t&&r(h,s.positions[u]+o)}};return r(Dt(e),0),i}get allowsNesting(){return!0}}ir.setState=Se.define();function ZC(n,e,t){let i=n.facet(bo),r=Dt(n).topNode;if(!i||i.allowsNesting)for(let s=r;s;s=s.enter(e,t,Ut.ExcludeBuffers))s.type.isTop&&(r=s);return r}class Xg extends ir{constructor(e,t,i){super(e,t,[],i),this.parser=t}static define(e){let t=UM(e.languageData);return new Xg(t,e.parser.configure({props:[ma.add(i=>i.isTop?t:void 0)]}),e.name)}configure(e,t){return new Xg(this.data,this.parser.configure(e),t||this.name)}get allowsNesting(){return this.parser.hasWrappers()}}function Dt(n){let e=n.field(ir.state,!1);return e?e.tree:$t.empty}class CJ{constructor(e){this.doc=e,this.cursorPos=0,this.string="",this.cursor=e.iter()}get length(){return this.doc.length}syncTo(e){return this.string=this.cursor.next(e-this.cursorPos).value,this.cursorPos=e+this.string.length,this.cursorPos-this.string.length}chunk(e){return this.syncTo(e),this.string}get lineChunks(){return!0}read(e,t){let i=this.cursorPos-this.string.length;return e<i||t>=this.cursorPos?this.doc.sliceString(e,t):this.string.slice(e-i,t-i)}}let lc=null;class jg{constructor(e,t,i=[],r,s,o,l,u){this.parser=e,this.state=t,this.fragments=i,this.tree=r,this.treeLen=s,this.viewport=o,this.skipped=l,this.scheduleOn=u,this.parse=null,this.tempSkipped=[]}static create(e,t,i){return new jg(e,t,[],$t.empty,0,i,[],null)}startParse(){return this.parser.startParse(new CJ(this.state.doc),this.fragments)}work(e,t){return t!=null&&t>=this.state.doc.length&&(t=void 0),this.tree!=$t.empty&&this.isDone(t??this.state.doc.length)?(this.takeTree(),!0):this.withContext(()=>{var i;if(typeof e=="number"){let r=Date.now()+e;e=()=>Date.now()>r}for(this.parse||(this.parse=this.startParse()),t!=null&&(this.parse.stoppedAt==null||this.parse.stoppedAt>t)&&t<this.state.doc.length&&this.parse.stopAt(t);;){let r=this.parse.advance();if(r)if(this.fragments=this.withoutTempSkipped(ul.addTree(r,this.fragments,this.parse.stoppedAt!=null)),this.treeLen=(i=this.parse.stoppedAt)!==null&&i!==void 0?i:this.state.doc.length,this.tree=r,this.parse=null,this.treeLen<(t??this.state.doc.length))this.parse=this.startParse();else return!0;if(e())return!1}})}takeTree(){let e,t;this.parse&&(e=this.parse.parsedPos)>=this.treeLen&&((this.parse.stoppedAt==null||this.parse.stoppedAt>e)&&this.parse.stopAt(e),this.withContext(()=>{for(;!(t=this.parse.advance()););}),this.treeLen=e,this.tree=t,this.fragments=this.withoutTempSkipped(ul.addTree(this.tree,this.fragments,!0)),this.parse=null)}withContext(e){let t=lc;lc=this;try{return e()}finally{lc=t}}withoutTempSkipped(e){for(let t;t=this.tempSkipped.pop();)e=UC(e,t.from,t.to);return e}changes(e,t){let{fragments:i,tree:r,treeLen:s,viewport:o,skipped:l}=this;if(this.takeTree(),!e.empty){let u=[];if(e.iterChangedRanges((h,f,p,g)=>u.push({fromA:h,toA:f,fromB:p,toB:g})),i=ul.applyChanges(i,u),r=$t.empty,s=0,o={from:e.mapPos(o.from,-1),to:e.mapPos(o.to,1)},this.skipped.length){l=[];for(let h of this.skipped){let f=e.mapPos(h.from,1),p=e.mapPos(h.to,-1);f<p&&l.push({from:f,to:p})}}}return new jg(this.parser,t,i,r,s,o,l,this.scheduleOn)}updateViewport(e){if(this.viewport.from==e.from&&this.viewport.to==e.to)return!1;this.viewport=e;let t=this.skipped.length;for(let i=0;i<this.skipped.length;i++){let{from:r,to:s}=this.skipped[i];r<e.to&&s>e.from&&(this.fragments=UC(this.fragments,r,s),this.skipped.splice(i--,1))}return this.skipped.length>=t?!1:(this.reset(),!0)}reset(){this.parse&&(this.takeTree(),this.parse=null)}skipUntilInView(e,t){this.skipped.push({from:e,to:t})}static getSkippingParser(e){return new class extends NM{createParse(t,i,r){let s=r[0].from,o=r[r.length-1].to;return{parsedPos:s,advance(){let u=lc;if(u){for(let h of r)u.tempSkipped.push(h);e&&(u.scheduleOn=u.scheduleOn?Promise.all([u.scheduleOn,e]):e)}return this.parsedPos=o,new $t(ei.none,[],[],o-s)},stoppedAt:null,stopAt(){}}}}}isDone(e){e=Math.min(e,this.state.doc.length);let t=this.fragments;return this.treeLen>=e&&t.length&&t[0].from==0&&t[0].to>=e}static get(){return lc}}function UC(n,e,t){return ul.applyChanges(n,[{fromA:e,toA:t,fromB:e,toB:t}])}class iu{constructor(e){this.context=e,this.tree=e.tree}apply(e){if(!e.docChanged&&this.tree==this.context.tree)return this;let t=this.context.changes(e.changes,e.state),i=this.context.treeLen==e.startState.doc.length?void 0:Math.max(e.changes.mapPos(this.context.treeLen),t.viewport.to);return t.work(20,i)||t.takeTree(),new iu(t)}static init(e){let t=Math.min(3e3,e.doc.length),i=jg.create(e.facet(bo).parser,e,{from:0,to:t});return i.work(20,t)||i.takeTree(),new iu(i)}}ir.state=Ft.define({create:iu.init,update(n,e){for(let t of e.effects)if(t.is(ir.setState))return t.value;return e.startState.facet(bo)!=e.state.facet(bo)?iu.init(e.state):n.apply(e)}});let BM=n=>{let e=setTimeout(()=>n(),500);return()=>clearTimeout(e)};typeof requestIdleCallback<"u"&&(BM=n=>{let e=-1,t=setTimeout(()=>{e=requestIdleCallback(n,{timeout:500-100})},100);return()=>e<0?clearTimeout(t):cancelIdleCallback(e)});const Xy=typeof navigator<"u"&&(!((zy=navigator.scheduling)===null||zy===void 0)&&zy.isInputPending)?()=>navigator.scheduling.isInputPending():null,AJ=Pt.fromClass(class{constructor(e){this.view=e,this.working=null,this.workScheduled=0,this.chunkEnd=-1,this.chunkBudget=-1,this.work=this.work.bind(this),this.scheduleWork()}update(e){let t=this.view.state.field(ir.state).context;(t.updateViewport(e.view.viewport)||this.view.viewport.to>t.treeLen)&&this.scheduleWork(),(e.docChanged||e.selectionSet)&&(this.view.hasFocus&&(this.chunkBudget+=50),this.scheduleWork()),this.checkAsyncSchedule(t)}scheduleWork(){if(this.working)return;let{state:e}=this.view,t=e.field(ir.state);(t.tree!=t.context.tree||!t.context.isDone(e.doc.length))&&(this.working=BM(this.work))}work(e){this.working=null;let t=Date.now();if(this.chunkEnd<t&&(this.chunkEnd<0||this.view.hasFocus)&&(this.chunkEnd=t+3e4,this.chunkBudget=3e3),this.chunkBudget<=0)return;let{state:i,viewport:{to:r}}=this.view,s=i.field(ir.state);if(s.tree==s.context.tree&&s.context.isDone(r+1e5))return;let o=Date.now()+Math.min(this.chunkBudget,100,e&&!Xy?Math.max(25,e.timeRemaining()-5):1e9),l=s.context.treeLen<r&&i.doc.length>r+1e3,u=s.context.work(()=>Xy&&Xy()||Date.now()>o,r+(l?0:1e5));this.chunkBudget-=Date.now()-t,(u||this.chunkBudget<=0)&&(s.context.takeTree(),this.view.dispatch({effects:ir.setState.of(new iu(s.context))})),this.chunkBudget>0&&!(u&&!l)&&this.scheduleWork(),this.checkAsyncSchedule(s.context)}checkAsyncSchedule(e){e.scheduleOn&&(this.workScheduled++,e.scheduleOn.then(()=>this.scheduleWork()).catch(t=>Zi(this.view.state,t)).then(()=>this.workScheduled--),e.scheduleOn=null)}destroy(){this.working&&this.working()}isWorking(){return!!(this.working||this.workScheduled>0)}},{eventHandlers:{focus(){this.scheduleWork()}}}),bo=se.define({combine(n){return n.length?n[0]:null},enables:n=>[ir.state,AJ,ne.contentAttributes.compute([n],e=>{let t=e.facet(n);return t&&t.name?{"data-language":t.name}:{}})]});class IJ{constructor(e,t=[]){this.language=e,this.support=t,this.extension=[e,t]}}const RJ=se.define(),cO=se.define({combine:n=>{if(!n.length)return"  ";let e=n[0];if(!e||/\S/.test(e)||Array.from(e).some(t=>t!=e[0]))throw new Error("Invalid indent unit: "+JSON.stringify(n[0]));return e}});function qg(n){let e=n.facet(cO);return e.charCodeAt(0)==9?n.tabSize*e.length:e.length}function Mh(n,e){let t="",i=n.tabSize,r=n.facet(cO)[0];if(r=="	"){for(;e>=i;)t+="	",e-=i;r=" "}for(let s=0;s<e;s++)t+=r;return t}function J_(n,e){n instanceof Me&&(n=new hO(n));for(let i of n.state.facet(RJ)){let r=i(n,e);if(r!==void 0)return r}let t=Dt(n.state);return t.length>=e?$J(n,t,e):null}class hO{constructor(e,t={}){this.state=e,this.options=t,this.unit=qg(e)}lineAt(e,t=1){let i=this.state.doc.lineAt(e),{simulateBreak:r,simulateDoubleBreak:s}=this.options;return r!=null&&r>=i.from&&r<=i.to?s&&r==e?{text:"",from:e}:(t<0?r<e:r<=e)?{text:i.text.slice(r-i.from),from:r}:{text:i.text.slice(0,r-i.from),from:i.from}:i}textAfterPos(e,t=1){if(this.options.simulateDoubleBreak&&e==this.options.simulateBreak)return"";let{text:i,from:r}=this.lineAt(e,t);return i.slice(e-r,Math.min(i.length,e+100-r))}column(e,t=1){let{text:i,from:r}=this.lineAt(e,t),s=this.countColumn(i,e-r),o=this.options.overrideIndentation?this.options.overrideIndentation(r):-1;return o>-1&&(s+=o-this.countColumn(i,i.search(/\S|$/))),s}countColumn(e,t=e.length){return vu(e,this.state.tabSize,t)}lineIndent(e,t=1){let{text:i,from:r}=this.lineAt(e,t),s=this.options.overrideIndentation;if(s){let o=s(r);if(o>-1)return o}return this.countColumn(i,i.search(/\S|$/))}get simulatedBreak(){return this.options.simulateBreak||null}}const WM=new Ie;function $J(n,e,t){let i=e.resolveStack(t),r=i.node.enterUnfinishedNodesBefore(t);if(r!=i.node){let s=[];for(let o=r;o!=i.node;o=o.parent)s.push(o);for(let o=s.length-1;o>=0;o--)i={node:s[o],next:i}}return YM(i,n,t)}function YM(n,e,t){for(let i=n;i;i=i.next){let r=DJ(i.node);if(r)return r(ex.create(e,t,i))}return 0}function QJ(n){return n.pos==n.options.simulateBreak&&n.options.simulateDoubleBreak}function DJ(n){let e=n.type.prop(WM);if(e)return e;let t=n.firstChild,i;if(t&&(i=t.type.prop(Ie.closedBy))){let r=n.lastChild,s=r&&i.indexOf(r.name)>-1;return o=>FM(o,!0,1,void 0,s&&!QJ(o)?r.from:void 0)}return n.parent==null?MJ:null}function MJ(){return 0}class ex extends hO{constructor(e,t,i){super(e.state,e.options),this.base=e,this.pos=t,this.context=i}get node(){return this.context.node}static create(e,t,i){return new ex(e,t,i)}get textAfter(){return this.textAfterPos(this.pos)}get baseIndent(){return this.baseIndentFor(this.node)}baseIndentFor(e){let t=this.state.doc.lineAt(e.from);for(;;){let i=e.resolve(t.from);for(;i.parent&&i.parent.from==i.from;)i=i.parent;if(NJ(i,e))break;t=this.state.doc.lineAt(i.from)}return this.lineIndent(t.from)}continue(){return YM(this.context.next,this.base,this.pos)}}function NJ(n,e){for(let t=e;t;t=t.parent)if(n==t)return!0;return!1}function LJ(n){let e=n.node,t=e.childAfter(e.from),i=e.lastChild;if(!t)return null;let r=n.options.simulateBreak,s=n.state.doc.lineAt(t.from),o=r==null||r<=s.from?s.to:Math.min(s.to,r);for(let l=t.to;;){let u=e.childAfter(l);if(!u||u==i)return null;if(!u.type.isSkipped)return u.from<o?t:null;l=u.to}}function VJ({closing:n,align:e=!0,units:t=1}){return i=>FM(i,e,t,n)}function FM(n,e,t,i,r){let s=n.textAfter,o=s.match(/^\s*/)[0].length,l=i&&s.slice(o,o+i.length)==i||r==n.pos+o,u=e?LJ(n):null;return u?l?n.column(u.from):n.column(u.to):n.baseIndent+(l?0:n.unit*t)}const ZJ=n=>n.baseIndent;function jy({except:n,units:e=1}={}){return t=>{let i=n&&n.test(t.textAfter);return t.baseIndent+(i?0:e*t.unit)}}const UJ=200;function BJ(){return Me.transactionFilter.of(n=>{if(!n.docChanged||!n.isUserEvent("input.type")&&!n.isUserEvent("input.complete"))return n;let e=n.startState.languageDataAt("indentOnInput",n.startState.selection.main.head);if(!e.length)return n;let t=n.newDoc,{head:i}=n.newSelection.main,r=t.lineAt(i);if(i>r.from+UJ)return n;let s=t.sliceString(r.from,i);if(!e.some(h=>h.test(s)))return n;let{state:o}=n,l=-1,u=[];for(let{head:h}of o.selection.ranges){let f=o.doc.lineAt(h);if(f.from==l)continue;l=f.from;let p=J_(o,f.from);if(p==null)continue;let g=/^\s*/.exec(f.text)[0],O=Mh(o,p);g!=O&&u.push({from:f.from,to:f.from+g.length,insert:O})}return u.length?[n,{changes:u,sequential:!0}]:n})}const WJ=se.define(),zM=new Ie;function YJ(n){let e=n.firstChild,t=n.lastChild;return e&&e.to<t.from?{from:e.to,to:t.type.isError?n.to:t.from}:null}function FJ(n,e,t){let i=Dt(n);if(i.length<t)return null;let r=i.resolveStack(t,1),s=null;for(let o=r;o;o=o.next){let l=o.node;if(l.to<=t||l.from>t)continue;if(s&&l.from<e)break;let u=l.type.prop(zM);if(u&&(l.to<i.length-50||i.length==n.doc.length||!zJ(l))){let h=u(l,n);h&&h.from<=t&&h.from>=e&&h.to>t&&(s=h)}}return s}function zJ(n){let e=n.lastChild;return e&&e.to==n.to&&e.type.isError}function Gg(n,e,t){for(let i of n.facet(WJ)){let r=i(n,e,t);if(r)return r}return FJ(n,e,t)}function XM(n,e){let t=e.mapPos(n.from,1),i=e.mapPos(n.to,-1);return t>=i?void 0:{from:t,to:i}}const fO=Se.define({map:XM}),Sf=Se.define({map:XM});function jM(n){let e=[];for(let{head:t}of n.state.selection.ranges)e.some(i=>i.from<=t&&i.to>=t)||e.push(n.lineBlockAt(t));return e}const xl=Ft.define({create(){return he.none},update(n,e){n=n.map(e.changes);for(let t of e.effects)if(t.is(fO)&&!XJ(n,t.value.from,t.value.to)){let{preparePlaceholder:i}=e.state.facet(tx),r=i?he.replace({widget:new eee(i(e.state,t.value))}):BC;n=n.update({add:[r.range(t.value.from,t.value.to)]})}else t.is(Sf)&&(n=n.update({filter:(i,r)=>t.value.from!=i||t.value.to!=r,filterFrom:t.value.from,filterTo:t.value.to}));if(e.selection){let t=!1,{head:i}=e.selection.main;n.between(i,i,(r,s)=>{r<i&&s>i&&(t=!0)}),t&&(n=n.update({filterFrom:i,filterTo:i,filter:(r,s)=>s<=i||r>=i}))}return n},provide:n=>ne.decorations.from(n),toJSON(n,e){let t=[];return n.between(0,e.doc.length,(i,r)=>{t.push(i,r)}),t},fromJSON(n){if(!Array.isArray(n)||n.length%2)throw new RangeError("Invalid JSON for fold state");let e=[];for(let t=0;t<n.length;){let i=n[t++],r=n[t++];if(typeof i!="number"||typeof r!="number")throw new RangeError("Invalid JSON for fold state");e.push(BC.range(i,r))}return he.set(e,!0)}});function Hg(n,e,t){var i;let r=null;return(i=n.field(xl,!1))===null||i===void 0||i.between(e,t,(s,o)=>{(!r||r.from>s)&&(r={from:s,to:o})}),r}function XJ(n,e,t){let i=!1;return n.between(e,e,(r,s)=>{r==e&&s==t&&(i=!0)}),i}function qM(n,e){return n.field(xl,!1)?e:e.concat(Se.appendConfig.of(HM()))}const jJ=n=>{for(let e of jM(n)){let t=Gg(n.state,e.from,e.to);if(t)return n.dispatch({effects:qM(n.state,[fO.of(t),GM(n,t)])}),!0}return!1},qJ=n=>{if(!n.state.field(xl,!1))return!1;let e=[];for(let t of jM(n)){let i=Hg(n.state,t.from,t.to);i&&e.push(Sf.of(i),GM(n,i,!1))}return e.length&&n.dispatch({effects:e}),e.length>0};function GM(n,e,t=!0){let i=n.state.doc.lineAt(e.from).number,r=n.state.doc.lineAt(e.to).number;return ne.announce.of(`${n.state.phrase(t?"Folded lines":"Unfolded lines")} ${i} ${n.state.phrase("to")} ${r}.`)}const GJ=n=>{let{state:e}=n,t=[];for(let i=0;i<e.doc.length;){let r=n.lineBlockAt(i),s=Gg(e,r.from,r.to);s&&t.push(fO.of(s)),i=(s?n.lineBlockAt(s.to):r).to+1}return t.length&&n.dispatch({effects:qM(n.state,t)}),!!t.length},HJ=n=>{let e=n.state.field(xl,!1);if(!e||!e.size)return!1;let t=[];return e.between(0,n.state.doc.length,(i,r)=>{t.push(Sf.of({from:i,to:r}))}),n.dispatch({effects:t}),!0},KJ=[{key:"Ctrl-Shift-[",mac:"Cmd-Alt-[",run:jJ},{key:"Ctrl-Shift-]",mac:"Cmd-Alt-]",run:qJ},{key:"Ctrl-Alt-[",run:GJ},{key:"Ctrl-Alt-]",run:HJ}],JJ={placeholderDOM:null,preparePlaceholder:null,placeholderText:"…"},tx=se.define({combine(n){return Ur(n,JJ)}});function HM(n){let e=[xl,iee];return n&&e.push(tx.of(n)),e}function KM(n,e){let{state:t}=n,i=t.facet(tx),r=o=>{let l=n.lineBlockAt(n.posAtDOM(o.target)),u=Hg(n.state,l.from,l.to);u&&n.dispatch({effects:Sf.of(u)}),o.preventDefault()};if(i.placeholderDOM)return i.placeholderDOM(n,r,e);let s=document.createElement("span");return s.textContent=i.placeholderText,s.setAttribute("aria-label",t.phrase("folded code")),s.title=t.phrase("unfold"),s.className="cm-foldPlaceholder",s.onclick=r,s}const BC=he.replace({widget:new class extends Br{toDOM(n){return KM(n,null)}}});class eee extends Br{constructor(e){super(),this.value=e}eq(e){return this.value==e.value}toDOM(e){return KM(e,this.value)}}const tee={openText:"⌄",closedText:"›",markerDOM:null,domEventHandlers:{},foldingChanged:()=>!1};class qy extends xs{constructor(e,t){super(),this.config=e,this.open=t}eq(e){return this.config==e.config&&this.open==e.open}toDOM(e){if(this.config.markerDOM)return this.config.markerDOM(this.open);let t=document.createElement("span");return t.textContent=this.open?this.config.openText:this.config.closedText,t.title=e.state.phrase(this.open?"Fold line":"Unfold line"),t}}function nee(n={}){let e=Object.assign(Object.assign({},tee),n),t=new qy(e,!0),i=new qy(e,!1),r=Pt.fromClass(class{constructor(o){this.from=o.viewport.from,this.markers=this.buildMarkers(o)}update(o){(o.docChanged||o.viewportChanged||o.startState.facet(bo)!=o.state.facet(bo)||o.startState.field(xl,!1)!=o.state.field(xl,!1)||Dt(o.startState)!=Dt(o.state)||e.foldingChanged(o))&&(this.markers=this.buildMarkers(o.view))}buildMarkers(o){let l=new To;for(let u of o.viewportLineBlocks){let h=Hg(o.state,u.from,u.to)?i:Gg(o.state,u.from,u.to)?t:null;h&&l.add(u.from,u.from,h)}return l.finish()}}),{domEventHandlers:s}=e;return[r,iJ({class:"cm-foldGutter",markers(o){var l;return((l=o.plugin(r))===null||l===void 0?void 0:l.markers)||Be.empty},initialSpacer(){return new qy(e,!1)},domEventHandlers:Object.assign(Object.assign({},s),{click:(o,l,u)=>{if(s.click&&s.click(o,l,u))return!0;let h=Hg(o.state,l.from,l.to);if(h)return o.dispatch({effects:Sf.of(h)}),!0;let f=Gg(o.state,l.from,l.to);return f?(o.dispatch({effects:fO.of(f)}),!0):!1}})}),HM()]}const iee=ne.baseTheme({".cm-foldPlaceholder":{backgroundColor:"#eee",border:"1px solid #ddd",color:"#888",borderRadius:".2em",margin:"0 1px",padding:"0 1px",cursor:"pointer"},".cm-foldGutter span":{padding:"0 1px",cursor:"pointer"}});class _f{constructor(e,t){this.specs=e;let i;function r(l){let u=ko.newName();return(i||(i=Object.create(null)))["."+u]=l,u}const s=typeof t.all=="string"?t.all:t.all?r(t.all):void 0,o=t.scope;this.scope=o instanceof ir?l=>l.prop(ma)==o.data:o?l=>l==o:void 0,this.style=ZM(e.map(l=>({tag:l.tag,class:l.class||r(Object.assign({},l,{tag:null}))})),{all:s}).style,this.module=i?new ko(i):null,this.themeType=t.themeType}static define(e,t){return new _f(e,t||{})}}const mw=se.define(),JM=se.define({combine(n){return n.length?[n[0]]:null}});function Gy(n){let e=n.facet(mw);return e.length?e:n.facet(JM)}function eN(n,e){let t=[see],i;return n instanceof _f&&(n.module&&t.push(ne.styleModule.of(n.module)),i=n.themeType),e!=null&&e.fallback?t.push(JM.of(n)):i?t.push(mw.computeN([ne.darkTheme],r=>r.facet(ne.darkTheme)==(i=="dark")?[n]:[])):t.push(mw.of(n)),t}class ree{constructor(e){this.markCache=Object.create(null),this.tree=Dt(e.state),this.decorations=this.buildDeco(e,Gy(e.state))}update(e){let t=Dt(e.state),i=Gy(e.state),r=i!=Gy(e.startState);t.length<e.view.viewport.to&&!r&&t.type==this.tree.type?this.decorations=this.decorations.map(e.changes):(t!=this.tree||e.viewportChanged||r)&&(this.tree=t,this.decorations=this.buildDeco(e.view,i))}buildDeco(e,t){if(!t||!this.tree.length)return he.none;let i=new To;for(let{from:r,to:s}of e.visibleRanges)EJ(this.tree,t,(o,l,u)=>{i.add(o,l,this.markCache[u]||(this.markCache[u]=he.mark({class:u})))},r,s);return i.finish()}}const see=Al.high(Pt.fromClass(ree,{decorations:n=>n.decorations})),oee=_f.define([{tag:A.meta,color:"#404740"},{tag:A.link,textDecoration:"underline"},{tag:A.heading,textDecoration:"underline",fontWeight:"bold"},{tag:A.emphasis,fontStyle:"italic"},{tag:A.strong,fontWeight:"bold"},{tag:A.strikethrough,textDecoration:"line-through"},{tag:A.keyword,color:"#708"},{tag:[A.atom,A.bool,A.url,A.contentSeparator,A.labelName],color:"#219"},{tag:[A.literal,A.inserted],color:"#164"},{tag:[A.string,A.deleted],color:"#a11"},{tag:[A.regexp,A.escape,A.special(A.string)],color:"#e40"},{tag:A.definition(A.variableName),color:"#00f"},{tag:A.local(A.variableName),color:"#30a"},{tag:[A.typeName,A.namespace],color:"#085"},{tag:A.className,color:"#167"},{tag:[A.special(A.variableName),A.macroName],color:"#256"},{tag:A.definition(A.propertyName),color:"#00c"},{tag:A.comment,color:"#940"},{tag:A.invalid,color:"#f00"}]),lee=ne.baseTheme({"&.cm-focused .cm-matchingBracket":{backgroundColor:"#328c8252"},"&.cm-focused .cm-nonmatchingBracket":{backgroundColor:"#bb555544"}}),tN=1e4,nN="()[]{}",iN=se.define({combine(n){return Ur(n,{afterCursor:!0,brackets:nN,maxScanDistance:tN,renderMatch:cee})}}),aee=he.mark({class:"cm-matchingBracket"}),uee=he.mark({class:"cm-nonmatchingBracket"});function cee(n){let e=[],t=n.matched?aee:uee;return e.push(t.range(n.start.from,n.start.to)),n.end&&e.push(t.range(n.end.from,n.end.to)),e}const hee=Ft.define({create(){return he.none},update(n,e){if(!e.docChanged&&!e.selection)return n;let t=[],i=e.state.facet(iN);for(let r of e.state.selection.ranges){if(!r.empty)continue;let s=Ar(e.state,r.head,-1,i)||r.head>0&&Ar(e.state,r.head-1,1,i)||i.afterCursor&&(Ar(e.state,r.head,1,i)||r.head<e.state.doc.length&&Ar(e.state,r.head+1,-1,i));s&&(t=t.concat(i.renderMatch(s,e.state)))}return he.set(t,!0)},provide:n=>ne.decorations.from(n)}),fee=[hee,lee];function dee(n={}){return[iN.of(n),fee]}const pee=new Ie;function Ow(n,e,t){let i=n.prop(e<0?Ie.openedBy:Ie.closedBy);if(i)return i;if(n.name.length==1){let r=t.indexOf(n.name);if(r>-1&&r%2==(e<0?1:0))return[t[r+e]]}return null}function yw(n){let e=n.type.prop(pee);return e?e(n.node):n}function Ar(n,e,t,i={}){let r=i.maxScanDistance||tN,s=i.brackets||nN,o=Dt(n),l=o.resolveInner(e,t);for(let u=l;u;u=u.parent){let h=Ow(u.type,t,s);if(h&&u.from<u.to){let f=yw(u);if(f&&(t>0?e>=f.from&&e<f.to:e>f.from&&e<=f.to))return gee(n,e,t,u,f,h,s)}}return mee(n,e,t,o,l.type,r,s)}function gee(n,e,t,i,r,s,o){let l=i.parent,u={from:r.from,to:r.to},h=0,f=l==null?void 0:l.cursor();if(f&&(t<0?f.childBefore(i.from):f.childAfter(i.to)))do if(t<0?f.to<=i.from:f.from>=i.to){if(h==0&&s.indexOf(f.type.name)>-1&&f.from<f.to){let p=yw(f);return{start:u,end:p?{from:p.from,to:p.to}:void 0,matched:!0}}else if(Ow(f.type,t,o))h++;else if(Ow(f.type,-t,o)){if(h==0){let p=yw(f);return{start:u,end:p&&p.from<p.to?{from:p.from,to:p.to}:void 0,matched:!1}}h--}}while(t<0?f.prevSibling():f.nextSibling());return{start:u,matched:!1}}function mee(n,e,t,i,r,s,o){let l=t<0?n.sliceDoc(e-1,e):n.sliceDoc(e,e+1),u=o.indexOf(l);if(u<0||u%2==0!=t>0)return null;let h={from:t<0?e-1:e,to:t>0?e+1:e},f=n.doc.iterRange(e,t>0?n.doc.length:0),p=0;for(let g=0;!f.next().done&&g<=s;){let O=f.value;t<0&&(g+=O.length);let v=e+g*t;for(let x=t>0?0:O.length-1,k=t>0?O.length:-1;x!=k;x+=t){let w=o.indexOf(O[x]);if(!(w<0||i.resolveInner(v+x,1).type!=r))if(w%2==0==t>0)p++;else{if(p==1)return{start:h,end:{from:v+x,to:v+x+1},matched:w>>1==u>>1};p--}}t>0&&(g+=O.length)}return f.done?{start:h,matched:!1}:null}const Oee=Object.create(null),WC=[ei.none],YC=[],yee=Object.create(null);for(let[n,e]of[["variable","variableName"],["variable-2","variableName.special"],["string-2","string.special"],["def","variableName.definition"],["tag","tagName"],["attribute","attributeName"],["type","typeName"],["builtin","variableName.standard"],["qualifier","modifier"],["error","invalid"],["header","heading"],["property","propertyName"]])yee[n]=vee(Oee,e);function Hy(n,e){YC.indexOf(n)>-1||(YC.push(n),console.warn(e))}function vee(n,e){let t=[];for(let s of e.split(" ")){let o=[];for(let l of s.split(".")){let u=n[l]||A[l];u?typeof u=="function"?o.length?o=o.map(u):Hy(l,`Modifier ${l} used at start of tag`):o.length?Hy(l,`Tag ${l} used as modifier`):o=Array.isArray(u)?u:[u]:Hy(l,`Unknown highlighting tag ${l}`)}for(let l of o)t.push(l)}if(!t.length)return 0;let i=e.replace(/ /g,"_"),r=ei.define({id:WC.length,name:i,props:[LM({[i]:t})]});return WC.push(r),r.id}const wee=n=>{let{state:e}=n,t=e.doc.lineAt(e.selection.main.from),i=ix(n.state,t.from);return i.line?See(n):i.block?xee(n):!1};function nx(n,e){return({state:t,dispatch:i})=>{if(t.readOnly)return!1;let r=n(e,t);return r?(i(t.update(r)),!0):!1}}const See=nx(Eee,0),_ee=nx(rN,0),xee=nx((n,e)=>rN(n,e,kee(e)),0);function ix(n,e){let t=n.languageDataAt("commentTokens",e);return t.length?t[0]:{}}const ac=50;function Tee(n,{open:e,close:t},i,r){let s=n.sliceDoc(i-ac,i),o=n.sliceDoc(r,r+ac),l=/\s*$/.exec(s)[0].length,u=/^\s*/.exec(o)[0].length,h=s.length-l;if(s.slice(h-e.length,h)==e&&o.slice(u,u+t.length)==t)return{open:{pos:i-l,margin:l&&1},close:{pos:r+u,margin:u&&1}};let f,p;r-i<=2*ac?f=p=n.sliceDoc(i,r):(f=n.sliceDoc(i,i+ac),p=n.sliceDoc(r-ac,r));let g=/^\s*/.exec(f)[0].length,O=/\s*$/.exec(p)[0].length,v=p.length-O-t.length;return f.slice(g,g+e.length)==e&&p.slice(v,v+t.length)==t?{open:{pos:i+g+e.length,margin:/\s/.test(f.charAt(g+e.length))?1:0},close:{pos:r-O-t.length,margin:/\s/.test(p.charAt(v-1))?1:0}}:null}function kee(n){let e=[];for(let t of n.selection.ranges){let i=n.doc.lineAt(t.from),r=t.to<=i.to?i:n.doc.lineAt(t.to),s=e.length-1;s>=0&&e[s].to>i.from?e[s].to=r.to:e.push({from:i.from+/^\s*/.exec(i.text)[0].length,to:r.to})}return e}function rN(n,e,t=e.selection.ranges){let i=t.map(s=>ix(e,s.from).block);if(!i.every(s=>s))return null;let r=t.map((s,o)=>Tee(e,i[o],s.from,s.to));if(n!=2&&!r.every(s=>s))return{changes:e.changes(t.map((s,o)=>r[o]?[]:[{from:s.from,insert:i[o].open+" "},{from:s.to,insert:" "+i[o].close}]))};if(n!=1&&r.some(s=>s)){let s=[];for(let o=0,l;o<r.length;o++)if(l=r[o]){let u=i[o],{open:h,close:f}=l;s.push({from:h.pos-u.open.length,to:h.pos+h.margin},{from:f.pos-f.margin,to:f.pos+u.close.length})}return{changes:s}}return null}function Eee(n,e,t=e.selection.ranges){let i=[],r=-1;for(let{from:s,to:o}of t){let l=i.length,u=1e9,h=ix(e,s).line;if(h){for(let f=s;f<=o;){let p=e.doc.lineAt(f);if(p.from>r&&(s==o||o>p.from)){r=p.from;let g=/^\s*/.exec(p.text)[0].length,O=g==p.length,v=p.text.slice(g,g+h.length)==h?g:-1;g<p.text.length&&g<u&&(u=g),i.push({line:p,comment:v,token:h,indent:g,empty:O,single:!1})}f=p.to+1}if(u<1e9)for(let f=l;f<i.length;f++)i[f].indent<i[f].line.text.length&&(i[f].indent=u);i.length==l+1&&(i[l].single=!0)}}if(n!=2&&i.some(s=>s.comment<0&&(!s.empty||s.single))){let s=[];for(let{line:l,token:u,indent:h,empty:f,single:p}of i)(p||!f)&&s.push({from:l.from+h,insert:u+" "});let o=e.changes(s);return{changes:o,selection:e.selection.map(o,1)}}else if(n!=1&&i.some(s=>s.comment>=0)){let s=[];for(let{line:o,comment:l,token:u}of i)if(l>=0){let h=o.from+l,f=h+u.length;o.text[f-o.from]==" "&&f++,s.push({from:h,to:f})}return{changes:s}}return null}const vw=Es.define(),Pee=Es.define(),bee=se.define(),sN=se.define({combine(n){return Ur(n,{minDepth:100,newGroupDelay:500,joinToEvent:(e,t)=>t},{minDepth:Math.max,newGroupDelay:Math.min,joinToEvent:(e,t)=>(i,r)=>e(i,r)||t(i,r)})}});function Cee(n){let e=0;return n.iterChangedRanges((t,i)=>e=i),e}const oN=Ft.define({create(){return Ir.empty},update(n,e){let t=e.state.facet(sN),i=e.annotation(vw);if(i){let u=e.docChanged?L.single(Cee(e.changes)):void 0,h=qn.fromTransaction(e,u),f=i.side,p=f==0?n.undone:n.done;return h?p=Kg(p,p.length,t.minDepth,h):p=uN(p,e.startState.selection),new Ir(f==0?i.rest:p,f==0?p:i.rest)}let r=e.annotation(Pee);if((r=="full"||r=="before")&&(n=n.isolate()),e.annotation(Wt.addToHistory)===!1)return e.changes.empty?n:n.addMapping(e.changes.desc);let s=qn.fromTransaction(e),o=e.annotation(Wt.time),l=e.annotation(Wt.userEvent);return s?n=n.addChanges(s,o,l,t,e):e.selection&&(n=n.addSelection(e.startState.selection,o,l,t.newGroupDelay)),(r=="full"||r=="after")&&(n=n.isolate()),n},toJSON(n){return{done:n.done.map(e=>e.toJSON()),undone:n.undone.map(e=>e.toJSON())}},fromJSON(n){return new Ir(n.done.map(qn.fromJSON),n.undone.map(qn.fromJSON))}});function Aee(n={}){return[oN,sN.of(n),ne.domEventHandlers({beforeinput(e,t){let i=e.inputType=="historyUndo"?lN:e.inputType=="historyRedo"?ww:null;return i?(e.preventDefault(),i(t)):!1}})]}function dO(n,e){return function({state:t,dispatch:i}){if(!e&&t.readOnly)return!1;let r=t.field(oN,!1);if(!r)return!1;let s=r.pop(n,t,e);return s?(i(s),!0):!1}}const lN=dO(0,!1),ww=dO(1,!1),Iee=dO(0,!0),Ree=dO(1,!0);class qn{constructor(e,t,i,r,s){this.changes=e,this.effects=t,this.mapped=i,this.startSelection=r,this.selectionsAfter=s}setSelAfter(e){return new qn(this.changes,this.effects,this.mapped,this.startSelection,e)}toJSON(){var e,t,i;return{changes:(e=this.changes)===null||e===void 0?void 0:e.toJSON(),mapped:(t=this.mapped)===null||t===void 0?void 0:t.toJSON(),startSelection:(i=this.startSelection)===null||i===void 0?void 0:i.toJSON(),selectionsAfter:this.selectionsAfter.map(r=>r.toJSON())}}static fromJSON(e){return new qn(e.changes&&Zt.fromJSON(e.changes),[],e.mapped&&Lr.fromJSON(e.mapped),e.startSelection&&L.fromJSON(e.startSelection),e.selectionsAfter.map(L.fromJSON))}static fromTransaction(e,t){let i=Li;for(let r of e.startState.facet(bee)){let s=r(e);s.length&&(i=i.concat(s))}return!i.length&&e.changes.empty?null:new qn(e.changes.invert(e.startState.doc),i,void 0,t||e.startState.selection,Li)}static selection(e){return new qn(void 0,Li,void 0,void 0,e)}}function Kg(n,e,t,i){let r=e+1>t+20?e-t-1:0,s=n.slice(r,e);return s.push(i),s}function $ee(n,e){let t=[],i=!1;return n.iterChangedRanges((r,s)=>t.push(r,s)),e.iterChangedRanges((r,s,o,l)=>{for(let u=0;u<t.length;){let h=t[u++],f=t[u++];l>=h&&o<=f&&(i=!0)}}),i}function Qee(n,e){return n.ranges.length==e.ranges.length&&n.ranges.filter((t,i)=>t.empty!=e.ranges[i].empty).length===0}function aN(n,e){return n.length?e.length?n.concat(e):n:e}const Li=[],Dee=200;function uN(n,e){if(n.length){let t=n[n.length-1],i=t.selectionsAfter.slice(Math.max(0,t.selectionsAfter.length-Dee));return i.length&&i[i.length-1].eq(e)?n:(i.push(e),Kg(n,n.length-1,1e9,t.setSelAfter(i)))}else return[qn.selection([e])]}function Mee(n){let e=n[n.length-1],t=n.slice();return t[n.length-1]=e.setSelAfter(e.selectionsAfter.slice(0,e.selectionsAfter.length-1)),t}function Ky(n,e){if(!n.length)return n;let t=n.length,i=Li;for(;t;){let r=Nee(n[t-1],e,i);if(r.changes&&!r.changes.empty||r.effects.length){let s=n.slice(0,t);return s[t-1]=r,s}else e=r.mapped,t--,i=r.selectionsAfter}return i.length?[qn.selection(i)]:Li}function Nee(n,e,t){let i=aN(n.selectionsAfter.length?n.selectionsAfter.map(l=>l.map(e)):Li,t);if(!n.changes)return qn.selection(i);let r=n.changes.map(e),s=e.mapDesc(n.changes,!0),o=n.mapped?n.mapped.composeDesc(s):s;return new qn(r,Se.mapEffects(n.effects,e),o,n.startSelection.map(s),i)}const Lee=/^(input\.type|delete)($|\.)/;class Ir{constructor(e,t,i=0,r=void 0){this.done=e,this.undone=t,this.prevTime=i,this.prevUserEvent=r}isolate(){return this.prevTime?new Ir(this.done,this.undone):this}addChanges(e,t,i,r,s){let o=this.done,l=o[o.length-1];return l&&l.changes&&!l.changes.empty&&e.changes&&(!i||Lee.test(i))&&(!l.selectionsAfter.length&&t-this.prevTime<r.newGroupDelay&&r.joinToEvent(s,$ee(l.changes,e.changes))||i=="input.type.compose")?o=Kg(o,o.length-1,r.minDepth,new qn(e.changes.compose(l.changes),aN(e.effects,l.effects),l.mapped,l.startSelection,Li)):o=Kg(o,o.length,r.minDepth,e),new Ir(o,Li,t,i)}addSelection(e,t,i,r){let s=this.done.length?this.done[this.done.length-1].selectionsAfter:Li;return s.length>0&&t-this.prevTime<r&&i==this.prevUserEvent&&i&&/^select($|\.)/.test(i)&&Qee(s[s.length-1],e)?this:new Ir(uN(this.done,e),this.undone,t,i)}addMapping(e){return new Ir(Ky(this.done,e),Ky(this.undone,e),this.prevTime,this.prevUserEvent)}pop(e,t,i){let r=e==0?this.done:this.undone;if(r.length==0)return null;let s=r[r.length-1];if(i&&s.selectionsAfter.length)return t.update({selection:s.selectionsAfter[s.selectionsAfter.length-1],annotations:vw.of({side:e,rest:Mee(r)}),userEvent:e==0?"select.undo":"select.redo",scrollIntoView:!0});if(s.changes){let o=r.length==1?Li:r.slice(0,r.length-1);return s.mapped&&(o=Ky(o,s.mapped)),t.update({changes:s.changes,selection:s.startSelection,effects:s.effects,annotations:vw.of({side:e,rest:o}),filter:!1,userEvent:e==0?"undo":"redo",scrollIntoView:!0})}else return null}}Ir.empty=new Ir(Li,Li);const Vee=[{key:"Mod-z",run:lN,preventDefault:!0},{key:"Mod-y",mac:"Mod-Shift-z",run:ww,preventDefault:!0},{linux:"Ctrl-Shift-z",run:ww,preventDefault:!0},{key:"Mod-u",run:Iee,preventDefault:!0},{key:"Alt-u",mac:"Mod-Shift-u",run:Ree,preventDefault:!0}];function wu(n,e){return L.create(n.ranges.map(e),n.mainIndex)}function Wr(n,e){return n.update({selection:e,scrollIntoView:!0,userEvent:"select"})}function hr({state:n,dispatch:e},t){let i=wu(n.selection,t);return i.eq(n.selection)?!1:(e(Wr(n,i)),!0)}function pO(n,e){return L.cursor(e?n.to:n.from)}function cN(n,e){return hr(n,t=>t.empty?n.moveByChar(t,e):pO(t,e))}function An(n){return n.textDirectionAt(n.state.selection.main.head)==dt.LTR}const hN=n=>cN(n,!An(n)),fN=n=>cN(n,An(n));function dN(n,e){return hr(n,t=>t.empty?n.moveByGroup(t,e):pO(t,e))}const Zee=n=>dN(n,!An(n)),Uee=n=>dN(n,An(n));function Bee(n,e,t){if(e.type.prop(t))return!0;let i=e.to-e.from;return i&&(i>2||/[^\s,.;:]/.test(n.sliceDoc(e.from,e.to)))||e.firstChild}function gO(n,e,t){let i=Dt(n).resolveInner(e.head),r=t?Ie.closedBy:Ie.openedBy;for(let u=e.head;;){let h=t?i.childAfter(u):i.childBefore(u);if(!h)break;Bee(n,h,r)?i=h:u=t?h.to:h.from}let s=i.type.prop(r),o,l;return s&&(o=t?Ar(n,i.from,1):Ar(n,i.to,-1))&&o.matched?l=t?o.end.to:o.end.from:l=t?i.to:i.from,L.cursor(l,t?-1:1)}const Wee=n=>hr(n,e=>gO(n.state,e,!An(n))),Yee=n=>hr(n,e=>gO(n.state,e,An(n)));function pN(n,e){return hr(n,t=>{if(!t.empty)return pO(t,e);let i=n.moveVertically(t,e);return i.head!=t.head?i:n.moveToLineBoundary(t,e)})}const gN=n=>pN(n,!1),mN=n=>pN(n,!0);function ON(n){let e=n.scrollDOM.clientHeight<n.scrollDOM.scrollHeight-2,t=0,i=0,r;if(e){for(let s of n.state.facet(ne.scrollMargins)){let o=s(n);o!=null&&o.top&&(t=Math.max(o==null?void 0:o.top,t)),o!=null&&o.bottom&&(i=Math.max(o==null?void 0:o.bottom,i))}r=n.scrollDOM.clientHeight-t-i}else r=(n.dom.ownerDocument.defaultView||window).innerHeight;return{marginTop:t,marginBottom:i,selfScroll:e,height:Math.max(n.defaultLineHeight,r-5)}}function yN(n,e){let t=ON(n),{state:i}=n,r=wu(i.selection,o=>o.empty?n.moveVertically(o,e,t.height):pO(o,e));if(r.eq(i.selection))return!1;let s;if(t.selfScroll){let o=n.coordsAtPos(i.selection.main.head),l=n.scrollDOM.getBoundingClientRect(),u=l.top+t.marginTop,h=l.bottom-t.marginBottom;o&&o.top>u&&o.bottom<h&&(s=ne.scrollIntoView(r.main.head,{y:"start",yMargin:o.top-u}))}return n.dispatch(Wr(i,r),{effects:s}),!0}const FC=n=>yN(n,!1),Sw=n=>yN(n,!0);function Qo(n,e,t){let i=n.lineBlockAt(e.head),r=n.moveToLineBoundary(e,t);if(r.head==e.head&&r.head!=(t?i.to:i.from)&&(r=n.moveToLineBoundary(e,t,!1)),!t&&r.head==i.from&&i.length){let s=/^\s*/.exec(n.state.sliceDoc(i.from,Math.min(i.from+100,i.to)))[0].length;s&&e.head!=i.from+s&&(r=L.cursor(i.from+s))}return r}const Fee=n=>hr(n,e=>Qo(n,e,!0)),zee=n=>hr(n,e=>Qo(n,e,!1)),Xee=n=>hr(n,e=>Qo(n,e,!An(n))),jee=n=>hr(n,e=>Qo(n,e,An(n))),qee=n=>hr(n,e=>L.cursor(n.lineBlockAt(e.head).from,1)),Gee=n=>hr(n,e=>L.cursor(n.lineBlockAt(e.head).to,-1));function Hee(n,e,t){let i=!1,r=wu(n.selection,s=>{let o=Ar(n,s.head,-1)||Ar(n,s.head,1)||s.head>0&&Ar(n,s.head-1,1)||s.head<n.doc.length&&Ar(n,s.head+1,-1);if(!o||!o.end)return s;i=!0;let l=o.start.from==s.head?o.end.to:o.end.from;return t?L.range(s.anchor,l):L.cursor(l)});return i?(e(Wr(n,r)),!0):!1}const Kee=({state:n,dispatch:e})=>Hee(n,e,!1);function Yi(n,e){let t=wu(n.state.selection,i=>{let r=e(i);return L.range(i.anchor,r.head,r.goalColumn,r.bidiLevel||void 0)});return t.eq(n.state.selection)?!1:(n.dispatch(Wr(n.state,t)),!0)}function vN(n,e){return Yi(n,t=>n.moveByChar(t,e))}const wN=n=>vN(n,!An(n)),SN=n=>vN(n,An(n));function _N(n,e){return Yi(n,t=>n.moveByGroup(t,e))}const Jee=n=>_N(n,!An(n)),ete=n=>_N(n,An(n)),tte=n=>Yi(n,e=>gO(n.state,e,!An(n))),nte=n=>Yi(n,e=>gO(n.state,e,An(n)));function xN(n,e){return Yi(n,t=>n.moveVertically(t,e))}const TN=n=>xN(n,!1),kN=n=>xN(n,!0);function EN(n,e){return Yi(n,t=>n.moveVertically(t,e,ON(n).height))}const zC=n=>EN(n,!1),XC=n=>EN(n,!0),ite=n=>Yi(n,e=>Qo(n,e,!0)),rte=n=>Yi(n,e=>Qo(n,e,!1)),ste=n=>Yi(n,e=>Qo(n,e,!An(n))),ote=n=>Yi(n,e=>Qo(n,e,An(n))),lte=n=>Yi(n,e=>L.cursor(n.lineBlockAt(e.head).from)),ate=n=>Yi(n,e=>L.cursor(n.lineBlockAt(e.head).to)),jC=({state:n,dispatch:e})=>(e(Wr(n,{anchor:0})),!0),qC=({state:n,dispatch:e})=>(e(Wr(n,{anchor:n.doc.length})),!0),GC=({state:n,dispatch:e})=>(e(Wr(n,{anchor:n.selection.main.anchor,head:0})),!0),HC=({state:n,dispatch:e})=>(e(Wr(n,{anchor:n.selection.main.anchor,head:n.doc.length})),!0),ute=({state:n,dispatch:e})=>(e(n.update({selection:{anchor:0,head:n.doc.length},userEvent:"select"})),!0),cte=({state:n,dispatch:e})=>{let t=mO(n).map(({from:i,to:r})=>L.range(i,Math.min(r+1,n.doc.length)));return e(n.update({selection:L.create(t),userEvent:"select"})),!0},hte=({state:n,dispatch:e})=>{let t=wu(n.selection,i=>{var r;let s=Dt(n).resolveStack(i.from,1);for(let o=s;o;o=o.next){let{node:l}=o;if((l.from<i.from&&l.to>=i.to||l.to>i.to&&l.from<=i.from)&&(!((r=l.parent)===null||r===void 0)&&r.parent))return L.range(l.to,l.from)}return i});return e(Wr(n,t)),!0},fte=({state:n,dispatch:e})=>{let t=n.selection,i=null;return t.ranges.length>1?i=L.create([t.main]):t.main.empty||(i=L.create([L.cursor(t.main.head)])),i?(e(Wr(n,i)),!0):!1};function xf(n,e){if(n.state.readOnly)return!1;let t="delete.selection",{state:i}=n,r=i.changeByRange(s=>{let{from:o,to:l}=s;if(o==l){let u=e(s);u<o?(t="delete.backward",u=sp(n,u,!1)):u>o&&(t="delete.forward",u=sp(n,u,!0)),o=Math.min(o,u),l=Math.max(l,u)}else o=sp(n,o,!1),l=sp(n,l,!0);return o==l?{range:s}:{changes:{from:o,to:l},range:L.cursor(o,o<s.head?-1:1)}});return r.changes.empty?!1:(n.dispatch(i.update(r,{scrollIntoView:!0,userEvent:t,effects:t=="delete.selection"?ne.announce.of(i.phrase("Selection deleted")):void 0})),!0)}function sp(n,e,t){if(n instanceof ne)for(let i of n.state.facet(ne.atomicRanges).map(r=>r(n)))i.between(e,e,(r,s)=>{r<e&&s>e&&(e=t?s:r)});return e}const PN=(n,e)=>xf(n,t=>{let i=t.from,{state:r}=n,s=r.doc.lineAt(i),o,l;if(!e&&i>s.from&&i<s.from+200&&!/[^ \t]/.test(o=s.text.slice(0,i-s.from))){if(o[o.length-1]=="	")return i-1;let u=vu(o,r.tabSize),h=u%qg(r)||qg(r);for(let f=0;f<h&&o[o.length-1-f]==" ";f++)i--;l=i}else l=Tn(s.text,i-s.from,e,e)+s.from,l==i&&s.number!=(e?r.doc.lines:1)&&(l+=e?1:-1);return l}),_w=n=>PN(n,!1),bN=n=>PN(n,!0),CN=(n,e)=>xf(n,t=>{let i=t.head,{state:r}=n,s=r.doc.lineAt(i),o=r.charCategorizer(i);for(let l=null;;){if(i==(e?s.to:s.from)){i==t.head&&s.number!=(e?r.doc.lines:1)&&(i+=e?1:-1);break}let u=Tn(s.text,i-s.from,e)+s.from,h=s.text.slice(Math.min(i,u)-s.from,Math.max(i,u)-s.from),f=o(h);if(l!=null&&f!=l)break;(h!=" "||i!=t.head)&&(l=f),i=u}return i}),AN=n=>CN(n,!1),dte=n=>CN(n,!0),pte=n=>xf(n,e=>{let t=n.lineBlockAt(e.head).to;return e.head<t?t:Math.min(n.state.doc.length,e.head+1)}),gte=n=>xf(n,e=>{let t=n.moveToLineBoundary(e,!1).head;return e.head>t?t:Math.max(0,e.head-1)}),mte=n=>xf(n,e=>{let t=n.moveToLineBoundary(e,!0).head;return e.head<t?t:Math.min(n.state.doc.length,e.head+1)}),Ote=({state:n,dispatch:e})=>{if(n.readOnly)return!1;let t=n.changeByRange(i=>({changes:{from:i.from,to:i.to,insert:Le.of(["",""])},range:L.cursor(i.from)}));return e(n.update(t,{scrollIntoView:!0,userEvent:"input"})),!0},yte=({state:n,dispatch:e})=>{if(n.readOnly)return!1;let t=n.changeByRange(i=>{if(!i.empty||i.from==0||i.from==n.doc.length)return{range:i};let r=i.from,s=n.doc.lineAt(r),o=r==s.from?r-1:Tn(s.text,r-s.from,!1)+s.from,l=r==s.to?r+1:Tn(s.text,r-s.from,!0)+s.from;return{changes:{from:o,to:l,insert:n.doc.slice(r,l).append(n.doc.slice(o,r))},range:L.cursor(l)}});return t.changes.empty?!1:(e(n.update(t,{scrollIntoView:!0,userEvent:"move.character"})),!0)};function mO(n){let e=[],t=-1;for(let i of n.selection.ranges){let r=n.doc.lineAt(i.from),s=n.doc.lineAt(i.to);if(!i.empty&&i.to==s.from&&(s=n.doc.lineAt(i.to-1)),t>=r.number){let o=e[e.length-1];o.to=s.to,o.ranges.push(i)}else e.push({from:r.from,to:s.to,ranges:[i]});t=s.number+1}return e}function IN(n,e,t){if(n.readOnly)return!1;let i=[],r=[];for(let s of mO(n)){if(t?s.to==n.doc.length:s.from==0)continue;let o=n.doc.lineAt(t?s.to+1:s.from-1),l=o.length+1;if(t){i.push({from:s.to,to:o.to},{from:s.from,insert:o.text+n.lineBreak});for(let u of s.ranges)r.push(L.range(Math.min(n.doc.length,u.anchor+l),Math.min(n.doc.length,u.head+l)))}else{i.push({from:o.from,to:s.from},{from:s.to,insert:n.lineBreak+o.text});for(let u of s.ranges)r.push(L.range(u.anchor-l,u.head-l))}}return i.length?(e(n.update({changes:i,scrollIntoView:!0,selection:L.create(r,n.selection.mainIndex),userEvent:"move.line"})),!0):!1}const vte=({state:n,dispatch:e})=>IN(n,e,!1),wte=({state:n,dispatch:e})=>IN(n,e,!0);function RN(n,e,t){if(n.readOnly)return!1;let i=[];for(let r of mO(n))t?i.push({from:r.from,insert:n.doc.slice(r.from,r.to)+n.lineBreak}):i.push({from:r.to,insert:n.lineBreak+n.doc.slice(r.from,r.to)});return e(n.update({changes:i,scrollIntoView:!0,userEvent:"input.copyline"})),!0}const Ste=({state:n,dispatch:e})=>RN(n,e,!1),_te=({state:n,dispatch:e})=>RN(n,e,!0),xte=n=>{if(n.state.readOnly)return!1;let{state:e}=n,t=e.changes(mO(e).map(({from:r,to:s})=>(r>0?r--:s<e.doc.length&&s++,{from:r,to:s}))),i=wu(e.selection,r=>n.moveVertically(r,!0)).map(t);return n.dispatch({changes:t,selection:i,scrollIntoView:!0,userEvent:"delete.line"}),!0};function Tte(n,e){if(/\(\)|\[\]|\{\}/.test(n.sliceDoc(e-1,e+1)))return{from:e,to:e};let t=Dt(n).resolveInner(e),i=t.childBefore(e),r=t.childAfter(e),s;return i&&r&&i.to<=e&&r.from>=e&&(s=i.type.prop(Ie.closedBy))&&s.indexOf(r.name)>-1&&n.doc.lineAt(i.to).from==n.doc.lineAt(r.from).from&&!/\S/.test(n.sliceDoc(i.to,r.from))?{from:i.to,to:r.from}:null}const kte=$N(!1),Ete=$N(!0);function $N(n){return({state:e,dispatch:t})=>{if(e.readOnly)return!1;let i=e.changeByRange(r=>{let{from:s,to:o}=r,l=e.doc.lineAt(s),u=!n&&s==o&&Tte(e,s);n&&(s=o=(o<=l.to?l:e.doc.lineAt(o)).to);let h=new hO(e,{simulateBreak:s,simulateDoubleBreak:!!u}),f=J_(h,s);for(f==null&&(f=vu(/^\s*/.exec(e.doc.lineAt(s).text)[0],e.tabSize));o<l.to&&/\s/.test(l.text[o-l.from]);)o++;u?{from:s,to:o}=u:s>l.from&&s<l.from+100&&!/\S/.test(l.text.slice(0,s))&&(s=l.from);let p=["",Mh(e,f)];return u&&p.push(Mh(e,h.lineIndent(l.from,-1))),{changes:{from:s,to:o,insert:Le.of(p)},range:L.cursor(s+1+p[1].length)}});return t(e.update(i,{scrollIntoView:!0,userEvent:"input"})),!0}}function rx(n,e){let t=-1;return n.changeByRange(i=>{let r=[];for(let o=i.from;o<=i.to;){let l=n.doc.lineAt(o);l.number>t&&(i.empty||i.to>l.from)&&(e(l,r,i),t=l.number),o=l.to+1}let s=n.changes(r);return{changes:r,range:L.range(s.mapPos(i.anchor,1),s.mapPos(i.head,1))}})}const Pte=({state:n,dispatch:e})=>{if(n.readOnly)return!1;let t=Object.create(null),i=new hO(n,{overrideIndentation:s=>{let o=t[s];return o??-1}}),r=rx(n,(s,o,l)=>{let u=J_(i,s.from);if(u==null)return;/\S/.test(s.text)||(u=0);let h=/^\s*/.exec(s.text)[0],f=Mh(n,u);(h!=f||l.from<s.from+h.length)&&(t[s.from]=u,o.push({from:s.from,to:s.from+h.length,insert:f}))});return r.changes.empty||e(n.update(r,{userEvent:"indent"})),!0},QN=({state:n,dispatch:e})=>n.readOnly?!1:(e(n.update(rx(n,(t,i)=>{i.push({from:t.from,insert:n.facet(cO)})}),{userEvent:"input.indent"})),!0),DN=({state:n,dispatch:e})=>n.readOnly?!1:(e(n.update(rx(n,(t,i)=>{let r=/^\s*/.exec(t.text)[0];if(!r)return;let s=vu(r,n.tabSize),o=0,l=Mh(n,Math.max(0,s-qg(n)));for(;o<r.length&&o<l.length&&r.charCodeAt(o)==l.charCodeAt(o);)o++;i.push({from:t.from+o,to:t.from+r.length,insert:l.slice(o)})}),{userEvent:"delete.dedent"})),!0),bte=[{key:"Ctrl-b",run:hN,shift:wN,preventDefault:!0},{key:"Ctrl-f",run:fN,shift:SN},{key:"Ctrl-p",run:gN,shift:TN},{key:"Ctrl-n",run:mN,shift:kN},{key:"Ctrl-a",run:qee,shift:lte},{key:"Ctrl-e",run:Gee,shift:ate},{key:"Ctrl-d",run:bN},{key:"Ctrl-h",run:_w},{key:"Ctrl-k",run:pte},{key:"Ctrl-Alt-h",run:AN},{key:"Ctrl-o",run:Ote},{key:"Ctrl-t",run:yte},{key:"Ctrl-v",run:Sw}],Cte=[{key:"ArrowLeft",run:hN,shift:wN,preventDefault:!0},{key:"Mod-ArrowLeft",mac:"Alt-ArrowLeft",run:Zee,shift:Jee,preventDefault:!0},{mac:"Cmd-ArrowLeft",run:Xee,shift:ste,preventDefault:!0},{key:"ArrowRight",run:fN,shift:SN,preventDefault:!0},{key:"Mod-ArrowRight",mac:"Alt-ArrowRight",run:Uee,shift:ete,preventDefault:!0},{mac:"Cmd-ArrowRight",run:jee,shift:ote,preventDefault:!0},{key:"ArrowUp",run:gN,shift:TN,preventDefault:!0},{mac:"Cmd-ArrowUp",run:jC,shift:GC},{mac:"Ctrl-ArrowUp",run:FC,shift:zC},{key:"ArrowDown",run:mN,shift:kN,preventDefault:!0},{mac:"Cmd-ArrowDown",run:qC,shift:HC},{mac:"Ctrl-ArrowDown",run:Sw,shift:XC},{key:"PageUp",run:FC,shift:zC},{key:"PageDown",run:Sw,shift:XC},{key:"Home",run:zee,shift:rte,preventDefault:!0},{key:"Mod-Home",run:jC,shift:GC},{key:"End",run:Fee,shift:ite,preventDefault:!0},{key:"Mod-End",run:qC,shift:HC},{key:"Enter",run:kte},{key:"Mod-a",run:ute},{key:"Backspace",run:_w,shift:_w},{key:"Delete",run:bN},{key:"Mod-Backspace",mac:"Alt-Backspace",run:AN},{key:"Mod-Delete",mac:"Alt-Delete",run:dte},{mac:"Mod-Backspace",run:gte},{mac:"Mod-Delete",run:mte}].concat(bte.map(n=>({mac:n.key,run:n.run,shift:n.shift}))),MN=[{key:"Alt-ArrowLeft",mac:"Ctrl-ArrowLeft",run:Wee,shift:tte},{key:"Alt-ArrowRight",mac:"Ctrl-ArrowRight",run:Yee,shift:nte},{key:"Alt-ArrowUp",run:vte},{key:"Shift-Alt-ArrowUp",run:Ste},{key:"Alt-ArrowDown",run:wte},{key:"Shift-Alt-ArrowDown",run:_te},{key:"Escape",run:fte},{key:"Mod-Enter",run:Ete},{key:"Alt-l",mac:"Ctrl-l",run:cte},{key:"Mod-i",run:hte,preventDefault:!0},{key:"Mod-[",run:DN},{key:"Mod-]",run:QN},{key:"Mod-Alt-\\",run:Pte},{key:"Shift-Mod-k",run:xte},{key:"Shift-Mod-\\",run:Kee},{key:"Mod-/",run:wee},{key:"Alt-A",run:_ee}].concat(Cte);function He(){var n=arguments[0];typeof n=="string"&&(n=document.createElement(n));var e=1,t=arguments[1];if(t&&typeof t=="object"&&t.nodeType==null&&!Array.isArray(t)){for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i)){var r=t[i];typeof r=="string"?n.setAttribute(i,r):r!=null&&(n[i]=r)}e++}for(;e<arguments.length;e++)NN(n,arguments[e]);return n}function NN(n,e){if(typeof e=="string")n.appendChild(document.createTextNode(e));else if(e!=null)if(e.nodeType!=null)n.appendChild(e);else if(Array.isArray(e))for(var t=0;t<e.length;t++)NN(n,e[t]);else throw new RangeError("Unsupported child node: "+e)}const KC=typeof String.prototype.normalize=="function"?n=>n.normalize("NFKD"):n=>n;class ru{constructor(e,t,i=0,r=e.length,s,o){this.test=o,this.value={from:0,to:0},this.done=!1,this.matches=[],this.buffer="",this.bufferPos=0,this.iter=e.iterRange(i,r),this.bufferStart=i,this.normalize=s?l=>s(KC(l)):KC,this.query=this.normalize(t)}peek(){if(this.bufferPos==this.buffer.length){if(this.bufferStart+=this.buffer.length,this.iter.next(),this.iter.done)return-1;this.bufferPos=0,this.buffer=this.iter.value}return sn(this.buffer,this.bufferPos)}next(){for(;this.matches.length;)this.matches.pop();return this.nextOverlapping()}nextOverlapping(){for(;;){let e=this.peek();if(e<0)return this.done=!0,this;let t=N_(e),i=this.bufferStart+this.bufferPos;this.bufferPos+=Mi(e);let r=this.normalize(t);for(let s=0,o=i;;s++){let l=r.charCodeAt(s),u=this.match(l,o);if(s==r.length-1){if(u)return this.value=u,this;break}o==i&&s<t.length&&t.charCodeAt(s)==l&&o++}}}match(e,t){let i=null;for(let r=0;r<this.matches.length;r+=2){let s=this.matches[r],o=!1;this.query.charCodeAt(s)==e&&(s==this.query.length-1?i={from:this.matches[r+1],to:t+1}:(this.matches[r]++,o=!0)),o||(this.matches.splice(r,2),r-=2)}return this.query.charCodeAt(0)==e&&(this.query.length==1?i={from:t,to:t+1}:this.matches.push(1,t)),i&&this.test&&!this.test(i.from,i.to,this.buffer,this.bufferStart)&&(i=null),i}}typeof Symbol<"u"&&(ru.prototype[Symbol.iterator]=function(){return this});const LN={from:-1,to:-1,match:/.*/.exec("")},sx="gm"+(/x/.unicode==null?"":"u");class VN{constructor(e,t,i,r=0,s=e.length){if(this.text=e,this.to=s,this.curLine="",this.done=!1,this.value=LN,/\\[sWDnr]|\n|\r|\[\^/.test(t))return new ZN(e,t,i,r,s);this.re=new RegExp(t,sx+(i!=null&&i.ignoreCase?"i":"")),this.test=i==null?void 0:i.test,this.iter=e.iter();let o=e.lineAt(r);this.curLineStart=o.from,this.matchPos=Jg(e,r),this.getLine(this.curLineStart)}getLine(e){this.iter.next(e),this.iter.lineBreak?this.curLine="":(this.curLine=this.iter.value,this.curLineStart+this.curLine.length>this.to&&(this.curLine=this.curLine.slice(0,this.to-this.curLineStart)),this.iter.next())}nextLine(){this.curLineStart=this.curLineStart+this.curLine.length+1,this.curLineStart>this.to?this.curLine="":this.getLine(0)}next(){for(let e=this.matchPos-this.curLineStart;;){this.re.lastIndex=e;let t=this.matchPos<=this.to&&this.re.exec(this.curLine);if(t){let i=this.curLineStart+t.index,r=i+t[0].length;if(this.matchPos=Jg(this.text,r+(i==r?1:0)),i==this.curLineStart+this.curLine.length&&this.nextLine(),(i<r||i>this.value.to)&&(!this.test||this.test(i,r,t)))return this.value={from:i,to:r,match:t},this;e=this.matchPos-this.curLineStart}else if(this.curLineStart+this.curLine.length<this.to)this.nextLine(),e=0;else return this.done=!0,this}}}const Jy=new WeakMap;class Qa{constructor(e,t){this.from=e,this.text=t}get to(){return this.from+this.text.length}static get(e,t,i){let r=Jy.get(e);if(!r||r.from>=i||r.to<=t){let l=new Qa(t,e.sliceString(t,i));return Jy.set(e,l),l}if(r.from==t&&r.to==i)return r;let{text:s,from:o}=r;return o>t&&(s=e.sliceString(t,o)+s,o=t),r.to<i&&(s+=e.sliceString(r.to,i)),Jy.set(e,new Qa(o,s)),new Qa(t,s.slice(t-o,i-o))}}class ZN{constructor(e,t,i,r,s){this.text=e,this.to=s,this.done=!1,this.value=LN,this.matchPos=Jg(e,r),this.re=new RegExp(t,sx+(i!=null&&i.ignoreCase?"i":"")),this.test=i==null?void 0:i.test,this.flat=Qa.get(e,r,this.chunkEnd(r+5e3))}chunkEnd(e){return e>=this.to?this.to:this.text.lineAt(e).to}next(){for(;;){let e=this.re.lastIndex=this.matchPos-this.flat.from,t=this.re.exec(this.flat.text);if(t&&!t[0]&&t.index==e&&(this.re.lastIndex=e+1,t=this.re.exec(this.flat.text)),t){let i=this.flat.from+t.index,r=i+t[0].length;if((this.flat.to>=this.to||t.index+t[0].length<=this.flat.text.length-10)&&(!this.test||this.test(i,r,t)))return this.value={from:i,to:r,match:t},this.matchPos=Jg(this.text,r+(i==r?1:0)),this}if(this.flat.to==this.to)return this.done=!0,this;this.flat=Qa.get(this.text,this.flat.from,this.chunkEnd(this.flat.from+this.flat.text.length*2))}}}typeof Symbol<"u"&&(VN.prototype[Symbol.iterator]=ZN.prototype[Symbol.iterator]=function(){return this});function Ate(n){try{return new RegExp(n,sx),!0}catch{return!1}}function Jg(n,e){if(e>=n.length)return e;let t=n.lineAt(e),i;for(;e<t.to&&(i=t.text.charCodeAt(e-t.from))>=56320&&i<57344;)e++;return e}function xw(n){let e=String(n.state.doc.lineAt(n.state.selection.main.head).number),t=He("input",{class:"cm-textfield",name:"line",value:e}),i=He("form",{class:"cm-gotoLine",onkeydown:s=>{s.keyCode==27?(s.preventDefault(),n.dispatch({effects:em.of(!1)}),n.focus()):s.keyCode==13&&(s.preventDefault(),r())},onsubmit:s=>{s.preventDefault(),r()}},He("label",n.state.phrase("Go to line"),": ",t)," ",He("button",{class:"cm-button",type:"submit"},n.state.phrase("go")));function r(){let s=/^([+-])?(\d+)?(:\d+)?(%)?$/.exec(t.value);if(!s)return;let{state:o}=n,l=o.doc.lineAt(o.selection.main.head),[,u,h,f,p]=s,g=f?+f.slice(1):0,O=h?+h:l.number;if(h&&p){let k=O/100;u&&(k=k*(u=="-"?-1:1)+l.number/o.doc.lines),O=Math.round(o.doc.lines*k)}else h&&u&&(O=O*(u=="-"?-1:1)+l.number);let v=o.doc.line(Math.max(1,Math.min(o.doc.lines,O))),x=L.cursor(v.from+Math.max(0,Math.min(g,v.length)));n.dispatch({effects:[em.of(!1),ne.scrollIntoView(x.from,{y:"center"})],selection:x}),n.focus()}return{dom:i}}const em=Se.define(),JC=Ft.define({create(){return!0},update(n,e){for(let t of e.effects)t.is(em)&&(n=t.value);return n},provide:n=>Qh.from(n,e=>e?xw:null)}),Ite=n=>{let e=$h(n,xw);if(!e){let t=[em.of(!0)];n.state.field(JC,!1)==null&&t.push(Se.appendConfig.of([JC,Rte])),n.dispatch({effects:t}),e=$h(n,xw)}return e&&e.dom.querySelector("input").select(),!0},Rte=ne.baseTheme({".cm-panel.cm-gotoLine":{padding:"2px 6px 4px","& label":{fontSize:"80%"}}}),$te={highlightWordAroundCursor:!1,minSelectionLength:1,maxMatches:100,wholeWords:!1},UN=se.define({combine(n){return Ur(n,$te,{highlightWordAroundCursor:(e,t)=>e||t,minSelectionLength:Math.min,maxMatches:Math.min})}});function Qte(n){let e=[Vte,Lte];return n&&e.push(UN.of(n)),e}const Dte=he.mark({class:"cm-selectionMatch"}),Mte=he.mark({class:"cm-selectionMatch cm-selectionMatch-main"});function eA(n,e,t,i){return(t==0||n(e.sliceDoc(t-1,t))!=ct.Word)&&(i==e.doc.length||n(e.sliceDoc(i,i+1))!=ct.Word)}function Nte(n,e,t,i){return n(e.sliceDoc(t,t+1))==ct.Word&&n(e.sliceDoc(i-1,i))==ct.Word}const Lte=Pt.fromClass(class{constructor(n){this.decorations=this.getDeco(n)}update(n){(n.selectionSet||n.docChanged||n.viewportChanged)&&(this.decorations=this.getDeco(n.view))}getDeco(n){let e=n.state.facet(UN),{state:t}=n,i=t.selection;if(i.ranges.length>1)return he.none;let r=i.main,s,o=null;if(r.empty){if(!e.highlightWordAroundCursor)return he.none;let u=t.wordAt(r.head);if(!u)return he.none;o=t.charCategorizer(r.head),s=t.sliceDoc(u.from,u.to)}else{let u=r.to-r.from;if(u<e.minSelectionLength||u>200)return he.none;if(e.wholeWords){if(s=t.sliceDoc(r.from,r.to),o=t.charCategorizer(r.head),!(eA(o,t,r.from,r.to)&&Nte(o,t,r.from,r.to)))return he.none}else if(s=t.sliceDoc(r.from,r.to).trim(),!s)return he.none}let l=[];for(let u of n.visibleRanges){let h=new ru(t.doc,s,u.from,u.to);for(;!h.next().done;){let{from:f,to:p}=h.value;if((!o||eA(o,t,f,p))&&(r.empty&&f<=r.from&&p>=r.to?l.push(Mte.range(f,p)):(f>=r.to||p<=r.from)&&l.push(Dte.range(f,p)),l.length>e.maxMatches))return he.none}}return he.set(l)}},{decorations:n=>n.decorations}),Vte=ne.baseTheme({".cm-selectionMatch":{backgroundColor:"#99ff7780"},".cm-searchMatch .cm-selectionMatch":{backgroundColor:"transparent"}}),Zte=({state:n,dispatch:e})=>{let{selection:t}=n,i=L.create(t.ranges.map(r=>n.wordAt(r.head)||L.cursor(r.head)),t.mainIndex);return i.eq(t)?!1:(e(n.update({selection:i})),!0)};function Ute(n,e){let{main:t,ranges:i}=n.selection,r=n.wordAt(t.head),s=r&&r.from==t.from&&r.to==t.to;for(let o=!1,l=new ru(n.doc,e,i[i.length-1].to);;)if(l.next(),l.done){if(o)return null;l=new ru(n.doc,e,0,Math.max(0,i[i.length-1].from-1)),o=!0}else{if(o&&i.some(u=>u.from==l.value.from))continue;if(s){let u=n.wordAt(l.value.from);if(!u||u.from!=l.value.from||u.to!=l.value.to)continue}return l.value}}const Bte=({state:n,dispatch:e})=>{let{ranges:t}=n.selection;if(t.some(s=>s.from===s.to))return Zte({state:n,dispatch:e});let i=n.sliceDoc(t[0].from,t[0].to);if(n.selection.ranges.some(s=>n.sliceDoc(s.from,s.to)!=i))return!1;let r=Ute(n,i);return r?(e(n.update({selection:n.selection.addRange(L.range(r.from,r.to),!1),effects:ne.scrollIntoView(r.to)})),!0):!1},Su=se.define({combine(n){return Ur(n,{top:!1,caseSensitive:!1,literal:!1,regexp:!1,wholeWord:!1,createPanel:e=>new ene(e),scrollToMatch:e=>ne.scrollIntoView(e)})}});class BN{constructor(e){this.search=e.search,this.caseSensitive=!!e.caseSensitive,this.literal=!!e.literal,this.regexp=!!e.regexp,this.replace=e.replace||"",this.valid=!!this.search&&(!this.regexp||Ate(this.search)),this.unquoted=this.unquote(this.search),this.wholeWord=!!e.wholeWord}unquote(e){return this.literal?e:e.replace(/\\([nrt\\])/g,(t,i)=>i=="n"?`
`:i=="r"?"\r":i=="t"?"	":"\\")}eq(e){return this.search==e.search&&this.replace==e.replace&&this.caseSensitive==e.caseSensitive&&this.regexp==e.regexp&&this.wholeWord==e.wholeWord}create(){return this.regexp?new zte(this):new Yte(this)}getCursor(e,t=0,i){let r=e.doc?e:Me.create({doc:e});return i==null&&(i=r.doc.length),this.regexp?ta(this,r,t,i):ea(this,r,t,i)}}class WN{constructor(e){this.spec=e}}function ea(n,e,t,i){return new ru(e.doc,n.unquoted,t,i,n.caseSensitive?void 0:r=>r.toLowerCase(),n.wholeWord?Wte(e.doc,e.charCategorizer(e.selection.main.head)):void 0)}function Wte(n,e){return(t,i,r,s)=>((s>t||s+r.length<i)&&(s=Math.max(0,t-2),r=n.sliceString(s,Math.min(n.length,i+2))),(e(tm(r,t-s))!=ct.Word||e(nm(r,t-s))!=ct.Word)&&(e(nm(r,i-s))!=ct.Word||e(tm(r,i-s))!=ct.Word))}class Yte extends WN{constructor(e){super(e)}nextMatch(e,t,i){let r=ea(this.spec,e,i,e.doc.length).nextOverlapping();return r.done&&(r=ea(this.spec,e,0,t).nextOverlapping()),r.done?null:r.value}prevMatchInRange(e,t,i){for(let r=i;;){let s=Math.max(t,r-1e4-this.spec.unquoted.length),o=ea(this.spec,e,s,r),l=null;for(;!o.nextOverlapping().done;)l=o.value;if(l)return l;if(s==t)return null;r-=1e4}}prevMatch(e,t,i){return this.prevMatchInRange(e,0,t)||this.prevMatchInRange(e,i,e.doc.length)}getReplacement(e){return this.spec.unquote(this.spec.replace)}matchAll(e,t){let i=ea(this.spec,e,0,e.doc.length),r=[];for(;!i.next().done;){if(r.length>=t)return null;r.push(i.value)}return r}highlight(e,t,i,r){let s=ea(this.spec,e,Math.max(0,t-this.spec.unquoted.length),Math.min(i+this.spec.unquoted.length,e.doc.length));for(;!s.next().done;)r(s.value.from,s.value.to)}}function ta(n,e,t,i){return new VN(e.doc,n.search,{ignoreCase:!n.caseSensitive,test:n.wholeWord?Fte(e.charCategorizer(e.selection.main.head)):void 0},t,i)}function tm(n,e){return n.slice(Tn(n,e,!1),e)}function nm(n,e){return n.slice(e,Tn(n,e))}function Fte(n){return(e,t,i)=>!i[0].length||(n(tm(i.input,i.index))!=ct.Word||n(nm(i.input,i.index))!=ct.Word)&&(n(nm(i.input,i.index+i[0].length))!=ct.Word||n(tm(i.input,i.index+i[0].length))!=ct.Word)}class zte extends WN{nextMatch(e,t,i){let r=ta(this.spec,e,i,e.doc.length).next();return r.done&&(r=ta(this.spec,e,0,t).next()),r.done?null:r.value}prevMatchInRange(e,t,i){for(let r=1;;r++){let s=Math.max(t,i-r*1e4),o=ta(this.spec,e,s,i),l=null;for(;!o.next().done;)l=o.value;if(l&&(s==t||l.from>s+10))return l;if(s==t)return null}}prevMatch(e,t,i){return this.prevMatchInRange(e,0,t)||this.prevMatchInRange(e,i,e.doc.length)}getReplacement(e){return this.spec.unquote(this.spec.replace.replace(/\$([$&\d+])/g,(t,i)=>i=="$"?"$":i=="&"?e.match[0]:i!="0"&&+i<e.match.length?e.match[i]:t))}matchAll(e,t){let i=ta(this.spec,e,0,e.doc.length),r=[];for(;!i.next().done;){if(r.length>=t)return null;r.push(i.value)}return r}highlight(e,t,i,r){let s=ta(this.spec,e,Math.max(0,t-250),Math.min(i+250,e.doc.length));for(;!s.next().done;)r(s.value.from,s.value.to)}}const Nh=Se.define(),ox=Se.define(),mo=Ft.define({create(n){return new ev(Tw(n).create(),null)},update(n,e){for(let t of e.effects)t.is(Nh)?n=new ev(t.value.create(),n.panel):t.is(ox)&&(n=new ev(n.query,t.value?lx:null));return n},provide:n=>Qh.from(n,e=>e.panel)});class ev{constructor(e,t){this.query=e,this.panel=t}}const Xte=he.mark({class:"cm-searchMatch"}),jte=he.mark({class:"cm-searchMatch cm-searchMatch-selected"}),qte=Pt.fromClass(class{constructor(n){this.view=n,this.decorations=this.highlight(n.state.field(mo))}update(n){let e=n.state.field(mo);(e!=n.startState.field(mo)||n.docChanged||n.selectionSet||n.viewportChanged)&&(this.decorations=this.highlight(e))}highlight({query:n,panel:e}){if(!e||!n.spec.valid)return he.none;let{view:t}=this,i=new To;for(let r=0,s=t.visibleRanges,o=s.length;r<o;r++){let{from:l,to:u}=s[r];for(;r<o-1&&u>s[r+1].from-2*250;)u=s[++r].to;n.highlight(t.state,l,u,(h,f)=>{let p=t.state.selection.ranges.some(g=>g.from==h&&g.to==f);i.add(h,f,p?jte:Xte)})}return i.finish()}},{decorations:n=>n.decorations});function Tf(n){return e=>{let t=e.state.field(mo,!1);return t&&t.query.spec.valid?n(e,t):zN(e)}}const im=Tf((n,{query:e})=>{let{to:t}=n.state.selection.main,i=e.nextMatch(n.state,t,t);if(!i)return!1;let r=L.single(i.from,i.to),s=n.state.facet(Su);return n.dispatch({selection:r,effects:[ax(n,i),s.scrollToMatch(r.main,n)],userEvent:"select.search"}),FN(n),!0}),rm=Tf((n,{query:e})=>{let{state:t}=n,{from:i}=t.selection.main,r=e.prevMatch(t,i,i);if(!r)return!1;let s=L.single(r.from,r.to),o=n.state.facet(Su);return n.dispatch({selection:s,effects:[ax(n,r),o.scrollToMatch(s.main,n)],userEvent:"select.search"}),FN(n),!0}),Gte=Tf((n,{query:e})=>{let t=e.matchAll(n.state,1e3);return!t||!t.length?!1:(n.dispatch({selection:L.create(t.map(i=>L.range(i.from,i.to))),userEvent:"select.search.matches"}),!0)}),Hte=({state:n,dispatch:e})=>{let t=n.selection;if(t.ranges.length>1||t.main.empty)return!1;let{from:i,to:r}=t.main,s=[],o=0;for(let l=new ru(n.doc,n.sliceDoc(i,r));!l.next().done;){if(s.length>1e3)return!1;l.value.from==i&&(o=s.length),s.push(L.range(l.value.from,l.value.to))}return e(n.update({selection:L.create(s,o),userEvent:"select.search.matches"})),!0},tA=Tf((n,{query:e})=>{let{state:t}=n,{from:i,to:r}=t.selection.main;if(t.readOnly)return!1;let s=e.nextMatch(t,i,i);if(!s)return!1;let o=[],l,u,h=[];if(s.from==i&&s.to==r&&(u=t.toText(e.getReplacement(s)),o.push({from:s.from,to:s.to,insert:u}),s=e.nextMatch(t,s.from,s.to),h.push(ne.announce.of(t.phrase("replaced match on line $",t.doc.lineAt(i).number)+"."))),s){let f=o.length==0||o[0].from>=s.to?0:s.to-s.from-u.length;l=L.single(s.from-f,s.to-f),h.push(ax(n,s)),h.push(t.facet(Su).scrollToMatch(l.main,n))}return n.dispatch({changes:o,selection:l,effects:h,userEvent:"input.replace"}),!0}),Kte=Tf((n,{query:e})=>{if(n.state.readOnly)return!1;let t=e.matchAll(n.state,1e9).map(r=>{let{from:s,to:o}=r;return{from:s,to:o,insert:e.getReplacement(r)}});if(!t.length)return!1;let i=n.state.phrase("replaced $ matches",t.length)+".";return n.dispatch({changes:t,effects:ne.announce.of(i),userEvent:"input.replace.all"}),!0});function lx(n){return n.state.facet(Su).createPanel(n)}function Tw(n,e){var t,i,r,s,o;let l=n.selection.main,u=l.empty||l.to>l.from+100?"":n.sliceDoc(l.from,l.to);if(e&&!u)return e;let h=n.facet(Su);return new BN({search:((t=e==null?void 0:e.literal)!==null&&t!==void 0?t:h.literal)?u:u.replace(/\n/g,"\\n"),caseSensitive:(i=e==null?void 0:e.caseSensitive)!==null&&i!==void 0?i:h.caseSensitive,literal:(r=e==null?void 0:e.literal)!==null&&r!==void 0?r:h.literal,regexp:(s=e==null?void 0:e.regexp)!==null&&s!==void 0?s:h.regexp,wholeWord:(o=e==null?void 0:e.wholeWord)!==null&&o!==void 0?o:h.wholeWord})}function YN(n){let e=$h(n,lx);return e&&e.dom.querySelector("[main-field]")}function FN(n){let e=YN(n);e&&e==n.root.activeElement&&e.select()}const zN=n=>{let e=n.state.field(mo,!1);if(e&&e.panel){let t=YN(n);if(t&&t!=n.root.activeElement){let i=Tw(n.state,e.query.spec);i.valid&&n.dispatch({effects:Nh.of(i)}),t.focus(),t.select()}}else n.dispatch({effects:[ox.of(!0),e?Nh.of(Tw(n.state,e.query.spec)):Se.appendConfig.of(nne)]});return!0},XN=n=>{let e=n.state.field(mo,!1);if(!e||!e.panel)return!1;let t=$h(n,lx);return t&&t.dom.contains(n.root.activeElement)&&n.focus(),n.dispatch({effects:ox.of(!1)}),!0},Jte=[{key:"Mod-f",run:zN,scope:"editor search-panel"},{key:"F3",run:im,shift:rm,scope:"editor search-panel",preventDefault:!0},{key:"Mod-g",run:im,shift:rm,scope:"editor search-panel",preventDefault:!0},{key:"Escape",run:XN,scope:"editor search-panel"},{key:"Mod-Shift-l",run:Hte},{key:"Alt-g",run:Ite},{key:"Mod-d",run:Bte,preventDefault:!0}];class ene{constructor(e){this.view=e;let t=this.query=e.state.field(mo).query.spec;this.commit=this.commit.bind(this),this.searchField=He("input",{value:t.search,placeholder:li(e,"Find"),"aria-label":li(e,"Find"),class:"cm-textfield",name:"search",form:"","main-field":"true",onchange:this.commit,onkeyup:this.commit}),this.replaceField=He("input",{value:t.replace,placeholder:li(e,"Replace"),"aria-label":li(e,"Replace"),class:"cm-textfield",name:"replace",form:"",onchange:this.commit,onkeyup:this.commit}),this.caseField=He("input",{type:"checkbox",name:"case",form:"",checked:t.caseSensitive,onchange:this.commit}),this.reField=He("input",{type:"checkbox",name:"re",form:"",checked:t.regexp,onchange:this.commit}),this.wordField=He("input",{type:"checkbox",name:"word",form:"",checked:t.wholeWord,onchange:this.commit});function i(r,s,o){return He("button",{class:"cm-button",name:r,onclick:s,type:"button"},o)}this.dom=He("div",{onkeydown:r=>this.keydown(r),class:"cm-search"},[this.searchField,i("next",()=>im(e),[li(e,"next")]),i("prev",()=>rm(e),[li(e,"previous")]),i("select",()=>Gte(e),[li(e,"all")]),He("label",null,[this.caseField,li(e,"match case")]),He("label",null,[this.reField,li(e,"regexp")]),He("label",null,[this.wordField,li(e,"by word")]),...e.state.readOnly?[]:[He("br"),this.replaceField,i("replace",()=>tA(e),[li(e,"replace")]),i("replaceAll",()=>Kte(e),[li(e,"replace all")])],He("button",{name:"close",onclick:()=>XN(e),"aria-label":li(e,"close"),type:"button"},["×"])])}commit(){let e=new BN({search:this.searchField.value,caseSensitive:this.caseField.checked,regexp:this.reField.checked,wholeWord:this.wordField.checked,replace:this.replaceField.value});e.eq(this.query)||(this.query=e,this.view.dispatch({effects:Nh.of(e)}))}keydown(e){dK(this.view,e,"search-panel")?e.preventDefault():e.keyCode==13&&e.target==this.searchField?(e.preventDefault(),(e.shiftKey?rm:im)(this.view)):e.keyCode==13&&e.target==this.replaceField&&(e.preventDefault(),tA(this.view))}update(e){for(let t of e.transactions)for(let i of t.effects)i.is(Nh)&&!i.value.eq(this.query)&&this.setQuery(i.value)}setQuery(e){this.query=e,this.searchField.value=e.search,this.replaceField.value=e.replace,this.caseField.checked=e.caseSensitive,this.reField.checked=e.regexp,this.wordField.checked=e.wholeWord}mount(){this.searchField.select()}get pos(){return 80}get top(){return this.view.state.facet(Su).top}}function li(n,e){return n.state.phrase(e)}const op=30,lp=/[\s\.,:;?!]/;function ax(n,{from:e,to:t}){let i=n.state.doc.lineAt(e),r=n.state.doc.lineAt(t).to,s=Math.max(i.from,e-op),o=Math.min(r,t+op),l=n.state.sliceDoc(s,o);if(s!=i.from){for(let u=0;u<op;u++)if(!lp.test(l[u+1])&&lp.test(l[u])){l=l.slice(u);break}}if(o!=r){for(let u=l.length-1;u>l.length-op;u--)if(!lp.test(l[u-1])&&lp.test(l[u])){l=l.slice(0,u);break}}return ne.announce.of(`${n.state.phrase("current match")}. ${l} ${n.state.phrase("on line")} ${i.number}.`)}const tne=ne.baseTheme({".cm-panel.cm-search":{padding:"2px 6px 4px",position:"relative","& [name=close]":{position:"absolute",top:"0",right:"4px",backgroundColor:"inherit",border:"none",font:"inherit",padding:0,margin:0},"& input, & button, & label":{margin:".2em .6em .2em 0"},"& input[type=checkbox]":{marginRight:".2em"},"& label":{fontSize:"80%",whiteSpace:"pre"}},"&light .cm-searchMatch":{backgroundColor:"#ffff0054"},"&dark .cm-searchMatch":{backgroundColor:"#00ffff8a"},"&light .cm-searchMatch-selected":{backgroundColor:"#ff6a0054"},"&dark .cm-searchMatch-selected":{backgroundColor:"#ff00ff8a"}}),nne=[mo,Al.low(qte),tne];class jN{constructor(e,t,i){this.state=e,this.pos=t,this.explicit=i,this.abortListeners=[]}tokenBefore(e){let t=Dt(this.state).resolveInner(this.pos,-1);for(;t&&e.indexOf(t.name)<0;)t=t.parent;return t?{from:t.from,to:this.pos,text:this.state.sliceDoc(t.from,this.pos),type:t.type}:null}matchBefore(e){let t=this.state.doc.lineAt(this.pos),i=Math.max(t.from,this.pos-250),r=t.text.slice(i-t.from,this.pos-t.from),s=r.search(GN(e,!1));return s<0?null:{from:i+s,to:this.pos,text:r.slice(s)}}get aborted(){return this.abortListeners==null}addEventListener(e,t){e=="abort"&&this.abortListeners&&this.abortListeners.push(t)}}function nA(n){let e=Object.keys(n).join(""),t=/\w/.test(e);return t&&(e=e.replace(/\w/g,"")),`[${t?"\\w":""}${e.replace(/[^\w\s]/g,"\\$&")}]`}function ine(n){let e=Object.create(null),t=Object.create(null);for(let{label:r}of n){e[r[0]]=!0;for(let s=1;s<r.length;s++)t[r[s]]=!0}let i=nA(e)+nA(t)+"*$";return[new RegExp("^"+i),new RegExp(i)]}function qN(n){let e=n.map(r=>typeof r=="string"?{label:r}:r),[t,i]=e.every(r=>/^\w+$/.test(r.label))?[/\w*$/,/\w+$/]:ine(e);return r=>{let s=r.matchBefore(i);return s||r.explicit?{from:s?s.from:r.pos,options:e,validFor:t}:null}}function rne(n,e){return t=>{for(let i=Dt(t.state).resolveInner(t.pos,-1);i;i=i.parent){if(n.indexOf(i.name)>-1)return null;if(i.type.isTop)break}return e(t)}}class iA{constructor(e,t,i,r){this.completion=e,this.source=t,this.match=i,this.score=r}}function Oo(n){return n.selection.main.from}function GN(n,e){var t;let{source:i}=n,r=e&&i[0]!="^",s=i[i.length-1]!="$";return!r&&!s?n:new RegExp(`${r?"^":""}(?:${i})${s?"$":""}`,(t=n.flags)!==null&&t!==void 0?t:n.ignoreCase?"i":"")}const HN=Es.define();function sne(n,e,t,i){let{main:r}=n.selection,s=t-r.from,o=i-r.from;return Object.assign(Object.assign({},n.changeByRange(l=>l!=r&&t!=i&&n.sliceDoc(l.from+s,l.from+o)!=n.sliceDoc(t,i)?{range:l}:{changes:{from:l.from+s,to:i==r.from?l.to:l.from+o,insert:e},range:L.cursor(l.from+s+e.length)})),{scrollIntoView:!0,userEvent:"input.complete"})}const rA=new WeakMap;function one(n){if(!Array.isArray(n))return n;let e=rA.get(n);return e||rA.set(n,e=qN(n)),e}const ux=Se.define(),Lh=Se.define();class lne{constructor(e){this.pattern=e,this.chars=[],this.folded=[],this.any=[],this.precise=[],this.byWord=[],this.score=0,this.matched=[];for(let t=0;t<e.length;){let i=sn(e,t),r=Mi(i);this.chars.push(i);let s=e.slice(t,t+r),o=s.toUpperCase();this.folded.push(sn(o==s?s.toLowerCase():o,0)),t+=r}this.astral=e.length!=this.chars.length}ret(e,t){return this.score=e,this.matched=t,!0}match(e){if(this.pattern.length==0)return this.ret(-100,[]);if(e.length<this.pattern.length)return!1;let{chars:t,folded:i,any:r,precise:s,byWord:o}=this;if(t.length==1){let _=sn(e,0),E=Mi(_),b=E==e.length?0:-100;if(_!=t[0])if(_==i[0])b+=-200;else return!1;return this.ret(b,[0,E])}let l=e.indexOf(this.pattern);if(l==0)return this.ret(e.length==this.pattern.length?0:-100,[0,this.pattern.length]);let u=t.length,h=0;if(l<0){for(let _=0,E=Math.min(e.length,200);_<E&&h<u;){let b=sn(e,_);(b==t[h]||b==i[h])&&(r[h++]=_),_+=Mi(b)}if(h<u)return!1}let f=0,p=0,g=!1,O=0,v=-1,x=-1,k=/[a-z]/.test(e),w=!0;for(let _=0,E=Math.min(e.length,200),b=0;_<E&&p<u;){let I=sn(e,_);l<0&&(f<u&&I==t[f]&&(s[f++]=_),O<u&&(I==t[O]||I==i[O]?(O==0&&(v=_),x=_+1,O++):O=0));let Q,M=I<255?I>=48&&I<=57||I>=97&&I<=122?2:I>=65&&I<=90?1:0:(Q=N_(I))!=Q.toLowerCase()?1:Q!=Q.toUpperCase()?2:0;(!_||M==1&&k||b==0&&M!=0)&&(t[p]==I||i[p]==I&&(g=!0)?o[p++]=_:o.length&&(w=!1)),b=M,_+=Mi(I)}return p==u&&o[0]==0&&w?this.result(-100+(g?-200:0),o,e):O==u&&v==0?this.ret(-200-e.length+(x==e.length?0:-100),[0,x]):l>-1?this.ret(-700-e.length,[l,l+this.pattern.length]):O==u?this.ret(-200+-700-e.length,[v,x]):p==u?this.result(-100+(g?-200:0)+-700+(w?0:-1100),o,e):t.length==2?!1:this.result((r[0]?-700:0)+-200+-1100,r,e)}result(e,t,i){let r=[],s=0;for(let o of t){let l=o+(this.astral?Mi(sn(i,o)):1);s&&r[s-1]==o?r[s-1]=l:(r[s++]=o,r[s++]=l)}return this.ret(e-i.length,r)}}const xn=se.define({combine(n){return Ur(n,{activateOnTyping:!0,selectOnOpen:!0,override:null,closeOnBlur:!0,maxRenderedOptions:100,defaultKeymap:!0,tooltipClass:()=>"",optionClass:()=>"",aboveCursor:!1,icons:!0,addToOptions:[],positionInfo:ane,compareCompletions:(e,t)=>e.label.localeCompare(t.label),interactionDelay:75,updateSyncTime:100},{defaultKeymap:(e,t)=>e&&t,closeOnBlur:(e,t)=>e&&t,icons:(e,t)=>e&&t,tooltipClass:(e,t)=>i=>sA(e(i),t(i)),optionClass:(e,t)=>i=>sA(e(i),t(i)),addToOptions:(e,t)=>e.concat(t)})}});function sA(n,e){return n?e?n+" "+e:n:e}function ane(n,e,t,i,r,s){let o=n.textDirection==dt.RTL,l=o,u=!1,h="top",f,p,g=e.left-r.left,O=r.right-e.right,v=i.right-i.left,x=i.bottom-i.top;if(l&&g<Math.min(v,O)?l=!1:!l&&O<Math.min(v,g)&&(l=!0),v<=(l?g:O))f=Math.max(r.top,Math.min(t.top,r.bottom-x))-e.top,p=Math.min(400,l?g:O);else{u=!0,p=Math.min(400,(o?e.right:r.right-e.left)-30);let _=r.bottom-e.bottom;_>=x||_>e.top?f=t.bottom-e.top:(h="bottom",f=e.bottom-t.top)}let k=(e.bottom-e.top)/s.offsetHeight,w=(e.right-e.left)/s.offsetWidth;return{style:`${h}: ${f/k}px; max-width: ${p/w}px`,class:"cm-completionInfo-"+(u?o?"left-narrow":"right-narrow":l?"left":"right")}}function une(n){let e=n.addToOptions.slice();return n.icons&&e.push({render(t){let i=document.createElement("div");return i.classList.add("cm-completionIcon"),t.type&&i.classList.add(...t.type.split(/\s+/g).map(r=>"cm-completionIcon-"+r)),i.setAttribute("aria-hidden","true"),i},position:20}),e.push({render(t,i,r){let s=document.createElement("span");s.className="cm-completionLabel";let o=t.displayLabel||t.label,l=0;for(let u=0;u<r.length;){let h=r[u++],f=r[u++];h>l&&s.appendChild(document.createTextNode(o.slice(l,h)));let p=s.appendChild(document.createElement("span"));p.appendChild(document.createTextNode(o.slice(h,f))),p.className="cm-completionMatchedText",l=f}return l<o.length&&s.appendChild(document.createTextNode(o.slice(l))),s},position:50},{render(t){if(!t.detail)return null;let i=document.createElement("span");return i.className="cm-completionDetail",i.textContent=t.detail,i},position:80}),e.sort((t,i)=>t.position-i.position).map(t=>t.render)}function tv(n,e,t){if(n<=t)return{from:0,to:n};if(e<0&&(e=0),e<=n>>1){let r=Math.floor(e/t);return{from:r*t,to:(r+1)*t}}let i=Math.floor((n-e)/t);return{from:n-(i+1)*t,to:n-i*t}}class cne{constructor(e,t,i){this.view=e,this.stateField=t,this.applyCompletion=i,this.info=null,this.infoDestroy=null,this.placeInfoReq={read:()=>this.measureInfo(),write:u=>this.placeInfo(u),key:this},this.space=null,this.currentClass="";let r=e.state.field(t),{options:s,selected:o}=r.open,l=e.state.facet(xn);this.optionContent=une(l),this.optionClass=l.optionClass,this.tooltipClass=l.tooltipClass,this.range=tv(s.length,o,l.maxRenderedOptions),this.dom=document.createElement("div"),this.dom.className="cm-tooltip-autocomplete",this.updateTooltipClass(e.state),this.dom.addEventListener("mousedown",u=>{let{options:h}=e.state.field(t).open;for(let f=u.target,p;f&&f!=this.dom;f=f.parentNode)if(f.nodeName=="LI"&&(p=/-(\d+)$/.exec(f.id))&&+p[1]<h.length){this.applyCompletion(e,h[+p[1]]),u.preventDefault();return}}),this.dom.addEventListener("focusout",u=>{let h=e.state.field(this.stateField,!1);h&&h.tooltip&&e.state.facet(xn).closeOnBlur&&u.relatedTarget!=e.contentDOM&&e.dispatch({effects:Lh.of(null)})}),this.showOptions(s,r.id)}mount(){this.updateSel()}showOptions(e,t){this.list&&this.list.remove(),this.list=this.dom.appendChild(this.createListBox(e,t,this.range)),this.list.addEventListener("scroll",()=>{this.info&&this.view.requestMeasure(this.placeInfoReq)})}update(e){var t;let i=e.state.field(this.stateField),r=e.startState.field(this.stateField);if(this.updateTooltipClass(e.state),i!=r){let{options:s,selected:o,disabled:l}=i.open;(!r.open||r.open.options!=s)&&(this.range=tv(s.length,o,e.state.facet(xn).maxRenderedOptions),this.showOptions(s,i.id)),this.updateSel(),l!=((t=r.open)===null||t===void 0?void 0:t.disabled)&&this.dom.classList.toggle("cm-tooltip-autocomplete-disabled",!!l)}}updateTooltipClass(e){let t=this.tooltipClass(e);if(t!=this.currentClass){for(let i of this.currentClass.split(" "))i&&this.dom.classList.remove(i);for(let i of t.split(" "))i&&this.dom.classList.add(i);this.currentClass=t}}positioned(e){this.space=e,this.info&&this.view.requestMeasure(this.placeInfoReq)}updateSel(){let e=this.view.state.field(this.stateField),t=e.open;if((t.selected>-1&&t.selected<this.range.from||t.selected>=this.range.to)&&(this.range=tv(t.options.length,t.selected,this.view.state.facet(xn).maxRenderedOptions),this.showOptions(t.options,e.id)),this.updateSelectedOption(t.selected)){this.destroyInfo();let{completion:i}=t.options[t.selected],{info:r}=i;if(!r)return;let s=typeof r=="string"?document.createTextNode(r):r(i);if(!s)return;"then"in s?s.then(o=>{o&&this.view.state.field(this.stateField,!1)==e&&this.addInfoPane(o,i)}).catch(o=>Zi(this.view.state,o,"completion info")):this.addInfoPane(s,i)}}addInfoPane(e,t){this.destroyInfo();let i=this.info=document.createElement("div");if(i.className="cm-tooltip cm-completionInfo",e.nodeType!=null)i.appendChild(e),this.infoDestroy=null;else{let{dom:r,destroy:s}=e;i.appendChild(r),this.infoDestroy=s||null}this.dom.appendChild(i),this.view.requestMeasure(this.placeInfoReq)}updateSelectedOption(e){let t=null;for(let i=this.list.firstChild,r=this.range.from;i;i=i.nextSibling,r++)i.nodeName!="LI"||!i.id?r--:r==e?i.hasAttribute("aria-selected")||(i.setAttribute("aria-selected","true"),t=i):i.hasAttribute("aria-selected")&&i.removeAttribute("aria-selected");return t&&fne(this.list,t),t}measureInfo(){let e=this.dom.querySelector("[aria-selected]");if(!e||!this.info)return null;let t=this.dom.getBoundingClientRect(),i=this.info.getBoundingClientRect(),r=e.getBoundingClientRect(),s=this.space;if(!s){let o=this.dom.ownerDocument.defaultView||window;s={left:0,top:0,right:o.innerWidth,bottom:o.innerHeight}}return r.top>Math.min(s.bottom,t.bottom)-10||r.bottom<Math.max(s.top,t.top)+10?null:this.view.state.facet(xn).positionInfo(this.view,t,r,i,s,this.dom)}placeInfo(e){this.info&&(e?(e.style&&(this.info.style.cssText=e.style),this.info.className="cm-tooltip cm-completionInfo "+(e.class||"")):this.info.style.cssText="top: -1e6px")}createListBox(e,t,i){const r=document.createElement("ul");r.id=t,r.setAttribute("role","listbox"),r.setAttribute("aria-expanded","true"),r.setAttribute("aria-label",this.view.state.phrase("Completions"));let s=null;for(let o=i.from;o<i.to;o++){let{completion:l,match:u}=e[o],{section:h}=l;if(h){let g=typeof h=="string"?h:h.name;if(g!=s&&(o>i.from||i.from==0))if(s=g,typeof h!="string"&&h.header)r.appendChild(h.header(h));else{let O=r.appendChild(document.createElement("completion-section"));O.textContent=g}}const f=r.appendChild(document.createElement("li"));f.id=t+"-"+o,f.setAttribute("role","option");let p=this.optionClass(l);p&&(f.className=p);for(let g of this.optionContent){let O=g(l,this.view.state,u);O&&f.appendChild(O)}}return i.from&&r.classList.add("cm-completionListIncompleteTop"),i.to<e.length&&r.classList.add("cm-completionListIncompleteBottom"),r}destroyInfo(){this.info&&(this.infoDestroy&&this.infoDestroy(),this.info.remove(),this.info=null)}destroy(){this.destroyInfo()}}function hne(n,e){return t=>new cne(t,n,e)}function fne(n,e){let t=n.getBoundingClientRect(),i=e.getBoundingClientRect(),r=t.height/n.offsetHeight;i.top<t.top?n.scrollTop-=(t.top-i.top)/r:i.bottom>t.bottom&&(n.scrollTop+=(i.bottom-t.bottom)/r)}function oA(n){return(n.boost||0)*100+(n.apply?10:0)+(n.info?5:0)+(n.type?1:0)}function dne(n,e){let t=[],i=null,r=u=>{t.push(u);let{section:h}=u.completion;if(h){i||(i=[]);let f=typeof h=="string"?h:h.name;i.some(p=>p.name==f)||i.push(typeof h=="string"?{name:f}:h)}};for(let u of n)if(u.hasResult()){let h=u.result.getMatch;if(u.result.filter===!1)for(let f of u.result.options)r(new iA(f,u.source,h?h(f):[],1e9-t.length));else{let f=new lne(e.sliceDoc(u.from,u.to));for(let p of u.result.options)if(f.match(p.label)){let g=p.displayLabel?h?h(p,f.matched):[]:f.matched;r(new iA(p,u.source,g,f.score+(p.boost||0)))}}}if(i){let u=Object.create(null),h=0,f=(p,g)=>{var O,v;return((O=p.rank)!==null&&O!==void 0?O:1e9)-((v=g.rank)!==null&&v!==void 0?v:1e9)||(p.name<g.name?-1:1)};for(let p of i.sort(f))h-=1e5,u[p.name]=h;for(let p of t){let{section:g}=p.completion;g&&(p.score+=u[typeof g=="string"?g:g.name])}}let s=[],o=null,l=e.facet(xn).compareCompletions;for(let u of t.sort((h,f)=>f.score-h.score||l(h.completion,f.completion))){let h=u.completion;!o||o.label!=h.label||o.detail!=h.detail||o.type!=null&&h.type!=null&&o.type!=h.type||o.apply!=h.apply||o.boost!=h.boost?s.push(u):oA(u.completion)>oA(o)&&(s[s.length-1]=u),o=u.completion}return s}class Oa{constructor(e,t,i,r,s,o){this.options=e,this.attrs=t,this.tooltip=i,this.timestamp=r,this.selected=s,this.disabled=o}setSelected(e,t){return e==this.selected||e>=this.options.length?this:new Oa(this.options,lA(t,e),this.tooltip,this.timestamp,e,this.disabled)}static build(e,t,i,r,s){let o=dne(e,t);if(!o.length)return r&&e.some(u=>u.state==1)?new Oa(r.options,r.attrs,r.tooltip,r.timestamp,r.selected,!0):null;let l=t.facet(xn).selectOnOpen?0:-1;if(r&&r.selected!=l&&r.selected!=-1){let u=r.options[r.selected].completion;for(let h=0;h<o.length;h++)if(o[h].completion==u){l=h;break}}return new Oa(o,lA(i,l),{pos:e.reduce((u,h)=>h.hasResult()?Math.min(u,h.from):u,1e8),create:yne,above:s.aboveCursor},r?r.timestamp:Date.now(),l,!1)}map(e){return new Oa(this.options,this.attrs,Object.assign(Object.assign({},this.tooltip),{pos:e.mapPos(this.tooltip.pos)}),this.timestamp,this.selected,this.disabled)}}class sm{constructor(e,t,i){this.active=e,this.id=t,this.open=i}static start(){return new sm(mne,"cm-ac-"+Math.floor(Math.random()*2e6).toString(36),null)}update(e){let{state:t}=e,i=t.facet(xn),s=(i.override||t.languageDataAt("autocomplete",Oo(t)).map(one)).map(l=>(this.active.find(h=>h.source==l)||new Xn(l,this.active.some(h=>h.state!=0)?1:0)).update(e,i));s.length==this.active.length&&s.every((l,u)=>l==this.active[u])&&(s=this.active);let o=this.open;o&&e.docChanged&&(o=o.map(e.changes)),e.selection||s.some(l=>l.hasResult()&&e.changes.touchesRange(l.from,l.to))||!pne(s,this.active)?o=Oa.build(s,t,this.id,o,i):o&&o.disabled&&!s.some(l=>l.state==1)&&(o=null),!o&&s.every(l=>l.state!=1)&&s.some(l=>l.hasResult())&&(s=s.map(l=>l.hasResult()?new Xn(l.source,0):l));for(let l of e.effects)l.is(JN)&&(o=o&&o.setSelected(l.value,this.id));return s==this.active&&o==this.open?this:new sm(s,this.id,o)}get tooltip(){return this.open?this.open.tooltip:null}get attrs(){return this.open?this.open.attrs:gne}}function pne(n,e){if(n==e)return!0;for(let t=0,i=0;;){for(;t<n.length&&!n[t].hasResult;)t++;for(;i<e.length&&!e[i].hasResult;)i++;let r=t==n.length,s=i==e.length;if(r||s)return r==s;if(n[t++].result!=e[i++].result)return!1}}const gne={"aria-autocomplete":"list"};function lA(n,e){let t={"aria-autocomplete":"list","aria-haspopup":"listbox","aria-controls":n};return e>-1&&(t["aria-activedescendant"]=n+"-"+e),t}const mne=[];function kw(n){return n.isUserEvent("input.type")?"input":n.isUserEvent("delete.backward")?"delete":null}class Xn{constructor(e,t,i=-1){this.source=e,this.state=t,this.explicitPos=i}hasResult(){return!1}update(e,t){let i=kw(e),r=this;i?r=r.handleUserEvent(e,i,t):e.docChanged?r=r.handleChange(e):e.selection&&r.state!=0&&(r=new Xn(r.source,0));for(let s of e.effects)if(s.is(ux))r=new Xn(r.source,1,s.value?Oo(e.state):-1);else if(s.is(Lh))r=new Xn(r.source,0);else if(s.is(KN))for(let o of s.value)o.source==r.source&&(r=o);return r}handleUserEvent(e,t,i){return t=="delete"||!i.activateOnTyping?this.map(e.changes):new Xn(this.source,1)}handleChange(e){return e.changes.touchesRange(Oo(e.startState))?new Xn(this.source,0):this.map(e.changes)}map(e){return e.empty||this.explicitPos<0?this:new Xn(this.source,this.state,e.mapPos(this.explicitPos))}}class Da extends Xn{constructor(e,t,i,r,s){super(e,2,t),this.result=i,this.from=r,this.to=s}hasResult(){return!0}handleUserEvent(e,t,i){var r;let s=e.changes.mapPos(this.from),o=e.changes.mapPos(this.to,1),l=Oo(e.state);if((this.explicitPos<0?l<=s:l<this.from)||l>o||t=="delete"&&Oo(e.startState)==this.from)return new Xn(this.source,t=="input"&&i.activateOnTyping?1:0);let u=this.explicitPos<0?-1:e.changes.mapPos(this.explicitPos),h;return One(this.result.validFor,e.state,s,o)?new Da(this.source,u,this.result,s,o):this.result.update&&(h=this.result.update(this.result,s,o,new jN(e.state,l,u>=0)))?new Da(this.source,u,h,h.from,(r=h.to)!==null&&r!==void 0?r:Oo(e.state)):new Xn(this.source,1,u)}handleChange(e){return e.changes.touchesRange(this.from,this.to)?new Xn(this.source,0):this.map(e.changes)}map(e){return e.empty?this:new Da(this.source,this.explicitPos<0?-1:e.mapPos(this.explicitPos),this.result,e.mapPos(this.from),e.mapPos(this.to,1))}}function One(n,e,t,i){if(!n)return!1;let r=e.sliceDoc(t,i);return typeof n=="function"?n(r,t,i,e):GN(n,!0).test(r)}const KN=Se.define({map(n,e){return n.map(t=>t.map(e))}}),JN=Se.define(),hi=Ft.define({create(){return sm.start()},update(n,e){return n.update(e)},provide:n=>[z_.from(n,e=>e.tooltip),ne.contentAttributes.from(n,e=>e.attrs)]});function eL(n,e){const t=e.completion.apply||e.completion.label;let i=n.state.field(hi).active.find(r=>r.source==e.source);return i instanceof Da?(typeof t=="string"?n.dispatch(Object.assign(Object.assign({},sne(n.state,t,i.from,i.to)),{annotations:HN.of(e.completion)})):t(n,e.completion,i.from,i.to),!0):!1}const yne=hne(hi,eL);function ap(n,e="option"){return t=>{let i=t.state.field(hi,!1);if(!i||!i.open||i.open.disabled||Date.now()-i.open.timestamp<t.state.facet(xn).interactionDelay)return!1;let r=1,s;e=="page"&&(s=CM(t,i.open.tooltip))&&(r=Math.max(2,Math.floor(s.dom.offsetHeight/s.dom.querySelector("li").offsetHeight)-1));let{length:o}=i.open.options,l=i.open.selected>-1?i.open.selected+r*(n?1:-1):n?0:o-1;return l<0?l=e=="page"?0:o-1:l>=o&&(l=e=="page"?o-1:0),t.dispatch({effects:JN.of(l)}),!0}}const vne=n=>{let e=n.state.field(hi,!1);return n.state.readOnly||!e||!e.open||e.open.selected<0||e.open.disabled||Date.now()-e.open.timestamp<n.state.facet(xn).interactionDelay?!1:eL(n,e.open.options[e.open.selected])},tL=n=>n.state.field(hi,!1)?(n.dispatch({effects:ux.of(!0)}),!0):!1,wne=n=>{let e=n.state.field(hi,!1);return!e||!e.active.some(t=>t.state!=0)?!1:(n.dispatch({effects:Lh.of(null)}),!0)};class Sne{constructor(e,t){this.active=e,this.context=t,this.time=Date.now(),this.updates=[],this.done=void 0}}const _ne=50,xne=1e3,Tne=Pt.fromClass(class{constructor(n){this.view=n,this.debounceUpdate=-1,this.running=[],this.debounceAccept=-1,this.composing=0;for(let e of n.state.field(hi).active)e.state==1&&this.startQuery(e)}update(n){let e=n.state.field(hi);if(!n.selectionSet&&!n.docChanged&&n.startState.field(hi)==e)return;let t=n.transactions.some(i=>(i.selection||i.docChanged)&&!kw(i));for(let i=0;i<this.running.length;i++){let r=this.running[i];if(t||r.updates.length+n.transactions.length>_ne&&Date.now()-r.time>xne){for(let s of r.context.abortListeners)try{s()}catch(o){Zi(this.view.state,o)}r.context.abortListeners=null,this.running.splice(i--,1)}else r.updates.push(...n.transactions)}if(this.debounceUpdate>-1&&clearTimeout(this.debounceUpdate),this.debounceUpdate=e.active.some(i=>i.state==1&&!this.running.some(r=>r.active.source==i.source))?setTimeout(()=>this.startUpdate(),50):-1,this.composing!=0)for(let i of n.transactions)kw(i)=="input"?this.composing=2:this.composing==2&&i.selection&&(this.composing=3)}startUpdate(){this.debounceUpdate=-1;let{state:n}=this.view,e=n.field(hi);for(let t of e.active)t.state==1&&!this.running.some(i=>i.active.source==t.source)&&this.startQuery(t)}startQuery(n){let{state:e}=this.view,t=Oo(e),i=new jN(e,t,n.explicitPos==t),r=new Sne(n,i);this.running.push(r),Promise.resolve(n.source(i)).then(s=>{r.context.aborted||(r.done=s||null,this.scheduleAccept())},s=>{this.view.dispatch({effects:Lh.of(null)}),Zi(this.view.state,s)})}scheduleAccept(){this.running.every(n=>n.done!==void 0)?this.accept():this.debounceAccept<0&&(this.debounceAccept=setTimeout(()=>this.accept(),this.view.state.facet(xn).updateSyncTime))}accept(){var n;this.debounceAccept>-1&&clearTimeout(this.debounceAccept),this.debounceAccept=-1;let e=[],t=this.view.state.facet(xn);for(let i=0;i<this.running.length;i++){let r=this.running[i];if(r.done===void 0)continue;if(this.running.splice(i--,1),r.done){let o=new Da(r.active.source,r.active.explicitPos,r.done,r.done.from,(n=r.done.to)!==null&&n!==void 0?n:Oo(r.updates.length?r.updates[0].startState:this.view.state));for(let l of r.updates)o=o.update(l,t);if(o.hasResult()){e.push(o);continue}}let s=this.view.state.field(hi).active.find(o=>o.source==r.active.source);if(s&&s.state==1)if(r.done==null){let o=new Xn(r.active.source,0);for(let l of r.updates)o=o.update(l,t);o.state!=1&&e.push(o)}else this.startQuery(s)}e.length&&this.view.dispatch({effects:KN.of(e)})}},{eventHandlers:{blur(n){let e=this.view.state.field(hi,!1);if(e&&e.tooltip&&this.view.state.facet(xn).closeOnBlur){let t=e.open&&CM(this.view,e.open.tooltip);(!t||!t.dom.contains(n.relatedTarget))&&this.view.dispatch({effects:Lh.of(null)})}},compositionstart(){this.composing=1},compositionend(){this.composing==3&&setTimeout(()=>this.view.dispatch({effects:ux.of(!1)}),20),this.composing=0}}}),nL=ne.baseTheme({".cm-tooltip.cm-tooltip-autocomplete":{"& > ul":{fontFamily:"monospace",whiteSpace:"nowrap",overflow:"hidden auto",maxWidth_fallback:"700px",maxWidth:"min(700px, 95vw)",minWidth:"250px",maxHeight:"10em",height:"100%",listStyle:"none",margin:0,padding:0,"& > li, & > completion-section":{padding:"1px 3px",lineHeight:1.2},"& > li":{overflowX:"hidden",textOverflow:"ellipsis",cursor:"pointer"},"& > completion-section":{display:"list-item",borderBottom:"1px solid silver",paddingLeft:"0.5em",opacity:.7}}},"&light .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#17c",color:"white"},"&light .cm-tooltip-autocomplete-disabled ul li[aria-selected]":{background:"#777"},"&dark .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#347",color:"white"},"&dark .cm-tooltip-autocomplete-disabled ul li[aria-selected]":{background:"#444"},".cm-completionListIncompleteTop:before, .cm-completionListIncompleteBottom:after":{content:'"···"',opacity:.5,display:"block",textAlign:"center"},".cm-tooltip.cm-completionInfo":{position:"absolute",padding:"3px 9px",width:"max-content",maxWidth:"400px",boxSizing:"border-box"},".cm-completionInfo.cm-completionInfo-left":{right:"100%"},".cm-completionInfo.cm-completionInfo-right":{left:"100%"},".cm-completionInfo.cm-completionInfo-left-narrow":{right:"30px"},".cm-completionInfo.cm-completionInfo-right-narrow":{left:"30px"},"&light .cm-snippetField":{backgroundColor:"#00000022"},"&dark .cm-snippetField":{backgroundColor:"#ffffff22"},".cm-snippetFieldPosition":{verticalAlign:"text-top",width:0,height:"1.15em",display:"inline-block",margin:"0 -0.7px -.7em",borderLeft:"1.4px dotted #888"},".cm-completionMatchedText":{textDecoration:"underline"},".cm-completionDetail":{marginLeft:"0.5em",fontStyle:"italic"},".cm-completionIcon":{fontSize:"90%",width:".8em",display:"inline-block",textAlign:"center",paddingRight:".6em",opacity:"0.6",boxSizing:"content-box"},".cm-completionIcon-function, .cm-completionIcon-method":{"&:after":{content:"'ƒ'"}},".cm-completionIcon-class":{"&:after":{content:"'○'"}},".cm-completionIcon-interface":{"&:after":{content:"'◌'"}},".cm-completionIcon-variable":{"&:after":{content:"'𝑥'"}},".cm-completionIcon-constant":{"&:after":{content:"'𝐶'"}},".cm-completionIcon-type":{"&:after":{content:"'𝑡'"}},".cm-completionIcon-enum":{"&:after":{content:"'∪'"}},".cm-completionIcon-property":{"&:after":{content:"'□'"}},".cm-completionIcon-keyword":{"&:after":{content:"'🔑︎'"}},".cm-completionIcon-namespace":{"&:after":{content:"'▢'"}},".cm-completionIcon-text":{"&:after":{content:"'abc'",fontSize:"50%",verticalAlign:"middle"}}});class kne{constructor(e,t,i,r){this.field=e,this.line=t,this.from=i,this.to=r}}class cx{constructor(e,t,i){this.field=e,this.from=t,this.to=i}map(e){let t=e.mapPos(this.from,-1,an.TrackDel),i=e.mapPos(this.to,1,an.TrackDel);return t==null||i==null?null:new cx(this.field,t,i)}}class hx{constructor(e,t){this.lines=e,this.fieldPositions=t}instantiate(e,t){let i=[],r=[t],s=e.doc.lineAt(t),o=/^\s*/.exec(s.text)[0];for(let u of this.lines){if(i.length){let h=o,f=/^\t*/.exec(u)[0].length;for(let p=0;p<f;p++)h+=e.facet(cO);r.push(t+h.length-f),u=h+u.slice(f)}i.push(u),t+=u.length+1}let l=this.fieldPositions.map(u=>new cx(u.field,r[u.line]+u.from,r[u.line]+u.to));return{text:i,ranges:l}}static parse(e){let t=[],i=[],r=[],s;for(let o of e.split(/\r\n?|\n/)){for(;s=/[#$]\{(?:(\d+)(?::([^}]*))?|([^}]*))\}/.exec(o);){let l=s[1]?+s[1]:null,u=s[2]||s[3]||"",h=-1;for(let f=0;f<t.length;f++)(l!=null?t[f].seq==l:u&&t[f].name==u)&&(h=f);if(h<0){let f=0;for(;f<t.length&&(l==null||t[f].seq!=null&&t[f].seq<l);)f++;t.splice(f,0,{seq:l,name:u}),h=f;for(let p of r)p.field>=h&&p.field++}r.push(new kne(h,i.length,s.index,s.index+u.length)),o=o.slice(0,s.index)+u+o.slice(s.index+s[0].length)}for(let l;l=/\\([{}])/.exec(o);){o=o.slice(0,l.index)+l[1]+o.slice(l.index+l[0].length);for(let u of r)u.line==i.length&&u.from>l.index&&(u.from--,u.to--)}i.push(o)}return new hx(i,r)}}let Ene=he.widget({widget:new class extends Br{toDOM(){let n=document.createElement("span");return n.className="cm-snippetFieldPosition",n}ignoreEvent(){return!1}}}),Pne=he.mark({class:"cm-snippetField"});class _u{constructor(e,t){this.ranges=e,this.active=t,this.deco=he.set(e.map(i=>(i.from==i.to?Ene:Pne).range(i.from,i.to)))}map(e){let t=[];for(let i of this.ranges){let r=i.map(e);if(!r)return null;t.push(r)}return new _u(t,this.active)}selectionInsideField(e){return e.ranges.every(t=>this.ranges.some(i=>i.field==this.active&&i.from<=t.from&&i.to>=t.to))}}const kf=Se.define({map(n,e){return n&&n.map(e)}}),bne=Se.define(),Vh=Ft.define({create(){return null},update(n,e){for(let t of e.effects){if(t.is(kf))return t.value;if(t.is(bne)&&n)return new _u(n.ranges,t.value)}return n&&e.docChanged&&(n=n.map(e.changes)),n&&e.selection&&!n.selectionInsideField(e.selection)&&(n=null),n},provide:n=>ne.decorations.from(n,e=>e?e.deco:he.none)});function fx(n,e){return L.create(n.filter(t=>t.field==e).map(t=>L.range(t.from,t.to)))}function Cne(n){let e=hx.parse(n);return(t,i,r,s)=>{let{text:o,ranges:l}=e.instantiate(t.state,r),u={changes:{from:r,to:s,insert:Le.of(o)},scrollIntoView:!0,annotations:i?HN.of(i):void 0};if(l.length&&(u.selection=fx(l,0)),l.length>1){let h=new _u(l,0),f=u.effects=[kf.of(h)];t.state.field(Vh,!1)===void 0&&f.push(Se.appendConfig.of([Vh,Qne,Dne,nL]))}t.dispatch(t.state.update(u))}}function iL(n){return({state:e,dispatch:t})=>{let i=e.field(Vh,!1);if(!i||n<0&&i.active==0)return!1;let r=i.active+n,s=n>0&&!i.ranges.some(o=>o.field==r+n);return t(e.update({selection:fx(i.ranges,r),effects:kf.of(s?null:new _u(i.ranges,r)),scrollIntoView:!0})),!0}}const Ane=({state:n,dispatch:e})=>n.field(Vh,!1)?(e(n.update({effects:kf.of(null)})),!0):!1,Ine=iL(1),Rne=iL(-1),$ne=[{key:"Tab",run:Ine,shift:Rne},{key:"Escape",run:Ane}],aA=se.define({combine(n){return n.length?n[0]:$ne}}),Qne=Al.highest(vf.compute([aA],n=>n.facet(aA)));function Fn(n,e){return Object.assign(Object.assign({},e),{apply:Cne(n)})}const Dne=ne.domEventHandlers({mousedown(n,e){let t=e.state.field(Vh,!1),i;if(!t||(i=e.posAtCoords({x:n.clientX,y:n.clientY}))==null)return!1;let r=t.ranges.find(s=>s.from<=i&&s.to>=i);return!r||r.field==t.active?!1:(e.dispatch({selection:fx(t.ranges,r.field),effects:kf.of(t.ranges.some(s=>s.field>r.field)?new _u(t.ranges,r.field):null),scrollIntoView:!0}),!0)}}),Zh={brackets:["(","[","{","'",'"'],before:")]}:;>",stringPrefixes:[]},rl=Se.define({map(n,e){let t=e.mapPos(n,-1,an.TrackAfter);return t??void 0}}),dx=new class extends Sl{};dx.startSide=1;dx.endSide=-1;const rL=Ft.define({create(){return Be.empty},update(n,e){if(e.selection){let t=e.state.doc.lineAt(e.selection.main.head).from,i=e.startState.doc.lineAt(e.startState.selection.main.head).from;t!=e.changes.mapPos(i,-1)&&(n=Be.empty)}n=n.map(e.changes);for(let t of e.effects)t.is(rl)&&(n=n.update({add:[dx.range(t.value,t.value+1)]}));return n}});function Mne(){return[Lne,rL]}const nv="()[]{}<>";function sL(n){for(let e=0;e<nv.length;e+=2)if(nv.charCodeAt(e)==n)return nv.charAt(e+1);return N_(n<128?n:n+1)}function oL(n,e){return n.languageDataAt("closeBrackets",e)[0]||Zh}const Nne=typeof navigator=="object"&&/Android\b/.test(navigator.userAgent),Lne=ne.inputHandler.of((n,e,t,i)=>{if((Nne?n.composing:n.compositionStarted)||n.state.readOnly)return!1;let r=n.state.selection.main;if(i.length>2||i.length==2&&Mi(sn(i,0))==1||e!=r.from||t!=r.to)return!1;let s=Une(n.state,i);return s?(n.dispatch(s),!0):!1}),Vne=({state:n,dispatch:e})=>{if(n.readOnly)return!1;let i=oL(n,n.selection.main.head).brackets||Zh.brackets,r=null,s=n.changeByRange(o=>{if(o.empty){let l=Bne(n.doc,o.head);for(let u of i)if(u==l&&OO(n.doc,o.head)==sL(sn(u,0)))return{changes:{from:o.head-u.length,to:o.head+u.length},range:L.cursor(o.head-u.length)}}return{range:r=o}});return r||e(n.update(s,{scrollIntoView:!0,userEvent:"delete.backward"})),!r},Zne=[{key:"Backspace",run:Vne}];function Une(n,e){let t=oL(n,n.selection.main.head),i=t.brackets||Zh.brackets;for(let r of i){let s=sL(sn(r,0));if(e==r)return s==r?Fne(n,r,i.indexOf(r+r+r)>-1,t):Wne(n,r,s,t.before||Zh.before);if(e==s&&lL(n,n.selection.main.from))return Yne(n,r,s)}return null}function lL(n,e){let t=!1;return n.field(rL).between(0,n.doc.length,i=>{i==e&&(t=!0)}),t}function OO(n,e){let t=n.sliceString(e,e+2);return t.slice(0,Mi(sn(t,0)))}function Bne(n,e){let t=n.sliceString(e-2,e);return Mi(sn(t,0))==t.length?t:t.slice(1)}function Wne(n,e,t,i){let r=null,s=n.changeByRange(o=>{if(!o.empty)return{changes:[{insert:e,from:o.from},{insert:t,from:o.to}],effects:rl.of(o.to+e.length),range:L.range(o.anchor+e.length,o.head+e.length)};let l=OO(n.doc,o.head);return!l||/\s/.test(l)||i.indexOf(l)>-1?{changes:{insert:e+t,from:o.head},effects:rl.of(o.head+e.length),range:L.cursor(o.head+e.length)}:{range:r=o}});return r?null:n.update(s,{scrollIntoView:!0,userEvent:"input.type"})}function Yne(n,e,t){let i=null,r=n.changeByRange(s=>s.empty&&OO(n.doc,s.head)==t?{changes:{from:s.head,to:s.head+t.length,insert:t},range:L.cursor(s.head+t.length)}:i={range:s});return i?null:n.update(r,{scrollIntoView:!0,userEvent:"input.type"})}function Fne(n,e,t,i){let r=i.stringPrefixes||Zh.stringPrefixes,s=null,o=n.changeByRange(l=>{if(!l.empty)return{changes:[{insert:e,from:l.from},{insert:e,from:l.to}],effects:rl.of(l.to+e.length),range:L.range(l.anchor+e.length,l.head+e.length)};let u=l.head,h=OO(n.doc,u),f;if(h==e){if(uA(n,u))return{changes:{insert:e+e,from:u},effects:rl.of(u+e.length),range:L.cursor(u+e.length)};if(lL(n,u)){let g=t&&n.sliceDoc(u,u+e.length*3)==e+e+e?e+e+e:e;return{changes:{from:u,to:u+g.length,insert:g},range:L.cursor(u+g.length)}}}else{if(t&&n.sliceDoc(u-2*e.length,u)==e+e&&(f=cA(n,u-2*e.length,r))>-1&&uA(n,f))return{changes:{insert:e+e+e+e,from:u},effects:rl.of(u+e.length),range:L.cursor(u+e.length)};if(n.charCategorizer(u)(h)!=ct.Word&&cA(n,u,r)>-1&&!zne(n,u,e,r))return{changes:{insert:e+e,from:u},effects:rl.of(u+e.length),range:L.cursor(u+e.length)}}return{range:s=l}});return s?null:n.update(o,{scrollIntoView:!0,userEvent:"input.type"})}function uA(n,e){let t=Dt(n).resolveInner(e+1);return t.parent&&t.from==e}function zne(n,e,t,i){let r=Dt(n).resolveInner(e,-1),s=i.reduce((o,l)=>Math.max(o,l.length),0);for(let o=0;o<5;o++){let l=n.sliceDoc(r.from,Math.min(r.to,r.from+t.length+s)),u=l.indexOf(t);if(!u||u>-1&&i.indexOf(l.slice(0,u))>-1){let f=r.firstChild;for(;f&&f.from==r.from&&f.to-f.from>t.length+u;){if(n.sliceDoc(f.to-t.length,f.to)==t)return!1;f=f.firstChild}return!0}let h=r.to==e&&r.parent;if(!h)break;r=h}return!1}function cA(n,e,t){let i=n.charCategorizer(e);if(i(n.sliceDoc(e-1,e))!=ct.Word)return e;for(let r of t){let s=e-r.length;if(n.sliceDoc(s,e)==r&&i(n.sliceDoc(s-1,s))!=ct.Word)return s}return-1}function aL(n={}){return[hi,xn.of(n),Tne,Xne,nL]}const uL=[{key:"Ctrl-Space",run:tL},{key:"Escape",run:wne},{key:"ArrowDown",run:ap(!0)},{key:"ArrowUp",run:ap(!1)},{key:"PageDown",run:ap(!0,"page")},{key:"PageUp",run:ap(!1,"page")},{key:"Enter",run:vne}],Xne=Al.highest(vf.computeN([xn],n=>n.facet(xn).defaultKeymap?[uL]:[]));class jne{constructor(e,t,i){this.from=e,this.to=t,this.diagnostic=i}}class qo{constructor(e,t,i){this.diagnostics=e,this.panel=t,this.selected=i}static init(e,t,i){let r=e,s=i.facet(fL).markerFilter;s&&(r=s(r));let o=he.set(r.map(l=>l.from==l.to||l.from==l.to-1&&i.doc.lineAt(l.from).to==l.from?he.widget({widget:new iie(l),diagnostic:l}).range(l.from):he.mark({attributes:{class:"cm-lintRange cm-lintRange-"+l.severity+(l.markClass?" "+l.markClass:"")},diagnostic:l}).range(l.from,l.to)),!0);return new qo(o,t,su(o))}}function su(n,e=null,t=0){let i=null;return n.between(t,1e9,(r,s,{spec:o})=>{if(!(e&&o.diagnostic!=e))return i=new jne(r,s,o.diagnostic),!1}),i}function qne(n,e){let t=n.startState.doc.lineAt(e.pos);return!!(n.effects.some(i=>i.is(cL))||n.changes.touchesRange(t.from,t.to))}function Gne(n,e){return n.field(pi,!1)?e:e.concat(Se.appendConfig.of(oie))}const cL=Se.define(),px=Se.define(),hL=Se.define(),pi=Ft.define({create(){return new qo(he.none,null,null)},update(n,e){if(e.docChanged){let t=n.diagnostics.map(e.changes),i=null;if(n.selected){let r=e.changes.mapPos(n.selected.from,1);i=su(t,n.selected.diagnostic,r)||su(t,null,r)}n=new qo(t,n.panel,i)}for(let t of e.effects)t.is(cL)?n=qo.init(t.value,n.panel,e.state):t.is(px)?n=new qo(n.diagnostics,t.value?yO.open:null,n.selected):t.is(hL)&&(n=new qo(n.diagnostics,n.panel,t.value));return n},provide:n=>[Qh.from(n,e=>e.panel),ne.decorations.from(n,e=>e.diagnostics)]}),Hne=he.mark({class:"cm-lintRange cm-lintRange-active"});function Kne(n,e,t){let{diagnostics:i}=n.state.field(pi),r=[],s=2e8,o=0;i.between(e-(t<0?1:0),e+(t>0?1:0),(u,h,{spec:f})=>{e>=u&&e<=h&&(u==h||(e>u||t>0)&&(e<h||t<0))&&(r.push(f.diagnostic),s=Math.min(u,s),o=Math.max(h,o))});let l=n.state.facet(fL).tooltipFilter;return l&&(r=l(r)),r.length?{pos:s,end:o,above:n.state.doc.lineAt(s).to<o,create(){return{dom:Jne(n,r)}}}:null}function Jne(n,e){return He("ul",{class:"cm-tooltip-lint"},e.map(t=>pL(n,t,!1)))}const eie=n=>{let e=n.state.field(pi,!1);(!e||!e.panel)&&n.dispatch({effects:Gne(n.state,[px.of(!0)])});let t=$h(n,yO.open);return t&&t.dom.querySelector(".cm-panel-lint ul").focus(),!0},hA=n=>{let e=n.state.field(pi,!1);return!e||!e.panel?!1:(n.dispatch({effects:px.of(!1)}),!0)},tie=n=>{let e=n.state.field(pi,!1);if(!e)return!1;let t=n.state.selection.main,i=e.diagnostics.iter(t.to+1);return!i.value&&(i=e.diagnostics.iter(0),!i.value||i.from==t.from&&i.to==t.to)?!1:(n.dispatch({selection:{anchor:i.from,head:i.to},scrollIntoView:!0}),!0)},nie=[{key:"Mod-Shift-m",run:eie,preventDefault:!0},{key:"F8",run:tie}],fL=se.define({combine(n){return Object.assign({sources:n.map(e=>e.source)},Ur(n.map(e=>e.config),{delay:750,markerFilter:null,tooltipFilter:null,needsRefresh:null},{needsRefresh:(e,t)=>e?t?i=>e(i)||t(i):e:t}))}});function dL(n){let e=[];if(n)e:for(let{name:t}of n){for(let i=0;i<t.length;i++){let r=t[i];if(/[a-zA-Z]/.test(r)&&!e.some(s=>s.toLowerCase()==r.toLowerCase())){e.push(r);continue e}}e.push("")}return e}function pL(n,e,t){var i;let r=t?dL(e.actions):[];return He("li",{class:"cm-diagnostic cm-diagnostic-"+e.severity},He("span",{class:"cm-diagnosticText"},e.renderMessage?e.renderMessage():e.message),(i=e.actions)===null||i===void 0?void 0:i.map((s,o)=>{let l=!1,u=g=>{if(g.preventDefault(),l)return;l=!0;let O=su(n.state.field(pi).diagnostics,e);O&&s.apply(n,O.from,O.to)},{name:h}=s,f=r[o]?h.indexOf(r[o]):-1,p=f<0?h:[h.slice(0,f),He("u",h.slice(f,f+1)),h.slice(f+1)];return He("button",{type:"button",class:"cm-diagnosticAction",onclick:u,onmousedown:u,"aria-label":` Action: ${h}${f<0?"":` (access key "${r[o]})"`}.`},p)}),e.source&&He("div",{class:"cm-diagnosticSource"},e.source))}class iie extends Br{constructor(e){super(),this.diagnostic=e}eq(e){return e.diagnostic==this.diagnostic}toDOM(){return He("span",{class:"cm-lintPoint cm-lintPoint-"+this.diagnostic.severity})}}class fA{constructor(e,t){this.diagnostic=t,this.id="item_"+Math.floor(Math.random()*4294967295).toString(16),this.dom=pL(e,t,!0),this.dom.id=this.id,this.dom.setAttribute("role","option")}}class yO{constructor(e){this.view=e,this.items=[];let t=r=>{if(r.keyCode==27)hA(this.view),this.view.focus();else if(r.keyCode==38||r.keyCode==33)this.moveSelection((this.selectedIndex-1+this.items.length)%this.items.length);else if(r.keyCode==40||r.keyCode==34)this.moveSelection((this.selectedIndex+1)%this.items.length);else if(r.keyCode==36)this.moveSelection(0);else if(r.keyCode==35)this.moveSelection(this.items.length-1);else if(r.keyCode==13)this.view.focus();else if(r.keyCode>=65&&r.keyCode<=90&&this.selectedIndex>=0){let{diagnostic:s}=this.items[this.selectedIndex],o=dL(s.actions);for(let l=0;l<o.length;l++)if(o[l].toUpperCase().charCodeAt(0)==r.keyCode){let u=su(this.view.state.field(pi).diagnostics,s);u&&s.actions[l].apply(e,u.from,u.to)}}else return;r.preventDefault()},i=r=>{for(let s=0;s<this.items.length;s++)this.items[s].dom.contains(r.target)&&this.moveSelection(s)};this.list=He("ul",{tabIndex:0,role:"listbox","aria-label":this.view.state.phrase("Diagnostics"),onkeydown:t,onclick:i}),this.dom=He("div",{class:"cm-panel-lint"},this.list,He("button",{type:"button",name:"close","aria-label":this.view.state.phrase("close"),onclick:()=>hA(this.view)},"×")),this.update()}get selectedIndex(){let e=this.view.state.field(pi).selected;if(!e)return-1;for(let t=0;t<this.items.length;t++)if(this.items[t].diagnostic==e.diagnostic)return t;return-1}update(){let{diagnostics:e,selected:t}=this.view.state.field(pi),i=0,r=!1,s=null;for(e.between(0,this.view.state.doc.length,(o,l,{spec:u})=>{let h=-1,f;for(let p=i;p<this.items.length;p++)if(this.items[p].diagnostic==u.diagnostic){h=p;break}h<0?(f=new fA(this.view,u.diagnostic),this.items.splice(i,0,f),r=!0):(f=this.items[h],h>i&&(this.items.splice(i,h-i),r=!0)),t&&f.diagnostic==t.diagnostic?f.dom.hasAttribute("aria-selected")||(f.dom.setAttribute("aria-selected","true"),s=f):f.dom.hasAttribute("aria-selected")&&f.dom.removeAttribute("aria-selected"),i++});i<this.items.length&&!(this.items.length==1&&this.items[0].diagnostic.from<0);)r=!0,this.items.pop();this.items.length==0&&(this.items.push(new fA(this.view,{from:-1,to:-1,severity:"info",message:this.view.state.phrase("No diagnostics")})),r=!0),s?(this.list.setAttribute("aria-activedescendant",s.id),this.view.requestMeasure({key:this,read:()=>({sel:s.dom.getBoundingClientRect(),panel:this.list.getBoundingClientRect()}),write:({sel:o,panel:l})=>{let u=l.height/this.list.offsetHeight;o.top<l.top?this.list.scrollTop-=(l.top-o.top)/u:o.bottom>l.bottom&&(this.list.scrollTop+=(o.bottom-l.bottom)/u)}})):this.selectedIndex<0&&this.list.removeAttribute("aria-activedescendant"),r&&this.sync()}sync(){let e=this.list.firstChild;function t(){let i=e;e=i.nextSibling,i.remove()}for(let i of this.items)if(i.dom.parentNode==this.list){for(;e!=i.dom;)t();e=i.dom.nextSibling}else this.list.insertBefore(i.dom,e);for(;e;)t()}moveSelection(e){if(this.selectedIndex<0)return;let t=this.view.state.field(pi),i=su(t.diagnostics,this.items[e].diagnostic);i&&this.view.dispatch({selection:{anchor:i.from,head:i.to},scrollIntoView:!0,effects:hL.of(i)})}static open(e){return new yO(e)}}function rie(n,e='viewBox="0 0 40 40"'){return`url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" ${e}>${encodeURIComponent(n)}</svg>')`}function up(n){return rie(`<path d="m0 2.5 l2 -1.5 l1 0 l2 1.5 l1 0" stroke="${n}" fill="none" stroke-width=".7"/>`,'width="6" height="3"')}const sie=ne.baseTheme({".cm-diagnostic":{padding:"3px 6px 3px 8px",marginLeft:"-1px",display:"block",whiteSpace:"pre-wrap"},".cm-diagnostic-error":{borderLeft:"5px solid #d11"},".cm-diagnostic-warning":{borderLeft:"5px solid orange"},".cm-diagnostic-info":{borderLeft:"5px solid #999"},".cm-diagnostic-hint":{borderLeft:"5px solid #66d"},".cm-diagnosticAction":{font:"inherit",border:"none",padding:"2px 4px",backgroundColor:"#444",color:"white",borderRadius:"3px",marginLeft:"8px",cursor:"pointer"},".cm-diagnosticSource":{fontSize:"70%",opacity:.7},".cm-lintRange":{backgroundPosition:"left bottom",backgroundRepeat:"repeat-x",paddingBottom:"0.7px"},".cm-lintRange-error":{backgroundImage:up("#d11")},".cm-lintRange-warning":{backgroundImage:up("orange")},".cm-lintRange-info":{backgroundImage:up("#999")},".cm-lintRange-hint":{backgroundImage:up("#66d")},".cm-lintRange-active":{backgroundColor:"#ffdd9980"},".cm-tooltip-lint":{padding:0,margin:0},".cm-lintPoint":{position:"relative","&:after":{content:'""',position:"absolute",bottom:0,left:"-2px",borderLeft:"3px solid transparent",borderRight:"3px solid transparent",borderBottom:"4px solid #d11"}},".cm-lintPoint-warning":{"&:after":{borderBottomColor:"orange"}},".cm-lintPoint-info":{"&:after":{borderBottomColor:"#999"}},".cm-lintPoint-hint":{"&:after":{borderBottomColor:"#66d"}},".cm-panel.cm-panel-lint":{position:"relative","& ul":{maxHeight:"100px",overflowY:"auto","& [aria-selected]":{backgroundColor:"#ddd","& u":{textDecoration:"underline"}},"&:focus [aria-selected]":{background_fallback:"#bdf",backgroundColor:"Highlight",color_fallback:"white",color:"HighlightText"},"& u":{textDecoration:"none"},padding:0,margin:0},"& [name=close]":{position:"absolute",top:"0",right:"2px",background:"inherit",border:"none",font:"inherit",padding:0,margin:0}}}),oie=[pi,ne.decorations.compute([pi],n=>{let{selected:e,panel:t}=n.field(pi);return!e||!t||e.from==e.to?he.none:he.set([Hne.range(e.from,e.to)])}),eJ(Kne,{hideOn:qne}),sie],lie=(()=>[uJ(),fJ(),AK(),Aee(),nee(),vK(),TK(),Me.allowMultipleSelections.of(!0),BJ(),eN(oee,{fallback:!0}),dee(),Mne(),aL(),YK(),XK(),MK(),Qte(),vf.of([...Zne,...MN,...Jte,...Vee,...KJ,...uL,...nie])])();class om{constructor(e,t,i,r,s,o,l,u,h,f=0,p){this.p=e,this.stack=t,this.state=i,this.reducePos=r,this.pos=s,this.score=o,this.buffer=l,this.bufferBase=u,this.curContext=h,this.lookAhead=f,this.parent=p}toString(){return`[${this.stack.filter((e,t)=>t%3==0).concat(this.state)}]@${this.pos}${this.score?"!"+this.score:""}`}static start(e,t,i=0){let r=e.parser.context;return new om(e,[],t,i,i,0,[],0,r?new dA(r,r.start):null,0,null)}get context(){return this.curContext?this.curContext.context:null}pushState(e,t){this.stack.push(this.state,t,this.bufferBase+this.buffer.length),this.state=e}reduce(e){var t;let i=e>>19,r=e&65535,{parser:s}=this.p,o=s.dynamicPrecedence(r);if(o&&(this.score+=o),i==0){this.pushState(s.getGoto(this.state,r,!0),this.reducePos),r<s.minRepeatTerm&&this.storeNode(r,this.reducePos,this.reducePos,4,!0),this.reduceContext(r,this.reducePos);return}let l=this.stack.length-(i-1)*3-(e&262144?6:0),u=l?this.stack[l-2]:this.p.ranges[0].from,h=this.reducePos-u;h>=2e3&&!(!((t=this.p.parser.nodeSet.types[r])===null||t===void 0)&&t.isAnonymous)&&(u==this.p.lastBigReductionStart?(this.p.bigReductionCount++,this.p.lastBigReductionSize=h):this.p.lastBigReductionSize<h&&(this.p.bigReductionCount=1,this.p.lastBigReductionStart=u,this.p.lastBigReductionSize=h));let f=l?this.stack[l-1]:0,p=this.bufferBase+this.buffer.length-f;if(r<s.minRepeatTerm||e&131072){let g=s.stateFlag(this.state,1)?this.pos:this.reducePos;this.storeNode(r,u,g,p+4,!0)}if(e&262144)this.state=this.stack[l];else{let g=this.stack[l-3];this.state=s.getGoto(g,r,!0)}for(;this.stack.length>l;)this.stack.pop();this.reduceContext(r,u)}storeNode(e,t,i,r=4,s=!1){if(e==0&&(!this.stack.length||this.stack[this.stack.length-1]<this.buffer.length+this.bufferBase)){let o=this,l=this.buffer.length;if(l==0&&o.parent&&(l=o.bufferBase-o.parent.bufferBase,o=o.parent),l>0&&o.buffer[l-4]==0&&o.buffer[l-1]>-1){if(t==i)return;if(o.buffer[l-2]>=t){o.buffer[l-2]=i;return}}}if(!s||this.pos==i)this.buffer.push(e,t,i,r);else{let o=this.buffer.length;if(o>0&&this.buffer[o-4]!=0)for(;o>0&&this.buffer[o-2]>i;)this.buffer[o]=this.buffer[o-4],this.buffer[o+1]=this.buffer[o-3],this.buffer[o+2]=this.buffer[o-2],this.buffer[o+3]=this.buffer[o-1],o-=4,r>4&&(r-=4);this.buffer[o]=e,this.buffer[o+1]=t,this.buffer[o+2]=i,this.buffer[o+3]=r}}shift(e,t,i,r){if(e&131072)this.pushState(e&65535,this.pos);else if(e&262144)this.pos=r,this.shiftContext(t,i),t<=this.p.parser.maxNode&&this.buffer.push(t,i,r,4);else{let s=e,{parser:o}=this.p;(r>this.pos||t<=o.maxNode)&&(this.pos=r,o.stateFlag(s,1)||(this.reducePos=r)),this.pushState(s,i),this.shiftContext(t,i),t<=o.maxNode&&this.buffer.push(t,i,r,4)}}apply(e,t,i,r){e&65536?this.reduce(e):this.shift(e,t,i,r)}useNode(e,t){let i=this.p.reused.length-1;(i<0||this.p.reused[i]!=e)&&(this.p.reused.push(e),i++);let r=this.pos;this.reducePos=this.pos=r+e.length,this.pushState(t,r),this.buffer.push(i,r,this.reducePos,-1),this.curContext&&this.updateContext(this.curContext.tracker.reuse(this.curContext.context,e,this,this.p.stream.reset(this.pos-e.length)))}split(){let e=this,t=e.buffer.length;for(;t>0&&e.buffer[t-2]>e.reducePos;)t-=4;let i=e.buffer.slice(t),r=e.bufferBase+t;for(;e&&r==e.bufferBase;)e=e.parent;return new om(this.p,this.stack.slice(),this.state,this.reducePos,this.pos,this.score,i,r,this.curContext,this.lookAhead,e)}recoverByDelete(e,t){let i=e<=this.p.parser.maxNode;i&&this.storeNode(e,this.pos,t,4),this.storeNode(0,this.pos,t,i?8:4),this.pos=this.reducePos=t,this.score-=190}canShift(e){for(let t=new aie(this);;){let i=this.p.parser.stateSlot(t.state,4)||this.p.parser.hasAction(t.state,e);if(i==0)return!1;if(!(i&65536))return!0;t.reduce(i)}}recoverByInsert(e){if(this.stack.length>=300)return[];let t=this.p.parser.nextStates(this.state);if(t.length>8||this.stack.length>=120){let r=[];for(let s=0,o;s<t.length;s+=2)(o=t[s+1])!=this.state&&this.p.parser.hasAction(o,e)&&r.push(t[s],o);if(this.stack.length<120)for(let s=0;r.length<8&&s<t.length;s+=2){let o=t[s+1];r.some((l,u)=>u&1&&l==o)||r.push(t[s],o)}t=r}let i=[];for(let r=0;r<t.length&&i.length<4;r+=2){let s=t[r+1];if(s==this.state)continue;let o=this.split();o.pushState(s,this.pos),o.storeNode(0,o.pos,o.pos,4,!0),o.shiftContext(t[r],this.pos),o.reducePos=this.pos,o.score-=200,i.push(o)}return i}forceReduce(){let{parser:e}=this.p,t=e.stateSlot(this.state,5);if(!(t&65536))return!1;if(!e.validAction(this.state,t)){let i=t>>19,r=t&65535,s=this.stack.length-i*3;if(s<0||e.getGoto(this.stack[s],r,!1)<0){let o=this.findForcedReduction();if(o==null)return!1;t=o}this.storeNode(0,this.pos,this.pos,4,!0),this.score-=100}return this.reducePos=this.pos,this.reduce(t),!0}findForcedReduction(){let{parser:e}=this.p,t=[],i=(r,s)=>{if(!t.includes(r))return t.push(r),e.allActions(r,o=>{if(!(o&393216))if(o&65536){let l=(o>>19)-s;if(l>1){let u=o&65535,h=this.stack.length-l*3;if(h>=0&&e.getGoto(this.stack[h],u,!1)>=0)return l<<19|65536|u}}else{let l=i(o,s+1);if(l!=null)return l}})};return i(this.state,0)}forceAll(){for(;!this.p.parser.stateFlag(this.state,2);)if(!this.forceReduce()){this.storeNode(0,this.pos,this.pos,4,!0);break}return this}get deadEnd(){if(this.stack.length!=3)return!1;let{parser:e}=this.p;return e.data[e.stateSlot(this.state,1)]==65535&&!e.stateSlot(this.state,4)}restart(){this.storeNode(0,this.pos,this.pos,4,!0),this.state=this.stack[0],this.stack.length=0}sameState(e){if(this.state!=e.state||this.stack.length!=e.stack.length)return!1;for(let t=0;t<this.stack.length;t+=3)if(this.stack[t]!=e.stack[t])return!1;return!0}get parser(){return this.p.parser}dialectEnabled(e){return this.p.parser.dialect.flags[e]}shiftContext(e,t){this.curContext&&this.updateContext(this.curContext.tracker.shift(this.curContext.context,e,this,this.p.stream.reset(t)))}reduceContext(e,t){this.curContext&&this.updateContext(this.curContext.tracker.reduce(this.curContext.context,e,this,this.p.stream.reset(t)))}emitContext(){let e=this.buffer.length-1;(e<0||this.buffer[e]!=-3)&&this.buffer.push(this.curContext.hash,this.pos,this.pos,-3)}emitLookAhead(){let e=this.buffer.length-1;(e<0||this.buffer[e]!=-4)&&this.buffer.push(this.lookAhead,this.pos,this.pos,-4)}updateContext(e){if(e!=this.curContext.context){let t=new dA(this.curContext.tracker,e);t.hash!=this.curContext.hash&&this.emitContext(),this.curContext=t}}setLookAhead(e){e>this.lookAhead&&(this.emitLookAhead(),this.lookAhead=e)}close(){this.curContext&&this.curContext.tracker.strict&&this.emitContext(),this.lookAhead>0&&this.emitLookAhead()}}class dA{constructor(e,t){this.tracker=e,this.context=t,this.hash=e.strict?e.hash(t):0}}class aie{constructor(e){this.start=e,this.state=e.state,this.stack=e.stack,this.base=this.stack.length}reduce(e){let t=e&65535,i=e>>19;i==0?(this.stack==this.start.stack&&(this.stack=this.stack.slice()),this.stack.push(this.state,0,0),this.base+=3):this.base-=(i-1)*3;let r=this.start.p.parser.getGoto(this.stack[this.base-3],t,!0);this.state=r}}class lm{constructor(e,t,i){this.stack=e,this.pos=t,this.index=i,this.buffer=e.buffer,this.index==0&&this.maybeNext()}static create(e,t=e.bufferBase+e.buffer.length){return new lm(e,t,t-e.bufferBase)}maybeNext(){let e=this.stack.parent;e!=null&&(this.index=this.stack.bufferBase-e.bufferBase,this.stack=e,this.buffer=e.buffer)}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}next(){this.index-=4,this.pos-=4,this.index==0&&this.maybeNext()}fork(){return new lm(this.stack,this.pos,this.index)}}function Tc(n,e=Uint16Array){if(typeof n!="string")return n;let t=null;for(let i=0,r=0;i<n.length;){let s=0;for(;;){let o=n.charCodeAt(i++),l=!1;if(o==126){s=65535;break}o>=92&&o--,o>=34&&o--;let u=o-32;if(u>=46&&(u-=46,l=!0),s+=u,l)break;s*=46}t?t[r++]=s:t=new e(s)}return t}class Zp{constructor(){this.start=-1,this.value=-1,this.end=-1,this.extended=-1,this.lookAhead=0,this.mask=0,this.context=0}}const pA=new Zp;class uie{constructor(e,t){this.input=e,this.ranges=t,this.chunk="",this.chunkOff=0,this.chunk2="",this.chunk2Pos=0,this.next=-1,this.token=pA,this.rangeIndex=0,this.pos=this.chunkPos=t[0].from,this.range=t[0],this.end=t[t.length-1].to,this.readNext()}resolveOffset(e,t){let i=this.range,r=this.rangeIndex,s=this.pos+e;for(;s<i.from;){if(!r)return null;let o=this.ranges[--r];s-=i.from-o.to,i=o}for(;t<0?s>i.to:s>=i.to;){if(r==this.ranges.length-1)return null;let o=this.ranges[++r];s+=o.from-i.to,i=o}return s}clipPos(e){if(e>=this.range.from&&e<this.range.to)return e;for(let t of this.ranges)if(t.to>e)return Math.max(e,t.from);return this.end}peek(e){let t=this.chunkOff+e,i,r;if(t>=0&&t<this.chunk.length)i=this.pos+e,r=this.chunk.charCodeAt(t);else{let s=this.resolveOffset(e,1);if(s==null)return-1;if(i=s,i>=this.chunk2Pos&&i<this.chunk2Pos+this.chunk2.length)r=this.chunk2.charCodeAt(i-this.chunk2Pos);else{let o=this.rangeIndex,l=this.range;for(;l.to<=i;)l=this.ranges[++o];this.chunk2=this.input.chunk(this.chunk2Pos=i),i+this.chunk2.length>l.to&&(this.chunk2=this.chunk2.slice(0,l.to-i)),r=this.chunk2.charCodeAt(0)}}return i>=this.token.lookAhead&&(this.token.lookAhead=i+1),r}acceptToken(e,t=0){let i=t?this.resolveOffset(t,-1):this.pos;if(i==null||i<this.token.start)throw new RangeError("Token end out of bounds");this.token.value=e,this.token.end=i}getChunk(){if(this.pos>=this.chunk2Pos&&this.pos<this.chunk2Pos+this.chunk2.length){let{chunk:e,chunkPos:t}=this;this.chunk=this.chunk2,this.chunkPos=this.chunk2Pos,this.chunk2=e,this.chunk2Pos=t,this.chunkOff=this.pos-this.chunkPos}else{this.chunk2=this.chunk,this.chunk2Pos=this.chunkPos;let e=this.input.chunk(this.pos),t=this.pos+e.length;this.chunk=t>this.range.to?e.slice(0,this.range.to-this.pos):e,this.chunkPos=this.pos,this.chunkOff=0}}readNext(){return this.chunkOff>=this.chunk.length&&(this.getChunk(),this.chunkOff==this.chunk.length)?this.next=-1:this.next=this.chunk.charCodeAt(this.chunkOff)}advance(e=1){for(this.chunkOff+=e;this.pos+e>=this.range.to;){if(this.rangeIndex==this.ranges.length-1)return this.setDone();e-=this.range.to-this.pos,this.range=this.ranges[++this.rangeIndex],this.pos=this.range.from}return this.pos+=e,this.pos>=this.token.lookAhead&&(this.token.lookAhead=this.pos+1),this.readNext()}setDone(){return this.pos=this.chunkPos=this.end,this.range=this.ranges[this.rangeIndex=this.ranges.length-1],this.chunk="",this.next=-1}reset(e,t){if(t?(this.token=t,t.start=e,t.lookAhead=e+1,t.value=t.extended=-1):this.token=pA,this.pos!=e){if(this.pos=e,e==this.end)return this.setDone(),this;for(;e<this.range.from;)this.range=this.ranges[--this.rangeIndex];for(;e>=this.range.to;)this.range=this.ranges[++this.rangeIndex];e>=this.chunkPos&&e<this.chunkPos+this.chunk.length?this.chunkOff=e-this.chunkPos:(this.chunk="",this.chunkOff=0),this.readNext()}return this}read(e,t){if(e>=this.chunkPos&&t<=this.chunkPos+this.chunk.length)return this.chunk.slice(e-this.chunkPos,t-this.chunkPos);if(e>=this.chunk2Pos&&t<=this.chunk2Pos+this.chunk2.length)return this.chunk2.slice(e-this.chunk2Pos,t-this.chunk2Pos);if(e>=this.range.from&&t<=this.range.to)return this.input.read(e,t);let i="";for(let r of this.ranges){if(r.from>=t)break;r.to>e&&(i+=this.input.read(Math.max(r.from,e),Math.min(r.to,t)))}return i}}class Ma{constructor(e,t){this.data=e,this.id=t}token(e,t){let{parser:i}=t.p;gL(this.data,e,t,this.id,i.data,i.tokenPrecTable)}}Ma.prototype.contextual=Ma.prototype.fallback=Ma.prototype.extend=!1;class Ew{constructor(e,t,i){this.precTable=t,this.elseToken=i,this.data=typeof e=="string"?Tc(e):e}token(e,t){let i=e.pos,r=0;for(;;){let s=e.next<0,o=e.resolveOffset(1,1);if(gL(this.data,e,t,0,this.data,this.precTable),e.token.value>-1)break;if(this.elseToken==null)return;if(s||r++,o==null)break;e.reset(o,e.token)}r&&(e.reset(i,e.token),e.acceptToken(this.elseToken,r))}}Ew.prototype.contextual=Ma.prototype.fallback=Ma.prototype.extend=!1;class gx{constructor(e,t={}){this.token=e,this.contextual=!!t.contextual,this.fallback=!!t.fallback,this.extend=!!t.extend}}function gL(n,e,t,i,r,s){let o=0,l=1<<i,{dialect:u}=t.p.parser;e:for(;l&n[o];){let h=n[o+1];for(let O=o+3;O<h;O+=2)if((n[O+1]&l)>0){let v=n[O];if(u.allows(v)&&(e.token.value==-1||e.token.value==v||cie(v,e.token.value,r,s))){e.acceptToken(v);break}}let f=e.next,p=0,g=n[o+2];if(e.next<0&&g>p&&n[h+g*3-3]==65535){o=n[h+g*3-1];continue e}for(;p<g;){let O=p+g>>1,v=h+O+(O<<1),x=n[v],k=n[v+1]||65536;if(f<x)g=O;else if(f>=k)p=O+1;else{o=n[v+2],e.advance();continue e}}break}}function gA(n,e,t){for(let i=e,r;(r=n[i])!=65535;i++)if(r==t)return i-e;return-1}function cie(n,e,t,i){let r=gA(t,i,e);return r<0||gA(t,i,n)<r}const ai=typeof process<"u"&&process.env&&/\bparse\b/.test({}.LOG);let iv=null;function mA(n,e,t){let i=n.cursor(Ut.IncludeAnonymous);for(i.moveTo(e);;)if(!(t<0?i.childBefore(e):i.childAfter(e)))for(;;){if((t<0?i.to<e:i.from>e)&&!i.type.isError)return t<0?Math.max(0,Math.min(i.to-1,e-25)):Math.min(n.length,Math.max(i.from+1,e+25));if(t<0?i.prevSibling():i.nextSibling())break;if(!i.parent())return t<0?0:n.length}}class hie{constructor(e,t){this.fragments=e,this.nodeSet=t,this.i=0,this.fragment=null,this.safeFrom=-1,this.safeTo=-1,this.trees=[],this.start=[],this.index=[],this.nextFragment()}nextFragment(){let e=this.fragment=this.i==this.fragments.length?null:this.fragments[this.i++];if(e){for(this.safeFrom=e.openStart?mA(e.tree,e.from+e.offset,1)-e.offset:e.from,this.safeTo=e.openEnd?mA(e.tree,e.to+e.offset,-1)-e.offset:e.to;this.trees.length;)this.trees.pop(),this.start.pop(),this.index.pop();this.trees.push(e.tree),this.start.push(-e.offset),this.index.push(0),this.nextStart=this.safeFrom}else this.nextStart=1e9}nodeAt(e){if(e<this.nextStart)return null;for(;this.fragment&&this.safeTo<=e;)this.nextFragment();if(!this.fragment)return null;for(;;){let t=this.trees.length-1;if(t<0)return this.nextFragment(),null;let i=this.trees[t],r=this.index[t];if(r==i.children.length){this.trees.pop(),this.start.pop(),this.index.pop();continue}let s=i.children[r],o=this.start[t]+i.positions[r];if(o>e)return this.nextStart=o,null;if(s instanceof $t){if(o==e){if(o<this.safeFrom)return null;let l=o+s.length;if(l<=this.safeTo){let u=s.prop(Ie.lookAhead);if(!u||l+u<this.fragment.to)return s}}this.index[t]++,o+s.length>=Math.max(this.safeFrom,e)&&(this.trees.push(s),this.start.push(o),this.index.push(0))}else this.index[t]++,this.nextStart=o+s.length}}}class fie{constructor(e,t){this.stream=t,this.tokens=[],this.mainToken=null,this.actions=[],this.tokens=e.tokenizers.map(i=>new Zp)}getActions(e){let t=0,i=null,{parser:r}=e.p,{tokenizers:s}=r,o=r.stateSlot(e.state,3),l=e.curContext?e.curContext.hash:0,u=0;for(let h=0;h<s.length;h++){if(!(1<<h&o))continue;let f=s[h],p=this.tokens[h];if(!(i&&!f.fallback)&&((f.contextual||p.start!=e.pos||p.mask!=o||p.context!=l)&&(this.updateCachedToken(p,f,e),p.mask=o,p.context=l),p.lookAhead>p.end+25&&(u=Math.max(p.lookAhead,u)),p.value!=0)){let g=t;if(p.extended>-1&&(t=this.addActions(e,p.extended,p.end,t)),t=this.addActions(e,p.value,p.end,t),!f.extend&&(i=p,t>g))break}}for(;this.actions.length>t;)this.actions.pop();return u&&e.setLookAhead(u),!i&&e.pos==this.stream.end&&(i=new Zp,i.value=e.p.parser.eofTerm,i.start=i.end=e.pos,t=this.addActions(e,i.value,i.end,t)),this.mainToken=i,this.actions}getMainToken(e){if(this.mainToken)return this.mainToken;let t=new Zp,{pos:i,p:r}=e;return t.start=i,t.end=Math.min(i+1,r.stream.end),t.value=i==r.stream.end?r.parser.eofTerm:0,t}updateCachedToken(e,t,i){let r=this.stream.clipPos(i.pos);if(t.token(this.stream.reset(r,e),i),e.value>-1){let{parser:s}=i.p;for(let o=0;o<s.specialized.length;o++)if(s.specialized[o]==e.value){let l=s.specializers[o](this.stream.read(e.start,e.end),i);if(l>=0&&i.p.parser.dialect.allows(l>>1)){l&1?e.extended=l>>1:e.value=l>>1;break}}}else e.value=0,e.end=this.stream.clipPos(r+1)}putAction(e,t,i,r){for(let s=0;s<r;s+=3)if(this.actions[s]==e)return r;return this.actions[r++]=e,this.actions[r++]=t,this.actions[r++]=i,r}addActions(e,t,i,r){let{state:s}=e,{parser:o}=e.p,{data:l}=o;for(let u=0;u<2;u++)for(let h=o.stateSlot(s,u?2:1);;h+=3){if(l[h]==65535)if(l[h+1]==1)h=ns(l,h+2);else{r==0&&l[h+1]==2&&(r=this.putAction(ns(l,h+2),t,i,r));break}l[h]==t&&(r=this.putAction(ns(l,h+1),t,i,r))}return r}}class die{constructor(e,t,i,r){this.parser=e,this.input=t,this.ranges=r,this.recovering=0,this.nextStackID=9812,this.minStackPos=0,this.reused=[],this.stoppedAt=null,this.lastBigReductionStart=-1,this.lastBigReductionSize=0,this.bigReductionCount=0,this.stream=new uie(t,r),this.tokens=new fie(e,this.stream),this.topTerm=e.top[1];let{from:s}=r[0];this.stacks=[om.start(this,e.top[0],s)],this.fragments=i.length&&this.stream.end-s>e.bufferLength*4?new hie(i,e.nodeSet):null}get parsedPos(){return this.minStackPos}advance(){let e=this.stacks,t=this.minStackPos,i=this.stacks=[],r,s;if(this.bigReductionCount>300&&e.length==1){let[o]=e;for(;o.forceReduce()&&o.stack.length&&o.stack[o.stack.length-2]>=this.lastBigReductionStart;);this.bigReductionCount=this.lastBigReductionSize=0}for(let o=0;o<e.length;o++){let l=e[o];for(;;){if(this.tokens.mainToken=null,l.pos>t)i.push(l);else{if(this.advanceStack(l,i,e))continue;{r||(r=[],s=[]),r.push(l);let u=this.tokens.getMainToken(l);s.push(u.value,u.end)}}break}}if(!i.length){let o=r&&mie(r);if(o)return ai&&console.log("Finish with "+this.stackID(o)),this.stackToTree(o);if(this.parser.strict)throw ai&&r&&console.log("Stuck with token "+(this.tokens.mainToken?this.parser.getName(this.tokens.mainToken.value):"none")),new SyntaxError("No parse at "+t);this.recovering||(this.recovering=5)}if(this.recovering&&r){let o=this.stoppedAt!=null&&r[0].pos>this.stoppedAt?r[0]:this.runRecovery(r,s,i);if(o)return ai&&console.log("Force-finish "+this.stackID(o)),this.stackToTree(o.forceAll())}if(this.recovering){let o=this.recovering==1?1:this.recovering*3;if(i.length>o)for(i.sort((l,u)=>u.score-l.score);i.length>o;)i.pop();i.some(l=>l.reducePos>t)&&this.recovering--}else if(i.length>1){e:for(let o=0;o<i.length-1;o++){let l=i[o];for(let u=o+1;u<i.length;u++){let h=i[u];if(l.sameState(h)||l.buffer.length>500&&h.buffer.length>500)if((l.score-h.score||l.buffer.length-h.buffer.length)>0)i.splice(u--,1);else{i.splice(o--,1);continue e}}}i.length>12&&i.splice(12,i.length-12)}this.minStackPos=i[0].pos;for(let o=1;o<i.length;o++)i[o].pos<this.minStackPos&&(this.minStackPos=i[o].pos);return null}stopAt(e){if(this.stoppedAt!=null&&this.stoppedAt<e)throw new RangeError("Can't move stoppedAt forward");this.stoppedAt=e}advanceStack(e,t,i){let r=e.pos,{parser:s}=this,o=ai?this.stackID(e)+" -> ":"";if(this.stoppedAt!=null&&r>this.stoppedAt)return e.forceReduce()?e:null;if(this.fragments){let h=e.curContext&&e.curContext.tracker.strict,f=h?e.curContext.hash:0;for(let p=this.fragments.nodeAt(r);p;){let g=this.parser.nodeSet.types[p.type.id]==p.type?s.getGoto(e.state,p.type.id):-1;if(g>-1&&p.length&&(!h||(p.prop(Ie.contextHash)||0)==f))return e.useNode(p,g),ai&&console.log(o+this.stackID(e)+` (via reuse of ${s.getName(p.type.id)})`),!0;if(!(p instanceof $t)||p.children.length==0||p.positions[0]>0)break;let O=p.children[0];if(O instanceof $t&&p.positions[0]==0)p=O;else break}}let l=s.stateSlot(e.state,4);if(l>0)return e.reduce(l),ai&&console.log(o+this.stackID(e)+` (via always-reduce ${s.getName(l&65535)})`),!0;if(e.stack.length>=8400)for(;e.stack.length>6e3&&e.forceReduce(););let u=this.tokens.getActions(e);for(let h=0;h<u.length;){let f=u[h++],p=u[h++],g=u[h++],O=h==u.length||!i,v=O?e:e.split(),x=this.tokens.mainToken;if(v.apply(f,p,x?x.start:v.pos,g),ai&&console.log(o+this.stackID(v)+` (via ${f&65536?`reduce of ${s.getName(f&65535)}`:"shift"} for ${s.getName(p)} @ ${r}${v==e?"":", split"})`),O)return!0;v.pos>r?t.push(v):i.push(v)}return!1}advanceFully(e,t){let i=e.pos;for(;;){if(!this.advanceStack(e,null,null))return!1;if(e.pos>i)return OA(e,t),!0}}runRecovery(e,t,i){let r=null,s=!1;for(let o=0;o<e.length;o++){let l=e[o],u=t[o<<1],h=t[(o<<1)+1],f=ai?this.stackID(l)+" -> ":"";if(l.deadEnd&&(s||(s=!0,l.restart(),ai&&console.log(f+this.stackID(l)+" (restarted)"),this.advanceFully(l,i))))continue;let p=l.split(),g=f;for(let O=0;p.forceReduce()&&O<10&&(ai&&console.log(g+this.stackID(p)+" (via force-reduce)"),!this.advanceFully(p,i));O++)ai&&(g=this.stackID(p)+" -> ");for(let O of l.recoverByInsert(u))ai&&console.log(f+this.stackID(O)+" (via recover-insert)"),this.advanceFully(O,i);this.stream.end>l.pos?(h==l.pos&&(h++,u=0),l.recoverByDelete(u,h),ai&&console.log(f+this.stackID(l)+` (via recover-delete ${this.parser.getName(u)})`),OA(l,i)):(!r||r.score<l.score)&&(r=l)}return r}stackToTree(e){return e.close(),$t.build({buffer:lm.create(e),nodeSet:this.parser.nodeSet,topID:this.topTerm,maxBufferLength:this.parser.bufferLength,reused:this.reused,start:this.ranges[0].from,length:e.pos-this.ranges[0].from,minRepeatType:this.parser.minRepeatTerm})}stackID(e){let t=(iv||(iv=new WeakMap)).get(e);return t||iv.set(e,t=String.fromCodePoint(this.nextStackID++)),t+e}}function OA(n,e){for(let t=0;t<e.length;t++){let i=e[t];if(i.pos==n.pos&&i.sameState(n)){e[t].score<n.score&&(e[t]=n);return}}e.push(n)}class pie{constructor(e,t,i){this.source=e,this.flags=t,this.disabled=i}allows(e){return!this.disabled||this.disabled[e]==0}}const rv=n=>n;class gie{constructor(e){this.start=e.start,this.shift=e.shift||rv,this.reduce=e.reduce||rv,this.reuse=e.reuse||rv,this.hash=e.hash||(()=>0),this.strict=e.strict!==!1}}class am extends NM{constructor(e){if(super(),this.wrappers=[],e.version!=14)throw new RangeError(`Parser version (${e.version}) doesn't match runtime version (14)`);let t=e.nodeNames.split(" ");this.minRepeatTerm=t.length;for(let l=0;l<e.repeatNodeCount;l++)t.push("");let i=Object.keys(e.topRules).map(l=>e.topRules[l][1]),r=[];for(let l=0;l<t.length;l++)r.push([]);function s(l,u,h){r[l].push([u,u.deserialize(String(h))])}if(e.nodeProps)for(let l of e.nodeProps){let u=l[0];typeof u=="string"&&(u=Ie[u]);for(let h=1;h<l.length;){let f=l[h++];if(f>=0)s(f,u,l[h++]);else{let p=l[h+-f];for(let g=-f;g>0;g--)s(l[h++],u,p);h++}}}this.nodeSet=new j_(t.map((l,u)=>ei.define({name:u>=this.minRepeatTerm?void 0:l,id:u,props:r[u],top:i.indexOf(u)>-1,error:u==0,skipped:e.skippedNodes&&e.skippedNodes.indexOf(u)>-1}))),e.propSources&&(this.nodeSet=this.nodeSet.extend(...e.propSources)),this.strict=!1,this.bufferLength=$M;let o=Tc(e.tokenData);this.context=e.context,this.specializerSpecs=e.specialized||[],this.specialized=new Uint16Array(this.specializerSpecs.length);for(let l=0;l<this.specializerSpecs.length;l++)this.specialized[l]=this.specializerSpecs[l].term;this.specializers=this.specializerSpecs.map(yA),this.states=Tc(e.states,Uint32Array),this.data=Tc(e.stateData),this.goto=Tc(e.goto),this.maxTerm=e.maxTerm,this.tokenizers=e.tokenizers.map(l=>typeof l=="number"?new Ma(o,l):l),this.topRules=e.topRules,this.dialects=e.dialects||{},this.dynamicPrecedences=e.dynamicPrecedences||null,this.tokenPrecTable=e.tokenPrec,this.termNames=e.termNames||null,this.maxNode=this.nodeSet.types.length-1,this.dialect=this.parseDialect(),this.top=this.topRules[Object.keys(this.topRules)[0]]}createParse(e,t,i){let r=new die(this,e,t,i);for(let s of this.wrappers)r=s(r,e,t,i);return r}getGoto(e,t,i=!1){let r=this.goto;if(t>=r[0])return-1;for(let s=r[t+1];;){let o=r[s++],l=o&1,u=r[s++];if(l&&i)return u;for(let h=s+(o>>1);s<h;s++)if(r[s]==e)return u;if(l)return-1}}hasAction(e,t){let i=this.data;for(let r=0;r<2;r++)for(let s=this.stateSlot(e,r?2:1),o;;s+=3){if((o=i[s])==65535)if(i[s+1]==1)o=i[s=ns(i,s+2)];else{if(i[s+1]==2)return ns(i,s+2);break}if(o==t||o==0)return ns(i,s+1)}return 0}stateSlot(e,t){return this.states[e*6+t]}stateFlag(e,t){return(this.stateSlot(e,0)&t)>0}validAction(e,t){return!!this.allActions(e,i=>i==t?!0:null)}allActions(e,t){let i=this.stateSlot(e,4),r=i?t(i):void 0;for(let s=this.stateSlot(e,1);r==null;s+=3){if(this.data[s]==65535)if(this.data[s+1]==1)s=ns(this.data,s+2);else break;r=t(ns(this.data,s+1))}return r}nextStates(e){let t=[];for(let i=this.stateSlot(e,1);;i+=3){if(this.data[i]==65535)if(this.data[i+1]==1)i=ns(this.data,i+2);else break;if(!(this.data[i+2]&1)){let r=this.data[i+1];t.some((s,o)=>o&1&&s==r)||t.push(this.data[i],r)}}return t}configure(e){let t=Object.assign(Object.create(am.prototype),this);if(e.props&&(t.nodeSet=this.nodeSet.extend(...e.props)),e.top){let i=this.topRules[e.top];if(!i)throw new RangeError(`Invalid top rule name ${e.top}`);t.top=i}return e.tokenizers&&(t.tokenizers=this.tokenizers.map(i=>{let r=e.tokenizers.find(s=>s.from==i);return r?r.to:i})),e.specializers&&(t.specializers=this.specializers.slice(),t.specializerSpecs=this.specializerSpecs.map((i,r)=>{let s=e.specializers.find(l=>l.from==i.external);if(!s)return i;let o=Object.assign(Object.assign({},i),{external:s.to});return t.specializers[r]=yA(o),o})),e.contextTracker&&(t.context=e.contextTracker),e.dialect&&(t.dialect=this.parseDialect(e.dialect)),e.strict!=null&&(t.strict=e.strict),e.wrap&&(t.wrappers=t.wrappers.concat(e.wrap)),e.bufferLength!=null&&(t.bufferLength=e.bufferLength),t}hasWrappers(){return this.wrappers.length>0}getName(e){return this.termNames?this.termNames[e]:String(e<=this.maxNode&&this.nodeSet.types[e].name||e)}get eofTerm(){return this.maxNode+1}get topNode(){return this.nodeSet.types[this.top[1]]}dynamicPrecedence(e){let t=this.dynamicPrecedences;return t==null?0:t[e]||0}parseDialect(e){let t=Object.keys(this.dialects),i=t.map(()=>!1);if(e)for(let s of e.split(" ")){let o=t.indexOf(s);o>=0&&(i[o]=!0)}let r=null;for(let s=0;s<t.length;s++)if(!i[s])for(let o=this.dialects[t[s]],l;(l=this.data[o++])!=65535;)(r||(r=new Uint8Array(this.maxTerm+1)))[l]=1;return new pie(e,i,r)}static deserialize(e){return new am(e)}}function ns(n,e){return n[e]|n[e+1]<<16}function mie(n){let e=null;for(let t of n){let i=t.p.stoppedAt;(t.pos==t.p.stream.end||i!=null&&t.pos>i)&&t.p.parser.stateFlag(t.state,2)&&(!e||e.score<t.score)&&(e=t)}return e}function yA(n){if(n.external){let e=n.extend?1:0;return(t,i)=>n.external(t,i)<<1|e}return n.get}const Oie=304,vA=1,yie=2,vie=305,wie=307,Sie=308,_ie=3,xie=4,Tie=[9,10,11,12,13,32,133,160,5760,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8232,8233,8239,8287,12288],mL=125,kie=59,wA=47,Eie=42,Pie=43,bie=45,Cie=new gie({start:!1,shift(n,e){return e==_ie||e==xie||e==wie?n:e==Sie},strict:!1}),Aie=new gx((n,e)=>{let{next:t}=n;(t==mL||t==-1||e.context)&&n.acceptToken(vie)},{contextual:!0,fallback:!0}),Iie=new gx((n,e)=>{let{next:t}=n,i;Tie.indexOf(t)>-1||t==wA&&((i=n.peek(1))==wA||i==Eie)||t!=mL&&t!=kie&&t!=-1&&!e.context&&n.acceptToken(Oie)},{contextual:!0}),Rie=new gx((n,e)=>{let{next:t}=n;if((t==Pie||t==bie)&&(n.advance(),t==n.next)){n.advance();let i=!e.context&&e.canShift(vA);n.acceptToken(i?vA:yie)}},{contextual:!0}),$ie=LM({"get set async static":A.modifier,"for while do if else switch try catch finally return throw break continue default case":A.controlKeyword,"in of await yield void typeof delete instanceof":A.operatorKeyword,"let var const using function class extends":A.definitionKeyword,"import export from":A.moduleKeyword,"with debugger as new":A.keyword,TemplateString:A.special(A.string),super:A.atom,BooleanLiteral:A.bool,this:A.self,null:A.null,Star:A.modifier,VariableName:A.variableName,"CallExpression/VariableName TaggedTemplateExpression/VariableName":A.function(A.variableName),VariableDefinition:A.definition(A.variableName),Label:A.labelName,PropertyName:A.propertyName,PrivatePropertyName:A.special(A.propertyName),"CallExpression/MemberExpression/PropertyName":A.function(A.propertyName),"FunctionDeclaration/VariableDefinition":A.function(A.definition(A.variableName)),"ClassDeclaration/VariableDefinition":A.definition(A.className),PropertyDefinition:A.definition(A.propertyName),PrivatePropertyDefinition:A.definition(A.special(A.propertyName)),UpdateOp:A.updateOperator,"LineComment Hashbang":A.lineComment,BlockComment:A.blockComment,Number:A.number,String:A.string,Escape:A.escape,ArithOp:A.arithmeticOperator,LogicOp:A.logicOperator,BitOp:A.bitwiseOperator,CompareOp:A.compareOperator,RegExp:A.regexp,Equals:A.definitionOperator,Arrow:A.function(A.punctuation),": Spread":A.punctuation,"( )":A.paren,"[ ]":A.squareBracket,"{ }":A.brace,"InterpolationStart InterpolationEnd":A.special(A.brace),".":A.derefOperator,", ;":A.separator,"@":A.meta,TypeName:A.typeName,TypeDefinition:A.definition(A.typeName),"type enum interface implements namespace module declare":A.definitionKeyword,"abstract global Privacy readonly override":A.modifier,"is keyof unique infer":A.operatorKeyword,JSXAttributeValue:A.attributeValue,JSXText:A.content,"JSXStartTag JSXStartCloseTag JSXSelfCloseEndTag JSXEndTag":A.angleBracket,"JSXIdentifier JSXNameSpacedName":A.tagName,"JSXAttribute/JSXIdentifier JSXAttribute/JSXNameSpacedName":A.attributeName,"JSXBuiltin/JSXIdentifier":A.standard(A.tagName)}),Qie={__proto__:null,export:16,as:21,from:29,default:32,async:37,function:38,extends:48,this:52,true:60,false:60,null:72,void:76,typeof:80,super:98,new:132,delete:148,yield:157,await:161,class:166,public:223,private:223,protected:223,readonly:225,instanceof:244,satisfies:247,in:248,const:250,import:282,keyof:337,unique:341,infer:347,is:383,abstract:403,implements:405,type:407,let:410,var:412,using:415,interface:421,enum:425,namespace:431,module:433,declare:437,global:441,for:460,of:469,while:472,with:476,do:480,if:484,else:486,switch:490,case:496,try:502,catch:506,finally:510,return:514,throw:518,break:522,continue:526,debugger:530},Die={__proto__:null,async:119,get:121,set:123,declare:183,public:185,private:185,protected:185,static:187,abstract:189,override:191,readonly:197,accessor:199,new:387},Mie={__proto__:null,"<":139},Nie=am.deserialize({version:14,states:"$6zO%TQUOOO%[QUOOO'_QWOOP(lOSOOO*zQ(CjO'#CgO+ROpO'#ChO+aO!bO'#ChO+oO07`O'#D[O.QQUO'#DbO.bQUO'#DmO%[QUO'#DwO0fQUO'#EPOOQ(CY'#EX'#EXO1PQSO'#EUOOQO'#Ej'#EjOOQO'#Id'#IdO1XQSO'#GlO1dQSO'#EiO1iQSO'#EiO3kQ(CjO'#JeO6[Q(CjO'#JfO6xQSO'#FXO6}Q#tO'#FpOOQ(CY'#Fa'#FaO7YO&jO'#FaO7hQ,UO'#FwO9OQSO'#FvOOQ(CY'#Jf'#JfOOQ(CW'#Je'#JeO9TQSO'#GpOOQQ'#KQ'#KQO9`QSO'#IQO9eQ(C[O'#IROOQQ'#JR'#JROOQQ'#IV'#IVQ`QUOOO`QUOOO%[QUO'#DoO9mQUO'#D{O9tQUO'#D}O9ZQSO'#GlO9{Q,UO'#CmO:ZQSO'#EhO:fQSO'#EsO:kQ,UO'#F`O;YQSO'#GlOOQO'#KR'#KRO;_QSO'#KRO;mQSO'#GtO;mQSO'#GuO;mQSO'#GwO9ZQSO'#GzO<dQSO'#G}O={QSO'#CcO>]QSO'#HZO>eQSO'#HaO>eQSO'#HcO`QUO'#HeO>eQSO'#HgO>eQSO'#HjO>jQSO'#HpO>oQ(C]O'#HvO%[QUO'#HxO>zQ(C]O'#HzO?VQ(C]O'#H|O9eQ(C[O'#IOO?bQ(CjO'#CgO@dQWO'#DgQOQSOOO%[QUO'#D}O@zQSO'#EQO9{Q,UO'#EhOAVQSO'#EhOAbQ`O'#F`OOQQ'#Ce'#CeOOQ(CW'#Dl'#DlOOQ(CW'#Ji'#JiO%[QUO'#JiOOQO'#Jm'#JmOOQO'#Ia'#IaOBbQWO'#EaOOQ(CW'#E`'#E`OC^Q(C`O'#EaOChQWO'#ETOOQO'#Jl'#JlOC|QWO'#JmOEZQWO'#ETOChQWO'#EaPEhO?MpO'#C`POOO)CDp)CDpOOOO'#IW'#IWOEsOpO,59SOOQ(CY,59S,59SOOOO'#IX'#IXOFRO!bO,59SO%[QUO'#D^OOOO'#IZ'#IZOFaO07`O,59vOOQ(CY,59v,59vOFoQUO'#I[OGSQSO'#JgOIUQbO'#JgO+}QUO'#JgOI]QSO,59|OIsQSO'#EjOJQQSO'#JuOJ]QSO'#JtOJ]QSO'#JtOJeQSO,5;WOJjQSO'#JsOOQ(CY,5:X,5:XOJqQUO,5:XOLrQ(CjO,5:cOMcQSO,5:kOM|Q(C[O'#JrONTQSO'#JqO9TQSO'#JqONiQSO'#JqONqQSO,5;VONvQSO'#JqO!#OQbO'#JfOOQ(CY'#Cg'#CgO%[QUO'#EPO!#nQ`O,5:pOOQO'#Jn'#JnOOQO-E<b-E<bO9ZQSO,5=WO!$UQSO,5=WO!$ZQUO,5;TO!&^Q,UO'#EeO!'qQSO,5;TO!)ZQ,UO'#DqO!)bQUO'#DvO!)lQWO,5;^O!)tQWO,5;^O%[QUO,5;^OOQQ'#FP'#FPOOQQ'#FR'#FRO%[QUO,5;_O%[QUO,5;_O%[QUO,5;_O%[QUO,5;_O%[QUO,5;_O%[QUO,5;_O%[QUO,5;_O%[QUO,5;_O%[QUO,5;_O%[QUO,5;_O%[QUO,5;_OOQQ'#FV'#FVO!*SQUO,5;pOOQ(CY,5;u,5;uOOQ(CY,5;v,5;vO!,VQSO,5;vOOQ(CY,5;w,5;wO%[QUO'#IhO!,_Q(C[O,5<dO!&^Q,UO,5;_O!,|Q,UO,5;_O%[QUO,5;sO!-TQ#tO'#FfO!.QQ#tO'#JyO!-lQ#tO'#JyO!.XQ#tO'#JyOOQO'#Jy'#JyO!.mQ#tO,5<OOOOO,5<[,5<[O!/OQUO'#FrOOOO'#Ig'#IgO7YO&jO,5;{O!/VQ#tO'#FtOOQ(CY,5;{,5;{O!/vQ7[O'#CsOOQ(CY'#Cw'#CwO!0ZQSO'#CwO!0`O07`O'#C{O!0|Q,UO,5<aO!1TQSO,5<cO!2jQMhO'#GRO!2wQSO'#GSO!2|QSO'#GSO!3RQMhO'#GWO!4QQWO'#G[O!4sQ7[O'#J`OOQ(CY'#J`'#J`O!4}QSO'#J_O!5]QSO'#J^O!5eQSO'#CrOOQ(CY'#Cu'#CuOOQ(CY'#DP'#DPOOQ(CY'#DR'#DRO1SQSO'#DTO!'vQ,UO'#FyO!'vQ,UO'#F{O!5mQSO'#F}O!5rQSO'#GOO!2|QSO'#GUO!'vQ,UO'#GZO!5wQSO'#EkO!6fQSO,5<bOOQ(CW'#Cp'#CpO!6nQSO'#ElO!7hQWO'#EmOOQ(CW'#Js'#JsO!7oQ(C[O'#KSO9eQ(C[O,5=[O`QUO,5>lOOQQ'#JZ'#JZOOQQ,5>m,5>mOOQQ-E<T-E<TO!9qQ(CjO,5:ZO!<_Q(CjO,5:gO%[QUO,5:gO!>xQ(CjO,5:iOOQO,5@m,5@mO!?iQ,UO,5=WO!?wQ(C[O'#J[O9OQSO'#J[O!@YQ(C[O,59XO!@eQWO,59XO!@mQ,UO,59XO9{Q,UO,59XO!@xQSO,5;TO!AQQSO'#HYO!AfQSO'#KVO%[QUO,5;xO!7cQWO,5;zO!AnQSO,5=sO!AsQSO,5=sO!AxQSO,5=sO9eQ(C[O,5=sO;mQSO,5=cOOQO'#Cs'#CsO!BWQWO,5=`O!B`Q,UO,5=aO!BkQSO,5=cO!BpQ`O,5=fO!BxQSO'#KRO>jQSO'#HPO9ZQSO'#HRO!B}QSO'#HRO9{Q,UO'#HTO!CSQSO'#HTOOQQ,5=i,5=iO!CXQSO'#HUO!CjQSO'#CmO!CoQSO,58}O!CyQSO,58}O!FOQUO,58}OOQQ,58},58}O!F`Q(C[O,58}O%[QUO,58}O!HkQUO'#H]OOQQ'#H^'#H^OOQQ'#H_'#H_O`QUO,5=uO!IRQSO,5=uO`QUO,5={O`QUO,5=}O!IWQSO,5>PO`QUO,5>RO!I]QSO,5>UO!IbQUO,5>[OOQQ,5>b,5>bO%[QUO,5>bO9eQ(C[O,5>dOOQQ,5>f,5>fO!MlQSO,5>fOOQQ,5>h,5>hO!MlQSO,5>hOOQQ,5>j,5>jO!MqQWO'#DYO%[QUO'#JiO!N`QWO'#JiO!N}QWO'#DhO# `QWO'#DhO##qQUO'#DhO##xQSO'#JhO#$QQSO,5:RO#$VQSO'#EnO#$eQSO'#JvO#$mQSO,5;XO#$rQWO'#DhO#%PQWO'#ESOOQ(CY,5:l,5:lO%[QUO,5:lO#%WQSO,5:lO>jQSO,5;SO!@eQWO,5;SO!@mQ,UO,5;SO9{Q,UO,5;SO#%`QSO,5@TO#%eQ!LQO,5:pOOQO-E<_-E<_O#&kQ(C`O,5:{OChQWO,5:oO#&uQWO,5:oOChQWO,5:{O!@YQ(C[O,5:oOOQ(CW'#Ed'#EdOOQO,5:{,5:{O%[QUO,5:{O#'SQ(C[O,5:{O#'_Q(C[O,5:{O!@eQWO,5:oOOQO,5;R,5;RO#'mQ(C[O,5:{POOO'#IU'#IUP#(RO?MpO,58zPOOO,58z,58zOOOO-E<U-E<UOOQ(CY1G.n1G.nOOOO-E<V-E<VO#(^Q`O,59xOOOO-E<X-E<XOOQ(CY1G/b1G/bO#(cQbO,5>vO+}QUO,5>vOOQO,5>|,5>|O#(mQUO'#I[OOQO-E<Y-E<YO#(zQSO,5@RO#)SQbO,5@RO#)ZQSO,5@`OOQ(CY1G/h1G/hO%[QUO,5@aO#)cQSO'#IbOOQO-E<`-E<`O#)ZQSO,5@`OOQ(CW1G0r1G0rOOQ(CY1G/s1G/sOOQ(CY1G0V1G0VO%[QUO,5@^O#)wQ(C[O,5@^O#*YQ(C[O,5@^O#*aQSO,5@]O9TQSO,5@]O#*iQSO,5@]O#*wQSO'#IeO#*aQSO,5@]OOQ(CW1G0q1G0qO!)lQWO,5:rO!)wQWO,5:rOOQO,5:t,5:tO#+iQSO,5:tO#+qQ,UO1G2rO9ZQSO1G2rOOQ(CY1G0o1G0oO#,PQ(CjO1G0oO#-UQ(ChO,5;POOQ(CY'#GQ'#GQO#-rQ(CjO'#J`O!$ZQUO1G0oO#/zQ,UO'#JjO#0UQSO,5:]O#0ZQbO'#JkO%[QUO'#JkO#0eQSO,5:bOOQ(CY'#DY'#DYOOQ(CY1G0x1G0xO%[QUO1G0xOOQ(CY1G1b1G1bO#0jQSO1G0xO#3RQ(CjO1G0yO#3YQ(CjO1G0yO#5sQ(CjO1G0yO#5zQ(CjO1G0yO#8UQ(CjO1G0yO#8lQ(CjO1G0yO#;fQ(CjO1G0yO#;mQ(CjO1G0yO#>WQ(CjO1G0yO#>_Q(CjO1G0yO#@VQ(CjO1G0yO#CVQ$IUO'#CgO#ETQ$IUO1G1[O#E[Q$IUO'#JfO!,YQSO1G1bO#ElQ(CjO,5?SOOQ(CW-E<f-E<fO#F`Q(CjO1G0yOOQ(CY1G0y1G0yO#HkQ(CjO1G1_O#I_Q#tO,5<SO#IgQ#tO,5<TO#IoQ#tO'#FkO#JWQSO'#FjOOQO'#Jz'#JzOOQO'#If'#IfO#J]Q#tO1G1jOOQ(CY1G1j1G1jOOOO1G1u1G1uO#JnQ$IUO'#JeO#JxQSO,5<^O!*SQUO,5<^OOOO-E<e-E<eOOQ(CY1G1g1G1gO#J}QWO'#JyOOQ(CY,5<`,5<`O#KVQWO,5<`OOQ(CY,59c,59cO!&^Q,UO'#C}OOOO'#IY'#IYO#K[O07`O,59gOOQ(CY,59g,59gO%[QUO1G1{O!5rQSO'#IjO#KgQ,UO,5<tOOQ(CY,5<q,5<qOOQO'#Gg'#GgO!'vQ,UO,5=QOOQO'#Gi'#GiO!'vQ,UO,5=SO!&^Q,UO,5=UOOQO1G1}1G1}O#KnQ`O'#CpO#LRQ`O,5<mO#LYQSO'#J}O9ZQSO'#J}O#LhQSO,5<oO!'vQ,UO,5<nO#LmQSO'#GTO#LxQSO,5<nO#L}Q`O'#GQO#M[Q`O'#KOO#MfQSO'#KOO!&^Q,UO'#KOO#MkQSO,5<rO#MpQWO'#G]O!3{QWO'#G]O#NRQSO'#G_O#NWQSO'#GaO!2|QSO'#GdO#N]Q(C[O'#IlO#NhQWO,5<vOOQ(CY,5<v,5<vO#NoQWO'#G]O#N}QWO'#G^O$ VQWO'#G^OOQ(CY,5=V,5=VO!'vQ,UO,5?yO!'vQ,UO,5?yO$ [QSO'#ImO$ gQSO,5?xO$ oQSO,59^O$!`Q,UO,59oOOQ(CY,59o,59oO$#RQ,UO,5<eO$#tQ,UO,5<gO@[QSO,5<iOOQ(CY,5<j,5<jO$$OQSO,5<pO$$TQ,UO,5<uO$$eQSO'#JqO!$ZQUO1G1|O$$jQSO1G1|O9TQSO'#JtO9TQSO'#EnO%[QUO'#EnO9TQSO'#IoO$$oQ(C[O,5@nOOQQ1G2v1G2vOOQQ1G4W1G4WOOQ(CY1G/u1G/uO!,VQSO1G/uO$&tQ(CjO1G0ROOQQ1G2r1G2rO!&^Q,UO1G2rO%[QUO1G2rO$'eQSO1G2rO$'pQ,UO'#EeOOQ(CW,5?v,5?vO$'zQ(C[O,5?vOOQQ1G.s1G.sO!@YQ(C[O1G.sO!@eQWO1G.sO!@mQ,UO1G.sO$(]QSO1G0oO$(bQSO'#CgO$(mQSO'#KWO$(uQSO,5=tO$(zQSO'#KWO$)PQSO'#KWO$)_QSO'#IuO$)mQSO,5@qO$)uQbO1G1dOOQ(CY1G1f1G1fO9ZQSO1G3_O@[QSO1G3_O$)|QSO1G3_O$*RQSO1G3_OOQQ1G3_1G3_O!BkQSO1G2}O!&^Q,UO1G2zO$*WQSO1G2zOOQQ1G2{1G2{O!&^Q,UO1G2{O$*]QSO1G2{O$*eQWO'#GyOOQQ1G2}1G2}O!3{QWO'#IqO!BpQ`O1G3QOOQQ1G3Q1G3QOOQQ,5=k,5=kO$*mQ,UO,5=mO9ZQSO,5=mO#NWQSO,5=oO9OQSO,5=oO!@eQWO,5=oO!@mQ,UO,5=oO9{Q,UO,5=oO$*{QSO'#KUO$+WQSO,5=pOOQQ1G.i1G.iO$+]Q(C[O1G.iO@[QSO1G.iO$+hQSO1G.iO9eQ(C[O1G.iO$-mQbO,5@sO$-}QSO,5@sO9TQSO,5@sO$.YQUO,5=wO$.aQSO,5=wOOQQ1G3a1G3aO`QUO1G3aOOQQ1G3g1G3gOOQQ1G3i1G3iO>eQSO1G3kO$.fQUO1G3mO$2jQUO'#HlOOQQ1G3p1G3pO$2wQSO'#HrO>jQSO'#HtOOQQ1G3v1G3vO$3PQUO1G3vO9eQ(C[O1G3|OOQQ1G4O1G4OOOQ(CW'#GX'#GXO9eQ(C[O1G4QO9eQ(C[O1G4SO$7WQSO,5@TO!*SQUO,5;YO9TQSO,5;YO>jQSO,5:SO!*SQUO,5:SO!@eQWO,5:SO$7]Q$IUO,5:SOOQO,5;Y,5;YO$7gQWO'#I]O$7}QSO,5@SOOQ(CY1G/m1G/mO$8VQWO'#IcO$8aQSO,5@bOOQ(CW1G0s1G0sO# `QWO,5:SOOQO'#I`'#I`O$8iQWO,5:nOOQ(CY,5:n,5:nO#%ZQSO1G0WOOQ(CY1G0W1G0WO%[QUO1G0WOOQ(CY1G0n1G0nO>jQSO1G0nO!@eQWO1G0nO!@mQ,UO1G0nOOQ(CW1G5o1G5oO!@YQ(C[O1G0ZOOQO1G0g1G0gO%[QUO1G0gO$8pQ(C[O1G0gO$8{Q(C[O1G0gO!@eQWO1G0ZOChQWO1G0ZO$9ZQ(C[O1G0gOOQO1G0Z1G0ZO$9oQ(CjO1G0gPOOO-E<S-E<SPOOO1G.f1G.fOOOO1G/d1G/dO$9yQ`O,5<dO$:RQbO1G4bOOQO1G4h1G4hO%[QUO,5>vO$:]QSO1G5mO$:eQSO1G5zO$:mQbO1G5{O9TQSO,5>|O$:wQ(CjO1G5xO%[QUO1G5xO$;XQ(C[O1G5xO$;jQSO1G5wO$;jQSO1G5wO9TQSO1G5wO$;rQSO,5?PO9TQSO,5?POOQO,5?P,5?PO$<WQSO,5?PO$$eQSO,5?POOQO-E<c-E<cOOQO1G0^1G0^OOQO1G0`1G0`O!,YQSO1G0`OOQQ7+(^7+(^O!&^Q,UO7+(^O%[QUO7+(^O$<fQSO7+(^O$<qQ,UO7+(^O$=PQ(CjO,59oO$?XQ(CjO,5<eO$AdQ(CjO,5<gO$CoQ(CjO,5<uOOQ(CY7+&Z7+&ZO$FQQ(CjO7+&ZO$FtQ,UO'#I^O$GOQSO,5@UOOQ(CY1G/w1G/wO$GWQUO'#I_O$GeQSO,5@VO$GmQbO,5@VOOQ(CY1G/|1G/|O$GwQSO7+&dOOQ(CY7+&d7+&dO$G|Q$IUO,5:cO%[QUO7+&vO$HWQ$IUO,5:ZO$HeQ$IUO,5:gO$HoQ$IUO,5:iOOQ(CY7+&|7+&|OOQO1G1n1G1nOOQO1G1o1G1oO$HyQ#tO,5<VO!*SQUO,5<UOOQO-E<d-E<dOOQ(CY7+'U7+'UOOOO7+'a7+'aOOOO1G1x1G1xO$IUQSO1G1xOOQ(CY1G1z1G1zO$IZQ`O,59iOOOO-E<W-E<WOOQ(CY1G/R1G/RO$IbQ(CjO7+'gOOQ(CY,5?U,5?UO$JUQ`O,5?UOOQ(CY1G2`1G2`P!&^Q,UO'#IjPOQ(CY-E<h-E<hO$JtQ,UO1G2lO$KgQ,UO1G2nO$KqQ`O1G2pOOQ(CY1G2X1G2XO$KxQSO'#IiO$LWQSO,5@iO$LWQSO,5@iO$L`QSO,5@iO$LkQSO,5@iOOQO1G2Z1G2ZO$LyQ,UO1G2YO!'vQ,UO1G2YO$MZQMhO'#IkO$MkQSO,5@jO!&^Q,UO,5@jO$MsQ`O,5@jOOQ(CY1G2^1G2^OOQ(CW,5<w,5<wOOQ(CW,5<x,5<xO$$eQSO,5<xOCXQSO,5<xO!@eQWO,5<wOOQO'#G`'#G`O$M}QSO,5<yOOQ(CW,5<{,5<{O$$eQSO,5=OOOQO,5?W,5?WOOQO-E<j-E<jOOQ(CY1G2b1G2bO!3{QWO,5<wO$NVQSO,5<xO#NRQSO,5<yO!3{QWO,5<xO$NbQ,UO1G5eO$NlQ,UO1G5eOOQO,5?X,5?XOOQO-E<k-E<kOOQO1G.x1G.xO!7cQWO,59qO%[QUO,59qO$NyQSO1G2TO!'vQ,UO1G2[O% OQ(CjO7+'hOOQ(CY7+'h7+'hO!$ZQUO7+'hO% rQSO,5;YOOQ(CW,5?Z,5?ZOOQ(CW-E<m-E<mOOQ(CY7+%a7+%aO% wQ`O'#KPO#%ZQSO7+(^O%!RQbO7+(^O$<iQSO7+(^O%!YQ(ChO'#CgO%!mQ(ChO,5<|O%#_QSO,5<|OOQ(CW1G5b1G5bOOQQ7+$_7+$_O!@YQ(C[O7+$_O!@eQWO7+$_O!$ZQUO7+&ZO%#dQSO'#ItO%#{QSO,5@rOOQO1G3`1G3`O9ZQSO,5@rO%#{QSO,5@rO%$TQSO,5@rOOQO,5?a,5?aOOQO-E<s-E<sOOQ(CY7+'O7+'OO%$YQSO7+(yO9eQ(C[O7+(yO9ZQSO7+(yO@[QSO7+(yOOQQ7+(i7+(iO%$_Q(ChO7+(fO!&^Q,UO7+(fO%$iQ`O7+(gOOQQ7+(g7+(gO!&^Q,UO7+(gO%$pQSO'#KTO%${QSO,5=eOOQO,5?],5?]OOQO-E<o-E<oOOQQ7+(l7+(lO%&[QWO'#HSOOQQ1G3X1G3XO!&^Q,UO1G3XO%[QUO1G3XO%&cQSO1G3XO%&nQ,UO1G3XO9eQ(C[O1G3ZO#NWQSO1G3ZO9OQSO1G3ZO!@eQWO1G3ZO!@mQ,UO1G3ZO%&|QSO'#IsO%'bQSO,5@pO%'jQWO,5@pOOQ(CW1G3[1G3[OOQQ7+$T7+$TO@[QSO7+$TO9eQ(C[O7+$TO%'uQSO7+$TO%[QUO1G6_O%[QUO1G6`O%'zQ(C[O1G6_O%(UQUO1G3cO%(]QSO1G3cO%(bQUO1G3cOOQQ7+({7+({O9eQ(C[O7+)VO`QUO7+)XOOQQ'#KZ'#KZOOQQ'#Iv'#IvO%(iQUO,5>WOOQQ,5>W,5>WO%[QUO'#HmO%(vQSO'#HoOOQQ,5>^,5>^O9TQSO,5>^OOQQ,5>`,5>`OOQQ7+)b7+)bOOQQ7+)h7+)hOOQQ7+)l7+)lOOQQ7+)n7+)nO%({QWO1G5oO%)aQ$IUO1G0tO%)kQSO1G0tOOQO1G/n1G/nO%)vQ$IUO1G/nO>jQSO1G/nO!*SQUO'#DhOOQO,5>w,5>wOOQO-E<Z-E<ZOOQO,5>},5>}OOQO-E<a-E<aO!@eQWO1G/nOOQO-E<^-E<^OOQ(CY1G0Y1G0YOOQ(CY7+%r7+%rO#%ZQSO7+%rOOQ(CY7+&Y7+&YO>jQSO7+&YO!@eQWO7+&YOOQO7+%u7+%uO$9oQ(CjO7+&ROOQO7+&R7+&RO%[QUO7+&RO%*QQ(C[O7+&RO!@YQ(C[O7+%uO!@eQWO7+%uO%*]Q(C[O7+&RO%*kQ(CjO7++dO%[QUO7++dO%*{QSO7++cO%*{QSO7++cOOQO1G4k1G4kO9TQSO1G4kO%+TQSO1G4kOOQO7+%z7+%zO#%ZQSO<<KxO%!RQbO<<KxO%+cQSO<<KxOOQQ<<Kx<<KxO!&^Q,UO<<KxO%[QUO<<KxO%+kQSO<<KxO%+vQ(CjO1G2lO%.RQ(CjO1G2nO%0^Q(CjO1G2YO%2oQ,UO,5>xOOQO-E<[-E<[O%2yQbO,5>yO%[QUO,5>yOOQO-E<]-E<]O%3TQSO1G5qOOQ(CY<<JO<<JOO%3]Q$IUO1G0oO%5gQ$IUO1G0yO%5nQ$IUO1G0yO%7rQ$IUO1G0yO%7yQ$IUO1G0yO%9nQ$IUO1G0yO%:UQ$IUO1G0yO%<iQ$IUO1G0yO%<pQ$IUO1G0yO%>tQ$IUO1G0yO%>{Q$IUO1G0yO%@sQ$IUO1G0yO%AWQ(CjO<<JbO%B]Q$IUO1G0yO%DRQ$IUO'#J`O%FUQ$IUO1G1_O%FcQ$IUO1G0RO!*SQUO'#FmOOQO'#J{'#J{OOQO1G1q1G1qO%FmQSO1G1pO%FrQ$IUO,5?SOOOO7+'d7+'dOOOO1G/T1G/TOOQ(CY1G4p1G4pO!'vQ,UO7+([O%F|QSO,5?TO9ZQSO,5?TOOQO-E<g-E<gO%G[QSO1G6TO%G[QSO1G6TO%GdQSO1G6TO%GoQ,UO7+'tO%HPQ`O,5?VO%HZQSO,5?VO!&^Q,UO,5?VOOQO-E<i-E<iO%H`Q`O1G6UO%HjQSO1G6UOOQ(CW1G2d1G2dO$$eQSO1G2dOOQ(CW1G2c1G2cO%HrQSO1G2eO!&^Q,UO1G2eOOQ(CW1G2j1G2jO!@eQWO1G2cOCXQSO1G2dO%HwQSO1G2eO%IPQSO1G2dO!'vQ,UO7++POOQ(CY1G/]1G/]O%I[QSO1G/]OOQ(CY7+'o7+'oO%IaQ,UO7+'vO%IqQ(CjO<<KSOOQ(CY<<KS<<KSO%JeQSO1G0tO!&^Q,UO'#InO%JjQSO,5@kO!&^Q,UO1G2hOOQQ<<Gy<<GyO!@YQ(C[O<<GyO%JrQ(CjO<<IuOOQ(CY<<Iu<<IuOOQO,5?`,5?`O%KfQSO,5?`O%KkQSO,5?`OOQO-E<r-E<rO%KyQSO1G6^O%KyQSO1G6^O9ZQSO1G6^O@[QSO<<LeOOQQ<<Le<<LeO%LRQSO<<LeO9eQ(C[O<<LeOOQQ<<LQ<<LQO%$_Q(ChO<<LQOOQQ<<LR<<LRO%$iQ`O<<LRO%LWQWO'#IpO%LcQSO,5@oO!*SQUO,5@oOOQQ1G3P1G3PO%LkQUO'#JiOOQO'#Ir'#IrO9eQ(C[O'#IrO%LuQWO,5=nOOQQ,5=n,5=nO%L|QWO'#EaO%MbQSO7+(sO%MgQSO7+(sOOQQ7+(s7+(sO!&^Q,UO7+(sO%[QUO7+(sO%MoQSO7+(sOOQQ7+(u7+(uO9eQ(C[O7+(uO#NWQSO7+(uO9OQSO7+(uO!@eQWO7+(uO%MzQSO,5?_OOQO-E<q-E<qOOQO'#HV'#HVO%NVQSO1G6[O9eQ(C[O<<GoOOQQ<<Go<<GoO@[QSO<<GoO%N_QSO7++yO%NdQSO7++zO%[QUO7++yO%[QUO7++zOOQQ7+(}7+(}O%NiQSO7+(}O%NnQUO7+(}O%NuQSO7+(}OOQQ<<Lq<<LqOOQQ<<Ls<<LsOOQQ-E<t-E<tOOQQ1G3r1G3rO%NzQSO,5>XOOQQ,5>Z,5>ZO& PQSO1G3xO9TQSO7+&`O!*SQUO7+&`OOQO7+%Y7+%YO& UQ$IUO1G5{O>jQSO7+%YOOQ(CY<<I^<<I^OOQ(CY<<It<<ItO>jQSO<<ItOOQO<<Im<<ImO$9oQ(CjO<<ImO%[QUO<<ImOOQO<<Ia<<IaO!@YQ(C[O<<IaO& `Q(C[O<<ImO& kQ(CjO<= OO& {QSO<<N}OOQO7+*V7+*VO9TQSO7+*VOOQQANAdANAdO&!TQSOANAdO!&^Q,UOANAdO#%ZQSOANAdO%!RQbOANAdO%[QUOANAdO&!]Q(CjO7+'tO&$nQ(CjO7+'vO&'PQbO1G4eO&'ZQ$IUO7+&ZO&'hQ$IUO,59oO&)kQ$IUO,5<eO&+nQ$IUO,5<gO&-qQ$IUO,5<uO&/gQ$IUO7+'gO&/tQ$IUO7+'hO&0RQSO,5<XOOQO7+'[7+'[O&0WQ,UO<<KvOOQO1G4o1G4oO&0_QSO1G4oO&0jQSO1G4oO&0xQSO7++oO&0xQSO7++oO!&^Q,UO1G4qO&1QQ`O1G4qO&1[QSO7++pOOQ(CW7+(O7+(OO$$eQSO7+(PO&1dQ`O7+(POOQ(CW7+'}7+'}O$$eQSO7+(OO&1kQSO7+(PO!&^Q,UO7+(POCXQSO7+(OO&1pQ,UO<<NkOOQ(CY7+$w7+$wO&1zQ`O,5?YOOQO-E<l-E<lO&2UQ(ChO7+(SOOQQAN=eAN=eO9ZQSO1G4zOOQO1G4z1G4zO&2fQSO1G4zO&2kQSO7++xO&2kQSO7++xO9eQ(C[OANBPO@[QSOANBPOOQQANBPANBPOOQQANAlANAlOOQQANAmANAmO&2sQSO,5?[OOQO-E<n-E<nO&3OQ$IUO1G6ZO&5`QbO'#CgOOQO,5?^,5?^OOQO-E<p-E<pOOQQ1G3Y1G3YO%LkQUO,5<yOOQQ<<L_<<L_O!&^Q,UO<<L_O%MbQSO<<L_O&5jQSO<<L_O%[QUO<<L_OOQQ<<La<<LaO9eQ(C[O<<LaO#NWQSO<<LaO9OQSO<<LaO&5rQWO1G4yO&5}QSO7++vOOQQAN=ZAN=ZO9eQ(C[OAN=ZOOQQ<= e<= eOOQQ<= f<= fO&6VQSO<= eO&6[QSO<= fOOQQ<<Li<<LiO&6aQSO<<LiO&6fQUO<<LiOOQQ1G3s1G3sO>jQSO7+)dO&6mQSO<<IzO&6xQ$IUO<<IzOOQO<<Ht<<HtOOQ(CYAN?`AN?`OOQOAN?XAN?XO$9oQ(CjOAN?XOOQOAN>{AN>{O%[QUOAN?XOOQO<<Mq<<MqOOQQG27OG27OO!&^Q,UOG27OO#%ZQSOG27OO&7SQSOG27OO%!RQbOG27OO&7[Q$IUO<<JbO&7iQ$IUO1G2YO&9_Q$IUO1G2lO&;bQ$IUO1G2nO&=eQ$IUO<<KSO&=rQ$IUO<<IuOOQO1G1s1G1sO!'vQ,UOANAbOOQO7+*Z7+*ZO&>PQSO7+*ZO&>[QSO<= ZO&>dQ`O7+*]OOQ(CW<<Kk<<KkO$$eQSO<<KkOOQ(CW<<Kj<<KjO&>nQ`O<<KkO$$eQSO<<KjOOQO7+*f7+*fO9ZQSO7+*fO&>uQSO<= dOOQQG27kG27kO9eQ(C[OG27kO!*SQUO1G4vO&>}QSO7++uO%MbQSOANAyOOQQANAyANAyO!&^Q,UOANAyO&?VQSOANAyOOQQANA{ANA{O9eQ(C[OANA{O#NWQSOANA{OOQO'#HW'#HWOOQO7+*e7+*eOOQQG22uG22uOOQQANEPANEPOOQQANEQANEQOOQQANBTANBTO&?_QSOANBTOOQQ<<MO<<MOO!*SQUOAN?fOOQOG24sG24sO$9oQ(CjOG24sO#%ZQSOLD,jOOQQLD,jLD,jO!&^Q,UOLD,jO&?dQSOLD,jO&?lQ$IUO7+'tO&AbQ$IUO7+'vO&CWQ,UOG26|OOQO<<Mu<<MuOOQ(CWANAVANAVO$$eQSOANAVOOQ(CWANAUANAUOOQO<<NQ<<NQOOQQLD-VLD-VO&ChQ$IUO7+*bOOQQG27eG27eO%MbQSOG27eO!&^Q,UOG27eOOQQG27gG27gO9eQ(C[OG27gOOQQG27oG27oO&CrQ$IUOG25QOOQOLD*_LD*_OOQQ!$(!U!$(!UO#%ZQSO!$(!UO!&^Q,UO!$(!UO&C|Q(CjOG26|OOQ(CWG26qG26qOOQQLD-PLD-PO%MbQSOLD-POOQQLD-RLD-ROOQQ!)9Ep!)9EpO#%ZQSO!)9EpOOQQ!$(!k!$(!kOOQQ!.K;[!.K;[O&F_Q$IUOG26|O!*SQUO'#DwO1PQSO'#EUO&HTQbO'#JeO!*SQUO'#DoO&H[QUO'#D{O&HcQbO'#CgO&JyQbO'#CgO!*SQUO'#D}O&KZQUO,5;TO!*SQUO,5;_O!*SQUO,5;_O!*SQUO,5;_O!*SQUO,5;_O!*SQUO,5;_O!*SQUO,5;_O!*SQUO,5;_O!*SQUO,5;_O!*SQUO,5;_O!*SQUO,5;_O!*SQUO,5;_O!*SQUO'#IhO&M^QSO,5<dO&MfQ,UO,5;_O&NyQ,UO,5;_O!*SQUO,5;sO1SQSO'#DTO1SQSO'#DTO!&^Q,UO'#FyO&MfQ,UO'#FyO!&^Q,UO'#F{O&MfQ,UO'#F{O!&^Q,UO'#GZO&MfQ,UO'#GZO!*SQUO,5:gO!*SQUO,5@aO&KZQUO1G0oO' QQ$IUO'#CgO!*SQUO1G1{O!&^Q,UO,5=QO&MfQ,UO,5=QO!&^Q,UO,5=SO&MfQ,UO,5=SO!&^Q,UO,5<nO&MfQ,UO,5<nO&KZQUO1G1|O!*SQUO7+&vO!&^Q,UO1G2YO&MfQ,UO1G2YO!&^Q,UO1G2[O&MfQ,UO1G2[O&KZQUO7+'hO&KZQUO7+&ZO!&^Q,UOANAbO&MfQ,UOANAbO' [QSO'#EiO' aQSO'#EiO' iQSO'#FXO' nQSO'#EsO' sQSO'#JuO'!OQSO'#JsO'!ZQSO,5;TO'!`Q,UO,5<aO'!gQSO'#GSO'!lQSO'#GSO'!qQSO,5<bO'!yQSO,5;TO'#RQ$IUO1G1[O'#YQSO,5<nO'#_QSO,5<nO'#dQSO,5<pO'#iQSO,5<pO'#nQSO1G1|O'#sQSO1G0oO'#xQ,UO<<KvO'$PQ,UO<<KvO7hQ,UO'#FwO9OQSO'#FvOAVQSO'#EhO!*SQUO,5;pO!2|QSO'#GSO!2|QSO'#GSO!2|QSO'#GUO!2|QSO'#GUO!'vQ,UO7+([O!'vQ,UO7+([O$KqQ`O1G2pO$KqQ`O1G2pO!&^Q,UO,5=UO!&^Q,UO,5=U",stateData:"'%Y~O'oOS'pOSROS'qRQ~OPYOQYOW!VO_qObzOcyOjkOlYOmkOnkOtkOvYOxYO}WO!RkO!SkO!YXO!duO!iZO!lYO!mYO!nYO!pvO!rwO!uxO!y]O#q!PO$R|O$VfO%a}O%c!QO%e!OO%f!OO%g!OO%j!RO%l!SO%o!TO%p!TO%r!UO&O!WO&U!XO&W!YO&Y!ZO&[![O&_!]O&e!^O&k!_O&m!`O&o!aO&q!bO&s!cO'vSO'xTO'{UO(TVO(c[O(piO~OUtO~P`OPYOQYOb!jOc!iOjkOlYOmkOnkOtkOvYOxYO}WO!RkO!SkO!Y!eO!duO!iZO!lYO!mYO!nYO!pvO!r!gO!u!hO$R!kO$VfO'v!dO'xTO'{UO(TVO(c[O(piO~O_!vOm!nO}!oO!]!xO!^!uO!_!uO!y9rO!}!pO#O!pO#P!wO#Q!pO#R!pO#U!yO#V!yO'w!lO'xTO'{UO(W!mO(c!sO~O'q!zO~OPZXYZX_ZXlZXzZX{ZX}ZX!WZX!fZX!gZX!iZX!mZX#YZX#edX#hZX#iZX#jZX#kZX#lZX#mZX#nZX#oZX#pZX#rZX#tZX#vZX#wZX#|ZX'mZX(TZX(dZX(kZX(lZX~O!b${X~P(qO]!|O'x#OO'y!|O'z#OO~O]#PO'z#OO'{#OO'|#PO~Or#RO!P#SO(U#SO(V#UO~OPYOQYOb!jOc!iOjkOlYOmkOnkOtkOvYOxYO}WO!RkO!SkO!Y!eO!duO!iZO!lYO!mYO!nYO!pvO!r!gO!u!hO$R!kO$VfO'v9vO'xTO'{UO(TVO(c[O(piO~O!V#YO!W#VO!T(ZP!T(hP~P+}O!X#bO~P`OPYOQYOb!jOc!iOlYOmkOnkOtkOvYOxYO}WO!RkO!SkO!Y!eO!duO!iZO!lYO!mYO!nYO!pvO!r!gO!u!hO$R!kO$VfO'xTO'{UO(TVO(c[O(piO~Oj#lO!V#hO!y]O#c#kO#d#hO'v9wO!h(eP~P.iO!i#nO'v#mO~O!u#rO!y]O%a#sO~O#e#tO~O!b#uO#e#tO~OP$]OY$dOl$QOz#yO{#zO}#{O!W$aO!f$SO!g#wO!i#xO!m$]O#h$OO#i$PO#j$PO#k$PO#l$RO#m$SO#n$SO#o$cO#p$SO#r$TO#t$VO#v$XO#w$YO(TVO(d$ZO(k#|O(l#}O~O_(XX'm(XX'k(XX!h(XX!T(XX!Y(XX%b(XX!b(XX~P1qO#Y$eO#|$eOP(YXY(YXl(YXz(YX{(YX}(YX!W(YX!f(YX!i(YX!m(YX#h(YX#i(YX#j(YX#k(YX#l(YX#m(YX#n(YX#o(YX#p(YX#r(YX#t(YX#v(YX#w(YX(T(YX(d(YX(k(YX(l(YX!Y(YX%b(YX~O_(YX!g(YX'm(YX'k(YX!T(YX!h(YXp(YX!b(YX~P4XO#Y$eO~O$X$gO$Z$fO$b$lO~O!Y$mO$VfO$e$nO$g$pO~Oj%SOl$tOm$sOn$sOt%TOv%UOx%VO}${O!Y$|O!d%[O!i$xO#d%]O$R%YO$n%WO$p%XO$s%ZO'v$rO'xTO'{UO(P%RO(T$uOe(QP~O!i%^O~O}%aO!Y%bO'v%`O~O!b%fO~O_%gO'm%gO~O'w!lO~P%[O%g%nO~P%[O!i%^O'v%`O'w!lO(P%RO~Oc%uO!i%^O'v%`O~O#p$SO~Oz%zO!Y%wO!i%yO%c%}O'v%`O'w!lO'xTO'{UO^(yP~O!u#rO~O%l&PO}(uX!Y(uX'v(uX~O'v&QO~O!r&VO#q!PO%c!QO%e!OO%f!OO%g!OO%j!RO%l!SO%o!TO%p!TO~Ob&[Oc&ZO!u&XO%a&YO%t&WO~P;rOb&_OcyO!Y&^O!r&VO!uxO!y]O#q!PO%a}O%e!OO%f!OO%g!OO%j!RO%l!SO%o!TO%p!TO%r!UO~O`&bO#Y&eO%c&`O'w!lO~P<wO!i&fO!r&jO~O!i#nO~O!YXO~O_%gO'l&rO'm%gO~O_%gO'l&uO'm%gO~O_%gO'l&wO'm%gO~O'kZX!TZXpZX!hZX&SZX!YZX%bZX!bZX~P(qO!]'UO!^&}O!_&}O'w!lO'xTO'{UO~Om&{O}&zO!V'OO(W&yO!X([P!X(jP~P@OOh'XO!Y'VO'v%`O~Oc'^O!i%^O'v%`O~Oz%zO!i%yO~Om!nO}!oO!y9rO!}!pO#O!pO#Q!pO#R!pO'w!lO'xTO'{UO(W!mO(c!sO~O!]'dO!^'cO!_'cO#P!pO#U'eO#V'eO~PAjO_%gO!b#uO!i%^O'm%gO(P%RO(d'gO~O!m'kO#Y'iO~PBxOm!nO}!oO'xTO'{UO(W!mO(c!sO~O!YXOm(aX}(aX!](aX!^(aX!_(aX!y(aX!}(aX#O(aX#P(aX#Q(aX#R(aX#U(aX#V(aX'w(aX'x(aX'{(aX(W(aX(c(aX~O!^'cO!_'cO'w!lO~PChO'r'oO's'oO't'qO~O]!|O'x'sO'y!|O'z'sO~O]#PO'z'sO'{'sO'|#PO~Or#RO!P#SO(U#SO(V'wO~O!V'yO!T'OX!T'UX!W'OX!W'UX~P+}O!W'{O!T(ZX~OP$]OY$dOl$QOz#yO{#zO}#{O!W'{O!f$SO!g#wO!i#xO!m$]O#h$OO#i$PO#j$PO#k$PO#l$RO#m$SO#n$SO#o$cO#p$SO#r$TO#t$VO#v$XO#w$YO(TVO(d$ZO(k#|O(l#}O~O!T(ZX~PG[O!T(QO~O!T(gX!W(gX!b(gX!h(gX(d(gX~O#Y(gX#e#^X!X(gX~PIbO#Y(RO!T(iX!W(iX~O!W(SO!T(hX~O!T(VO~O#Y$eO~PIbO!X(WO~P`Oz#yO{#zO}#{O!g#wO!i#xO(TVOP!kaY!kal!ka!W!ka!f!ka!m!ka#h!ka#i!ka#j!ka#k!ka#l!ka#m!ka#n!ka#o!ka#p!ka#r!ka#t!ka#v!ka#w!ka(d!ka(k!ka(l!ka~O_!ka'm!ka'k!ka!T!ka!h!kap!ka!Y!ka%b!ka!b!ka~PJxO!h(XO~O!b#uO#Y(YO(d'gO!W(fX_(fX'm(fX~O!h(fX~PMhO}%aO!Y%bO!y]O#c(_O#d(^O'v%`O~O!W(`O!h(eX~O!h(bO~O}%aO!Y%bO#d(^O'v%`O~OP(YXY(YXl(YXz(YX{(YX}(YX!W(YX!f(YX!g(YX!i(YX!m(YX#h(YX#i(YX#j(YX#k(YX#l(YX#m(YX#n(YX#o(YX#p(YX#r(YX#t(YX#v(YX#w(YX(T(YX(d(YX(k(YX(l(YX~O!b#uO!h(YX~P! UOz(cO{(dO!g#wO!i#xO!y!xa}!xa~O!u!xa%a!xa!Y!xa#c!xa#d!xa'v!xa~P!#YO!u(hO~OPYOQYOb!jOc!iOjkOlYOmkOnkOtkOvYOxYO}WO!RkO!SkO!YXO!duO!iZO!lYO!mYO!nYO!pvO!r!gO!u!hO$R!kO$VfO'v!dO'xTO'{UO(TVO(c[O(piO~Oj%SOl$tOm$sOn$sOt%TOv%UOx:[O}${O!Y$|O!d;fO!i$xO#d:bO$R%YO$n:^O$p:`O$s%ZO'v(lO'xTO'{UO(P%RO(T$uO~O#e(nO~Oj%SOl$tOm$sOn$sOt%TOv%UOx%VO}${O!Y$|O!d%[O!i$xO#d%]O$R%YO$n%WO$p%XO$s%ZO'v(lO'xTO'{UO(P%RO(T$uO~Oe(^P~P!'vO!V(rO!h(_P~P%[O(W(tO(c[O~O}(vO!i#xO(W(tO(c[O~OP9qOQ9qOb;bOc!iOjkOl9qOmkOnkOtkOv9qOx9qO}WO!RkO!SkO!Y!eO!d9tO!iZO!l9qO!m9qO!n9qO!p9uO!r9xO!u!hO$R!kO$VfO'v)UO'xTO'{UO(TVO(c[O(p;`O~O{)XO!i#xO~O!W$aO_$la'm$la'k$la!h$la!T$la!Y$la%b$la!b$la~O#q)]O~P!&^Oz)`O!b)_O!Y$YX$U$YX$X$YX$Z$YX$b$YX~O!b)_O!Y(mX$U(mX$X(mX$Z(mX$b(mX~Oz)`O~P!-lOz)`O!Y(mX$U(mX$X(mX$Z(mX$b(mX~O!Y)bO$U)fO$X)aO$Z)aO$b)gO~O!V)jO~P!*SO$X$gO$Z$fO$b)nO~Oh$tXz$tX}$tX!g$tX(k$tX(l$tX~OegXe$tXhgX!WgX#YgX~P!/bOm)pO~Or)qO(U)rO(V)tO~Oh)}Oz)vO})wO(k)yO(l){O~Oe)uO~P!0kOe*OO~Oj%SOl$tOm$sOn$sOt%TOv%UOx:[O}${O!Y$|O!d;fO!i$xO#d:bO$R%YO$n:^O$p:`O$s%ZO'xTO'{UO(P%RO(T$uO~O!V*SO'v*PO!h(qP~P!1YO#e*UO~O!i*VO~O!V*[O'v*XO!T(rP~P!1YOl*hO}*`O!]*fO!^*_O!_*_O!i*VO#U*gO%X*bO'w!lO(W!mO~O!X*eO~P!3`O!g#wOh(SXz(SX}(SX(k(SX(l(SX!W(SX#Y(SX~Oe(SX#z(SX~P!4XOh*kO#Y*jOe(RX!W(RX~O!W*lOe(QX~O'v&QOe(QP~O!i*sO~O'v(lO~Oj*wO}%aO!V#hO!Y%bO!y]O#c#kO#d#hO'v%`O!h(eP~O!b#uO#e*xO~O}%aO!V*zO!W(SO!Y%bO'v%`O!T(hP~Om'RO}*|O!V*{O'xTO'{UO(W(tO~O!X(jP~P!7SO!W*}O_(vX'm(vX~OP$]OY$dOl$QOz#yO{#zO}#{O!f$SO!g#wO!i#xO!m$]O#h$OO#i$PO#j$PO#k$PO#l$RO#m$SO#n$SO#o$cO#p$SO#r$TO#t$VO#v$XO#w$YO(TVO(d$ZO(k#|O(l#}O~O_!ca!W!ca'm!ca'k!ca!T!ca!h!cap!ca!Y!ca%b!ca!b!ca~P!7zOz#yO{#zO}#{O!g#wO!i#xO(TVOP!oaY!oal!oa!W!oa!f!oa!m!oa#h!oa#i!oa#j!oa#k!oa#l!oa#m!oa#n!oa#o!oa#p!oa#r!oa#t!oa#v!oa#w!oa(d!oa(k!oa(l!oa~O_!oa'm!oa'k!oa!T!oa!h!oap!oa!Y!oa%b!oa!b!oa~P!:eOz#yO{#zO}#{O!g#wO!i#xO(TVOP!qaY!qal!qa!W!qa!f!qa!m!qa#h!qa#i!qa#j!qa#k!qa#l!qa#m!qa#n!qa#o!qa#p!qa#r!qa#t!qa#v!qa#w!qa(d!qa(k!qa(l!qa~O_!qa'm!qa'k!qa!T!qa!h!qap!qa!Y!qa%b!qa!b!qa~P!=OOh+WO!Y'VO%b+VO(P%RO~O!b+YO_(OX!Y(OX'm(OX!W(OX~O_%gO!YXO'm%gO~O!i%^O(P%RO~O!i%^O'v%`O(P%RO~O!b#uO#e(nO~O`+eO%c+fO'v+bO'xTO'{UO!X(zP~O!W+gO^(yX~OY+kO~O^+lO~O!Y%wO'v%`O'w!lO^(yP~O#Y+qO(P%RO~Oh+tO!Y$|O(P%RO~O!Y+vO~Oz+xO!YXO~O%g%nO~O!u+}O~Oc,SO~O`,TO'v#mO'xTO'{UO!X(xP~Oc%uO~O%c!QO'v&QO~P<wOY,YO^,XO~OPYOQYObzOcyOjkOlYOmkOnkOtkOvYOxYO}WO!RkO!SkO!duO!iZO!lYO!mYO!nYO!pvO!uxO!y]O$VfO%a}O'xTO'{UO(TVO(c[O(piO~O!Y!eO!r!gO$R!kO'v!dO~P!DRO^,XO_%gO'm%gO~OPYOQYOb!jOc!iOjkOlYOmkOnkOtkOvYOxYO}WO!RkO!SkO!Y!eO!duO!iZO!lYO!mYO!nYO!pvO!u!hO$R!kO$VfO'v!dO'xTO'{UO(TVO(c[O(piO~O_,_O!rwO#q!OO%e!OO%f!OO%g!OO~P!FkO!i&fO~O&U,eO~O!Y,gO~O&g,iO&i,jOP&daQ&daW&da_&dab&dac&daj&dal&dam&dan&dat&dav&dax&da}&da!R&da!S&da!Y&da!d&da!i&da!l&da!m&da!n&da!p&da!r&da!u&da!y&da#q&da$R&da$V&da%a&da%c&da%e&da%f&da%g&da%j&da%l&da%o&da%p&da%r&da&O&da&U&da&W&da&Y&da&[&da&_&da&e&da&k&da&m&da&o&da&q&da&s&da'k&da'v&da'x&da'{&da(T&da(c&da(p&da!X&da&]&da`&da&b&da~O'v,oO~O!W|X!W!`X!X|X!X!`X!b|X!b!`X!i!`X#Y|X(P!`X~O!b,tO#Y,sO!W#bX!W(]X!X#bX!X(]X!b(]X!i(]X(P(]X~O!b,vO!i%^O(P%RO!W![X!X![X~Om!nO}!oO'xTO'{UO(W!mO~OP9qOQ9qOb;bOc!iOjkOl9qOmkOnkOtkOv9qOx9qO}WO!RkO!SkO!Y!eO!d9tO!iZO!l9qO!m9qO!n9qO!p9uO!r9xO!u!hO$R!kO$VfO'xTO'{UO(TVO(c[O(p;`O~O'v:gO~P# qO!W,zO!X([X~O!X,|O~O!b,tO#Y,sO!W#bX!X#bX~O!W,}O!X(jX~O!X-PO~O!^-QO!_-QO'w!lO~P# `O!X-TO~P'_Oh-WO!Y'VO~O!T-]O~Om!xa!]!xa!^!xa!_!xa!}!xa#O!xa#P!xa#Q!xa#R!xa#U!xa#V!xa'w!xa'x!xa'{!xa(W!xa(c!xa~P!#YO!m-bO#Y-`O~PBxO!^-dO!_-dO'w!lO~PChO_%gO#Y-`O'm%gO~O_%gO!b#uO#Y-`O'm%gO~O_%gO!b#uO!m-bO#Y-`O'm%gO(d'gO~O'r'oO's'oO't-iO~Op-jO~O!T'Oa!W'Oa~P!7zO!V-nO!T'OX!W'OX~P%[O!W'{O!T(Za~O!T(Za~PG[O!W(SO!T(ha~O}%aO!V-rO!Y%bO'v%`O!T'UX!W'UX~O#Y-tO!W(fa!h(fa_(fa'm(fa~O!b#uO~P#)wO!W(`O!h(ea~O}%aO!Y%bO#d-xO'v%`O~Oj-}O}%aO!V-zO!Y%bO!y]O#c-|O#d-zO'v%`O!W'XX!h'XX~O{.RO!i#xO~Oh.UO!Y'VO%b.TO(P%RO~O_#]i!W#]i'm#]i'k#]i!T#]i!h#]ip#]i!Y#]i%b#]i!b#]i~P!7zOh;lOz)vO})wO(k)yO(l){O~O#e#Xa_#Xa#Y#Xa'm#Xa!W#Xa!h#Xa!Y#Xa!T#Xa~P#,sO#e(SXP(SXY(SX_(SXl(SX{(SX!f(SX!i(SX!m(SX#h(SX#i(SX#j(SX#k(SX#l(SX#m(SX#n(SX#o(SX#p(SX#r(SX#t(SX#v(SX#w(SX'm(SX(T(SX(d(SX!h(SX!T(SX'k(SXp(SX!Y(SX%b(SX!b(SX~P!4XO!W._Oe(^X~P!0kOe.aO~O!W.bO!h(_X~P!7zO!h.eO~O!T.gO~OP$]Oz#yO{#zO}#{O!g#wO!i#xO!m$]O(TVOY#gi_#gil#gi!W#gi!f#gi#i#gi#j#gi#k#gi#l#gi#m#gi#n#gi#o#gi#p#gi#r#gi#t#gi#v#gi#w#gi'm#gi(d#gi(k#gi(l#gi'k#gi!T#gi!h#gip#gi!Y#gi%b#gi!b#gi~O#h#gi~P#0oO#h$OO~P#0oOP$]Oz#yO{#zO}#{O!g#wO!i#xO!m$]O#h$OO#i$PO#j$PO#k$PO(TVOY#gi_#gi!W#gi!f#gi#l#gi#m#gi#n#gi#o#gi#p#gi#r#gi#t#gi#v#gi#w#gi'm#gi(d#gi(k#gi(l#gi'k#gi!T#gi!h#gip#gi!Y#gi%b#gi!b#gi~Ol#gi~P#3aOl$QO~P#3aOP$]Ol$QOz#yO{#zO}#{O!g#wO!i#xO!m$]O#h$OO#i$PO#j$PO#k$PO#l$RO(TVO_#gi!W#gi#r#gi#t#gi#v#gi#w#gi'm#gi(d#gi(k#gi(l#gi'k#gi!T#gi!h#gip#gi!Y#gi%b#gi!b#gi~OY#gi!f#gi#m#gi#n#gi#o#gi#p#gi~P#6ROY$dO!f$SO#m$SO#n$SO#o$cO#p$SO~P#6ROP$]OY$dOl$QOz#yO{#zO}#{O!f$SO!g#wO!i#xO!m$]O#h$OO#i$PO#j$PO#k$PO#l$RO#m$SO#n$SO#o$cO#p$SO#r$TO(TVO_#gi!W#gi#t#gi#v#gi#w#gi'm#gi(d#gi(l#gi'k#gi!T#gi!h#gip#gi!Y#gi%b#gi!b#gi~O(k#gi~P#9SO(k#|O~P#9SOP$]OY$dOl$QOz#yO{#zO}#{O!f$SO!g#wO!i#xO!m$]O#h$OO#i$PO#j$PO#k$PO#l$RO#m$SO#n$SO#o$cO#p$SO#r$TO#t$VO(TVO(k#|O_#gi!W#gi#v#gi#w#gi'm#gi(d#gi'k#gi!T#gi!h#gip#gi!Y#gi%b#gi!b#gi~O(l#gi~P#;tO(l#}O~P#;tOP$]OY$dOl$QOz#yO{#zO}#{O!f$SO!g#wO!i#xO!m$]O#h$OO#i$PO#j$PO#k$PO#l$RO#m$SO#n$SO#o$cO#p$SO#r$TO#t$VO#v$XO(TVO(k#|O(l#}O~O_#gi!W#gi#w#gi'm#gi(d#gi'k#gi!T#gi!h#gip#gi!Y#gi%b#gi!b#gi~P#>fOPZXYZXlZXzZX{ZX}ZX!fZX!gZX!iZX!mZX#YZX#edX#hZX#iZX#jZX#kZX#lZX#mZX#nZX#oZX#pZX#rZX#tZX#vZX#wZX#|ZX(TZX(dZX(kZX(lZX!WZX!XZX~O#zZX~P#APOP$]OY:YOl9|Oz#yO{#zO}#{O!f:OO!g#wO!i#xO!m$]O#h9zO#i9{O#j9{O#k9{O#l9}O#m:OO#n:OO#o:XO#p:OO#r:PO#t:RO#v:TO#w:UO(TVO(d$ZO(k#|O(l#}O~O#z.iO~P#C^O#Y:ZO#|:ZO#z(YX!X(YX~P! UO_'[a!W'[a'm'[a'k'[a!h'[a!T'[ap'[a!Y'[a%b'[a!b'[a~P!7zOP#giY#gi_#gil#gi{#gi!W#gi!f#gi!g#gi!i#gi!m#gi#h#gi#i#gi#j#gi#k#gi#l#gi#m#gi#n#gi#o#gi#p#gi#r#gi#t#gi#v#gi#w#gi'm#gi(T#gi(d#gi'k#gi!T#gi!h#gip#gi!Y#gi%b#gi!b#gi~P#,sO_#{i!W#{i'm#{i'k#{i!T#{i!h#{ip#{i!Y#{i%b#{i!b#{i~P!7zO$X.nO$Z.nO~O$X.oO$Z.oO~O!b)_O#Y.pO!Y$_X$U$_X$X$_X$Z$_X$b$_X~O!V.qO~O!Y)bO$U.sO$X)aO$Z)aO$b.tO~O!W:VO!X(XX~P#C^O!X.uO~O!b)_O$b(mX~O$b.wO~Or)qO(U)rO(V.zO~O!T/OO~P!&^O!WdX!bdX!hdX!h$tX(ddX~P!/bO!h/UO~P#,sO!W/VO!b#uO(d'gO!h(qX~O!h/[O~O!V*SO'v%`O!h(qP~O#e/^O~O!T$tX!W$tX!b${X~P!/bO!W/_O!T(rX~P#,sO!b/aO~O!T/cO~Ol/gO!b#uO!i%^O(P%RO(d'gO~O'v/iO~O!b+YO~O_%gO!W/mO'm%gO~O!X/oO~P!3`O!^/pO!_/pO'w!lO(W!mO~O}/rO(W!mO~O#U/sO~O'v&QOe'aX!W'aX~O!W*lOe(Qa~Oe/xO~Oz/yO{/yO}/zOhwa(kwa(lwa!Wwa#Ywa~Oewa#zwa~P$ tOz)vO})wOh$ma(k$ma(l$ma!W$ma#Y$ma~Oe$ma#z$ma~P$!jOz)vO})wOh$oa(k$oa(l$oa!W$oa#Y$oa~Oe$oa#z$oa~P$#]O#e/|O~Oe$}a!W$}a#Y$}a#z$}a~P!0kO!b#uO~O#e0PO~O!W*}O_(va'm(va~Oz#yO{#zO}#{O!g#wO!i#xO(TVOP!oiY!oil!oi!W!oi!f!oi!m!oi#h!oi#i!oi#j!oi#k!oi#l!oi#m!oi#n!oi#o!oi#p!oi#r!oi#t!oi#v!oi#w!oi(d!oi(k!oi(l!oi~O_!oi'm!oi'k!oi!T!oi!h!oip!oi!Y!oi%b!oi!b!oi~P$$zOh.UO!Y'VO%b.TO~Oj0ZO'v0YO~P!1]O!b+YO_(Oa!Y(Oa'm(Oa!W(Oa~O#e0aO~OYZX!WdX!XdX~O!W0bO!X(zX~O!X0dO~OY0eO~O`0gO'v+bO'xTO'{UO~O!Y%wO'v%`O^'iX!W'iX~O!W+gO^(ya~O!h0jO~P!7zOY0mO~O^0nO~O#Y0qO~Oh0tO!Y$|O~O(W(tO!X(wP~Oh0}O!Y0zO%b0|O(P%RO~OY1XO!W1VO!X(xX~O!X1YO~O^1[O_%gO'm%gO~O'v#mO'xTO'{UO~O#Y$eO#|$eOP(YXY(YXl(YXz(YX{(YX}(YX!W(YX!f(YX!i(YX!m(YX#h(YX#i(YX#j(YX#k(YX#l(YX#m(YX#n(YX#o(YX#r(YX#t(YX#v(YX#w(YX(T(YX(d(YX(k(YX(l(YX~O#p1_O&S1`O_(YX!g(YX~P$+sO#Y$eO#p1_O&S1`O~O_1bO~P%[O_1dO~O&]1gOP&ZiQ&ZiW&Zi_&Zib&Zic&Zij&Zil&Zim&Zin&Zit&Ziv&Zix&Zi}&Zi!R&Zi!S&Zi!Y&Zi!d&Zi!i&Zi!l&Zi!m&Zi!n&Zi!p&Zi!r&Zi!u&Zi!y&Zi#q&Zi$R&Zi$V&Zi%a&Zi%c&Zi%e&Zi%f&Zi%g&Zi%j&Zi%l&Zi%o&Zi%p&Zi%r&Zi&O&Zi&U&Zi&W&Zi&Y&Zi&[&Zi&_&Zi&e&Zi&k&Zi&m&Zi&o&Zi&q&Zi&s&Zi'k&Zi'v&Zi'x&Zi'{&Zi(T&Zi(c&Zi(p&Zi!X&Zi`&Zi&b&Zi~O`1mO!X1kO&b1lO~P`O!YXO!i1oO~O&i,jOP&diQ&diW&di_&dib&dic&dij&dil&dim&din&dit&div&dix&di}&di!R&di!S&di!Y&di!d&di!i&di!l&di!m&di!n&di!p&di!r&di!u&di!y&di#q&di$R&di$V&di%a&di%c&di%e&di%f&di%g&di%j&di%l&di%o&di%p&di%r&di&O&di&U&di&W&di&Y&di&[&di&_&di&e&di&k&di&m&di&o&di&q&di&s&di'k&di'v&di'x&di'{&di(T&di(c&di(p&di!X&di&]&di`&di&b&di~O!T1uO~O!W![a!X![a~P#C^Om!nO}!oO!V1{O(W!mO!W'PX!X'PX~P@OO!W,zO!X([a~O!W'VX!X'VX~P!7SO!W,}O!X(ja~O!X2SO~P'_O_%gO#Y2]O'm%gO~O_%gO!b#uO#Y2]O'm%gO~O_%gO!b#uO!m2aO#Y2]O'm%gO(d'gO~O_%gO'm%gO~P!7zO!W$aOp$la~O!T'Oi!W'Oi~P!7zO!W'{O!T(Zi~O!W(SO!T(hi~O!T(ii!W(ii~P!7zO!W(fi!h(fi_(fi'm(fi~P!7zO#Y2cO!W(fi!h(fi_(fi'm(fi~O!W(`O!h(ei~O}%aO!Y%bO!y]O#c2hO#d2gO'v%`O~O}%aO!Y%bO#d2gO'v%`O~Oh2oO!Y'VO%b2nO~Oh2oO!Y'VO%b2nO(P%RO~O#ewaPwaYwa_walwa!fwa!gwa!iwa!mwa#hwa#iwa#jwa#kwa#lwa#mwa#nwa#owa#pwa#rwa#twa#vwa#wwa'mwa(Twa(dwa!hwa!Twa'kwapwa!Ywa%bwa!bwa~P$ tO#e$maP$maY$ma_$mal$ma{$ma!f$ma!g$ma!i$ma!m$ma#h$ma#i$ma#j$ma#k$ma#l$ma#m$ma#n$ma#o$ma#p$ma#r$ma#t$ma#v$ma#w$ma'm$ma(T$ma(d$ma!h$ma!T$ma'k$map$ma!Y$ma%b$ma!b$ma~P$!jO#e$oaP$oaY$oa_$oal$oa{$oa!f$oa!g$oa!i$oa!m$oa#h$oa#i$oa#j$oa#k$oa#l$oa#m$oa#n$oa#o$oa#p$oa#r$oa#t$oa#v$oa#w$oa'm$oa(T$oa(d$oa!h$oa!T$oa'k$oap$oa!Y$oa%b$oa!b$oa~P$#]O#e$}aP$}aY$}a_$}al$}a{$}a!W$}a!f$}a!g$}a!i$}a!m$}a#h$}a#i$}a#j$}a#k$}a#l$}a#m$}a#n$}a#o$}a#p$}a#r$}a#t$}a#v$}a#w$}a'm$}a(T$}a(d$}a!h$}a!T$}a'k$}a#Y$}ap$}a!Y$}a%b$}a!b$}a~P#,sO_#]q!W#]q'm#]q'k#]q!T#]q!h#]qp#]q!Y#]q%b#]q!b#]q~P!7zOe'QX!W'QX~P!'vO!W._Oe(^a~O!V2wO!W'RX!h'RX~P%[O!W.bO!h(_a~O!W.bO!h(_a~P!7zO!T2zO~O#z!ka!X!ka~PJxO#z!ca!W!ca!X!ca~P#C^O#z!oa!X!oa~P!:eO#z!qa!X!qa~P!=OO!Y3^O$VfO$`3_O~O!X3cO~Op3dO~P#,sO_$iq!W$iq'm$iq'k$iq!T$iq!h$iqp$iq!Y$iq%b$iq!b$iq~P!7zO!T3eO~P#,sOz)vO})wO(l){Oh%Yi(k%Yi!W%Yi#Y%Yi~Oe%Yi#z%Yi~P$J]Oz)vO})wOh%[i(k%[i(l%[i!W%[i#Y%[i~Oe%[i#z%[i~P$KOO(d$ZO~P#,sO!V3hO'v%`O!W']X!h']X~O!W/VO!h(qa~O!W/VO!b#uO!h(qa~O!W/VO!b#uO(d'gO!h(qa~Oe$vi!W$vi#Y$vi#z$vi~P!0kO!V3pO'v*XO!T'_X!W'_X~P!1YO!W/_O!T(ra~O!W/_O!T(ra~P#,sO!b#uO#p3xO~Ol3{O!b#uO(d'gO~Oe(Ri!W(Ri~P!0kO#Y4OOe(Ri!W(Ri~P!0kO!h4RO~O_$jq!W$jq'm$jq'k$jq!T$jq!h$jqp$jq!Y$jq%b$jq!b$jq~P!7zO!T4VO~O!W4WO!Y(sX~P#,sO!g#wO~P4XO_$tX!Y$tX%VZX'm$tX!W$tX~P!/bO%V4YO_iXhiXziX}iX!YiX'miX(kiX(liX!WiX~O%V4YO~O`4`O%c4aO'v+bO'xTO'{UO!W'hX!X'hX~O!W0bO!X(za~OY4eO~O^4fO~O_%gO'm%gO~P#,sO!Y$|O~P#,sO!W4nO#Y4pO!X(wX~O!X4qO~Om!nO}4rO!]!xO!^!uO!_!uO!y9rO!}!pO#O!pO#P!pO#Q!pO#R!pO#U4wO#V!yO'w!lO'xTO'{UO(W!mO(c!sO~O!X4vO~P%%QOh4|O!Y0zO%b4{O~Oh4|O!Y0zO%b4{O(P%RO~O`5TO'v#mO'xTO'{UO!W'gX!X'gX~O!W1VO!X(xa~O'xTO'{UO(W5VO~O^5ZO~O#p5^O&S5_O~PMhO!h5`O~P%[O_5bO~O_5bO~P%[O`1mO!X5gO&b1lO~P`O!b5iO~O!b5kO!W(]i!X(]i!b(]i!i(]i(P(]i~O!W#bi!X#bi~P#C^O#Y5lO!W#bi!X#bi~O!W![i!X![i~P#C^O_%gO#Y5uO'm%gO~O_%gO!b#uO#Y5uO'm%gO~O!W(fq!h(fq_(fq'm(fq~P!7zO!W(`O!h(eq~O}%aO!Y%bO#d5|O'v%`O~O!Y'VO%b6PO~Oh6SO!Y'VO%b6PO~O#e%YiP%YiY%Yi_%Yil%Yi{%Yi!f%Yi!g%Yi!i%Yi!m%Yi#h%Yi#i%Yi#j%Yi#k%Yi#l%Yi#m%Yi#n%Yi#o%Yi#p%Yi#r%Yi#t%Yi#v%Yi#w%Yi'm%Yi(T%Yi(d%Yi!h%Yi!T%Yi'k%Yip%Yi!Y%Yi%b%Yi!b%Yi~P$J]O#e%[iP%[iY%[i_%[il%[i{%[i!f%[i!g%[i!i%[i!m%[i#h%[i#i%[i#j%[i#k%[i#l%[i#m%[i#n%[i#o%[i#p%[i#r%[i#t%[i#v%[i#w%[i'm%[i(T%[i(d%[i!h%[i!T%[i'k%[ip%[i!Y%[i%b%[i!b%[i~P$KOO#e$viP$viY$vi_$vil$vi{$vi!W$vi!f$vi!g$vi!i$vi!m$vi#h$vi#i$vi#j$vi#k$vi#l$vi#m$vi#n$vi#o$vi#p$vi#r$vi#t$vi#v$vi#w$vi'm$vi(T$vi(d$vi!h$vi!T$vi'k$vi#Y$vip$vi!Y$vi%b$vi!b$vi~P#,sOe'Qa!W'Qa~P!0kO!W'Ra!h'Ra~P!7zO!W.bO!h(_i~O#z#]i!W#]i!X#]i~P#C^OP$]Oz#yO{#zO}#{O!g#wO!i#xO!m$]O(TVOY#gil#gi!f#gi#i#gi#j#gi#k#gi#l#gi#m#gi#n#gi#o#gi#p#gi#r#gi#t#gi#v#gi#w#gi#z#gi(d#gi(k#gi(l#gi!W#gi!X#gi~O#h#gi~P%3jO#h9zO~P%3jOP$]Oz#yO{#zO}#{O!g#wO!i#xO!m$]O#h9zO#i9{O#j9{O#k9{O(TVOY#gi!f#gi#l#gi#m#gi#n#gi#o#gi#p#gi#r#gi#t#gi#v#gi#w#gi#z#gi(d#gi(k#gi(l#gi!W#gi!X#gi~Ol#gi~P%5uOl9|O~P%5uOP$]Ol9|Oz#yO{#zO}#{O!g#wO!i#xO!m$]O#h9zO#i9{O#j9{O#k9{O#l9}O(TVO#r#gi#t#gi#v#gi#w#gi#z#gi(d#gi(k#gi(l#gi!W#gi!X#gi~OY#gi!f#gi#m#gi#n#gi#o#gi#p#gi~P%8QOY:YO!f:OO#m:OO#n:OO#o:XO#p:OO~P%8QOP$]OY:YOl9|Oz#yO{#zO}#{O!f:OO!g#wO!i#xO!m$]O#h9zO#i9{O#j9{O#k9{O#l9}O#m:OO#n:OO#o:XO#p:OO#r:PO(TVO#t#gi#v#gi#w#gi#z#gi(d#gi(l#gi!W#gi!X#gi~O(k#gi~P%:lO(k#|O~P%:lOP$]OY:YOl9|Oz#yO{#zO}#{O!f:OO!g#wO!i#xO!m$]O#h9zO#i9{O#j9{O#k9{O#l9}O#m:OO#n:OO#o:XO#p:OO#r:PO#t:RO(TVO(k#|O#v#gi#w#gi#z#gi(d#gi!W#gi!X#gi~O(l#gi~P%<wO(l#}O~P%<wOP$]OY:YOl9|Oz#yO{#zO}#{O!f:OO!g#wO!i#xO!m$]O#h9zO#i9{O#j9{O#k9{O#l9}O#m:OO#n:OO#o:XO#p:OO#r:PO#t:RO#v:TO(TVO(k#|O(l#}O~O#w#gi#z#gi(d#gi!W#gi!X#gi~P%?SO_#xy!W#xy'm#xy'k#xy!T#xy!h#xyp#xy!Y#xy%b#xy!b#xy~P!7zOh;mOz)vO})wO(k)yO(l){O~OP#giY#gil#gi{#gi!f#gi!g#gi!i#gi!m#gi#h#gi#i#gi#j#gi#k#gi#l#gi#m#gi#n#gi#o#gi#p#gi#r#gi#t#gi#v#gi#w#gi#z#gi(T#gi(d#gi!W#gi!X#gi~P%AzO!g#wOP(SXY(SXh(SXl(SXz(SX{(SX}(SX!f(SX!i(SX!m(SX#h(SX#i(SX#j(SX#k(SX#l(SX#m(SX#n(SX#o(SX#p(SX#r(SX#t(SX#v(SX#w(SX#z(SX(T(SX(d(SX(k(SX(l(SX!W(SX!X(SX~O#z#{i!W#{i!X#{i~P#C^O#z!oi!X!oi~P$$zO!X6`O~O!W'[a!X'[a~P#C^O!b#uO(d'gO!W']a!h']a~O!W/VO!h(qi~O!W/VO!b#uO!h(qi~Oe$vq!W$vq#Y$vq#z$vq~P!0kO!T'_a!W'_a~P#,sO!b6gO~O!W/_O!T(ri~P#,sO!W/_O!T(ri~O!T6kO~O!b#uO#p6pO~Ol6qO!b#uO(d'gO~O!T6sO~Oe$xq!W$xq#Y$xq#z$xq~P!0kO_$jy!W$jy'm$jy'k$jy!T$jy!h$jyp$jy!Y$jy%b$jy!b$jy~P!7zO!b5kO~O!W4WO!Y(sa~O_#]y!W#]y'm#]y'k#]y!T#]y!h#]yp#]y!Y#]y%b#]y!b#]y~P!7zOY6xO~O`6zO'v+bO'xTO'{UO~O!W0bO!X(zi~O^7OO~O(W(tO!W'dX!X'dX~O!W4nO!X(wa~OjkO'v7VO~P.iO!X7YO~P%%QOm!nO}7ZO'xTO'{UO(W!mO(c!sO~O!Y0zO~O!Y0zO%b7]O~Oh7`O!Y0zO%b7]O~OY7eO!W'ga!X'ga~O!W1VO!X(xi~O!h7iO~O!h7jO~O!h7mO~O!h7mO~P%[O_7oO~O!b7pO~O!h7qO~O!W(ii!X(ii~P#C^O_%gO#Y7yO'm%gO~O!W(fy!h(fy_(fy'm(fy~P!7zO!W(`O!h(ey~O!Y'VO%b7|O~O#e$vqP$vqY$vq_$vql$vq{$vq!W$vq!f$vq!g$vq!i$vq!m$vq#h$vq#i$vq#j$vq#k$vq#l$vq#m$vq#n$vq#o$vq#p$vq#r$vq#t$vq#v$vq#w$vq'm$vq(T$vq(d$vq!h$vq!T$vq'k$vq#Y$vqp$vq!Y$vq%b$vq!b$vq~P#,sO#e$xqP$xqY$xq_$xql$xq{$xq!W$xq!f$xq!g$xq!i$xq!m$xq#h$xq#i$xq#j$xq#k$xq#l$xq#m$xq#n$xq#o$xq#p$xq#r$xq#t$xq#v$xq#w$xq'm$xq(T$xq(d$xq!h$xq!T$xq'k$xq#Y$xqp$xq!Y$xq%b$xq!b$xq~P#,sO!W'Ri!h'Ri~P!7zO#z#]q!W#]q!X#]q~P#C^Oz/yO{/yO}/zOPwaYwahwalwa!fwa!gwa!iwa!mwa#hwa#iwa#jwa#kwa#lwa#mwa#nwa#owa#pwa#rwa#twa#vwa#wwa#zwa(Twa(dwa(kwa(lwa!Wwa!Xwa~Oz)vO})wOP$maY$mah$mal$ma{$ma!f$ma!g$ma!i$ma!m$ma#h$ma#i$ma#j$ma#k$ma#l$ma#m$ma#n$ma#o$ma#p$ma#r$ma#t$ma#v$ma#w$ma#z$ma(T$ma(d$ma(k$ma(l$ma!W$ma!X$ma~Oz)vO})wOP$oaY$oah$oal$oa{$oa!f$oa!g$oa!i$oa!m$oa#h$oa#i$oa#j$oa#k$oa#l$oa#m$oa#n$oa#o$oa#p$oa#r$oa#t$oa#v$oa#w$oa#z$oa(T$oa(d$oa(k$oa(l$oa!W$oa!X$oa~OP$}aY$}al$}a{$}a!f$}a!g$}a!i$}a!m$}a#h$}a#i$}a#j$}a#k$}a#l$}a#m$}a#n$}a#o$}a#p$}a#r$}a#t$}a#v$}a#w$}a#z$}a(T$}a(d$}a!W$}a!X$}a~P%AzO#z$iq!W$iq!X$iq~P#C^O#z$jq!W$jq!X$jq~P#C^O!X8WO~O#z8XO~P!0kO!b#uO!W']i!h']i~O!b#uO(d'gO!W']i!h']i~O!W/VO!h(qq~O!T'_i!W'_i~P#,sO!W/_O!T(rq~O!T8_O~P#,sO!T8_O~Oe(Ry!W(Ry~P!0kO!W'ba!Y'ba~P#,sO_%Uq!Y%Uq'm%Uq!W%Uq~P#,sOY8dO~O!W0bO!X(zq~O#Y8hO!W'da!X'da~O!W4nO!X(wi~P#C^OPZXYZXlZXzZX{ZX}ZX!TZX!WZX!fZX!gZX!iZX!mZX#YZX#edX#hZX#iZX#jZX#kZX#lZX#mZX#nZX#oZX#pZX#rZX#tZX#vZX#wZX#|ZX(TZX(dZX(kZX(lZX~O!b%SX#p%SX~P&3YO!Y0zO%b8lO~O'xTO'{UO(W8qO~O!W1VO!X(xq~O!h8tO~O!h8uO~O!h8vO~O!h8vO~P%[O#Y8yO!W#by!X#by~O!W#by!X#by~P#C^O!Y'VO%b9OO~O#z#xy!W#xy!X#xy~P#C^OP$viY$vil$vi{$vi!f$vi!g$vi!i$vi!m$vi#h$vi#i$vi#j$vi#k$vi#l$vi#m$vi#n$vi#o$vi#p$vi#r$vi#t$vi#v$vi#w$vi#z$vi(T$vi(d$vi!W$vi!X$vi~P%AzOz)vO})wO(l){OP%YiY%Yih%Yil%Yi{%Yi!f%Yi!g%Yi!i%Yi!m%Yi#h%Yi#i%Yi#j%Yi#k%Yi#l%Yi#m%Yi#n%Yi#o%Yi#p%Yi#r%Yi#t%Yi#v%Yi#w%Yi#z%Yi(T%Yi(d%Yi(k%Yi!W%Yi!X%Yi~Oz)vO})wOP%[iY%[ih%[il%[i{%[i!f%[i!g%[i!i%[i!m%[i#h%[i#i%[i#j%[i#k%[i#l%[i#m%[i#n%[i#o%[i#p%[i#r%[i#t%[i#v%[i#w%[i#z%[i(T%[i(d%[i(k%[i(l%[i!W%[i!X%[i~O#z$jy!W$jy!X$jy~P#C^O#z#]y!W#]y!X#]y~P#C^O!b#uO!W']q!h']q~O!W/VO!h(qy~O!T'_q!W'_q~P#,sO!T9VO~P#,sO!W0bO!X(zy~O!W4nO!X(wq~O!Y0zO%b9^O~O!h9aO~O!Y'VO%b9fO~OP$vqY$vql$vq{$vq!f$vq!g$vq!i$vq!m$vq#h$vq#i$vq#j$vq#k$vq#l$vq#m$vq#n$vq#o$vq#p$vq#r$vq#t$vq#v$vq#w$vq#z$vq(T$vq(d$vq!W$vq!X$vq~P%AzOP$xqY$xql$xq{$xq!f$xq!g$xq!i$xq!m$xq#h$xq#i$xq#j$xq#k$xq#l$xq#m$xq#n$xq#o$xq#p$xq#r$xq#t$xq#v$xq#w$xq#z$xq(T$xq(d$xq!W$xq!X$xq~P%AzOe%^!Z!W%^!Z#Y%^!Z#z%^!Z~P!0kO!W'dq!X'dq~P#C^O!W#b!Z!X#b!Z~P#C^O#e%^!ZP%^!ZY%^!Z_%^!Zl%^!Z{%^!Z!W%^!Z!f%^!Z!g%^!Z!i%^!Z!m%^!Z#h%^!Z#i%^!Z#j%^!Z#k%^!Z#l%^!Z#m%^!Z#n%^!Z#o%^!Z#p%^!Z#r%^!Z#t%^!Z#v%^!Z#w%^!Z'm%^!Z(T%^!Z(d%^!Z!h%^!Z!T%^!Z'k%^!Z#Y%^!Zp%^!Z!Y%^!Z%b%^!Z!b%^!Z~P#,sOP%^!ZY%^!Zl%^!Z{%^!Z!f%^!Z!g%^!Z!i%^!Z!m%^!Z#h%^!Z#i%^!Z#j%^!Z#k%^!Z#l%^!Z#m%^!Z#n%^!Z#o%^!Z#p%^!Z#r%^!Z#t%^!Z#v%^!Z#w%^!Z#z%^!Z(T%^!Z(d%^!Z!W%^!Z!X%^!Z~P%AzOp(XX~P1qO'w!lO~P!*SO!TdX!WdX#YdX~P&3YOPZXYZXlZXzZX{ZX}ZX!WZX!WdX!fZX!gZX!iZX!mZX#YZX#YdX#edX#hZX#iZX#jZX#kZX#lZX#mZX#nZX#oZX#pZX#rZX#tZX#vZX#wZX#|ZX(TZX(dZX(kZX(lZX~O!bdX!hZX!hdX(ddX~P&HpOP9qOQ9qOb;bOc!iOjkOl9qOmkOnkOtkOv9qOx9qO}WO!RkO!SkO!YXO!d9tO!iZO!l9qO!m9qO!n9qO!p9uO!r9xO!u!hO$R!kO$VfO'v)UO'xTO'{UO(TVO(c[O(p;`O~O!W:VO!X$la~Oj%SOl$tOm$sOn$sOt%TOv%UOx:]O}${O!Y$|O!d;gO!i$xO#d:cO$R%YO$n:_O$p:aO$s%ZO'v(lO'xTO'{UO(P%RO(T$uO~O#q)]O~P&MfO!XZX!XdX~P&HpO#e9yO~O!b#uO#e9yO~O#Y:ZO~O#p:OO~O#Y:eO!W(iX!X(iX~O#Y:ZO!W(gX!X(gX~O#e:fO~Oe:hO~P!0kO#e:mO~O#e:nO~O!b#uO#e:oO~O!b#uO#e:fO~O#z:pO~P#C^O#e:qO~O#e:rO~O#e:sO~O#e:tO~O#e:uO~O#e:vO~O#z:wO~P!0kO#z:xO~P!0kO$V~!g!}#O#Q#R#U#c#d#o(p$n$p$s%V%a%b%c%j%l%o%p%r%t~'qR$V(p#i!S'o'w#jm#h#klz'p(W'p'v$X$Z$X~",goto:"$'X)OPPPP)PPP)SP)eP*t.xPPPP5`PP5vP;r>yP?^P?^PPP?^PAOP?^P?^P?^PASPPAXPArPFjPPPFnPPPPFnIoPPPIuJpPFnPMOPPPP! ^FnPPPFnPFnP!#lFnP!'Q!(S!(]P!)P!)T!)PPPPPP!,`!(SPP!,|!-vP!0jFnFn!0o!3y!8`!8`!<UPPP!<]FnPPPPPPPPPPP!?jP!@{PPFn!BYPFnPFnFnFnFnPFn!ClPP!FtP!IxP!I|!JW!J[!J[P!FqP!J`!J`P!MdP!MhFnFn!Mn#!q?^P?^P?^?^P##|?^?^#%x?^#(X?^#)}?^?^#*l#,j#,j#,n#,v#,j#-OP#,jP?^#-h?^#.q?^?^5`PPP#/}PPP#0h#0hP#0hP#1O#0hPP#1UP#0{P#0{#1i#0{#2T#2Z5])S#2^)SP#2e#2e#2eP)SP)SP)SP)SPP)SP#2k#2nP#2n)SP#2rP#2uP)SP)SP)SP)SP)SP)S)SPP#2{#3R#3^#3d#3j#3p#3v#4U#4[#4b#4l#4r#4|#5]#5c#6T#6g#6m#6s#7R#7h#8y#9X#9_#9e#9k#9q#9{#:R#:X#:c#:u#:{PPPPPPPPPP#;RPPPPPPP#;v#>}P#@^#@e#@mPPPP#D{#Gr#NZ#N^#Na$ Y$ ]$ `$ g$ oPP$ u$ y$!q$#p$#t$$YPP$$^$$d$$hP$$k$$o$$r$%h$&P$&h$&l$&o$&r$&x$&{$'P$'TR!{RoqOXst!Z#c%f&i&k&l&n,b,g1g1jY!uQ'V-S0z4uQ%lvQ%tyQ%{|Q&a!VS&}!e,zQ']!iS'c!r!xS*_$|*dQ+`%uQ+m%}Q,R&ZQ-Q'UQ-['^Q-d'dQ/p*fQ1U,SR:d9u%OdOPWXYZstuvw!Z!`!g!o#R#V#Y#c#n#t#x#{$O$P$Q$R$S$T$U$V$W$X$Y$a$e%f%l%y&b&e&i&k&l&n&r&z'X'i'y'{(R(Y(n(r(v)u*x*|,_,b,g-W-`-n-t.b.i/z0P0a0}1_1`1b1d1g1j1l2]2c2w4r4|5^5_5b5u7Z7`7o7yS#p]9r!r)W$[$m'O)j,s,v.q1{3^4p5l8h8y9q9t9u9x9y9z9{9|9}:O:P:Q:R:S:T:U:V:Z:d:e:f:h:o:p:u:v;cQ*o%VQ+e%wQ,T&^Q,[&fQ.X:[Q0W+WQ0[+YQ0g+fQ1^,YQ2k.UQ4`0bQ5T1VQ6R2oQ6X:]Q6z4aR8P6S&|kOPWXYZstuvw!Z!`!g!o#R#V#Y#c#n#t#x#{$O$P$Q$R$S$T$U$V$W$X$Y$[$a$e$m%f%l%y&b&e&f&i&k&l&n&r&z'O'X'i'y'{(R(Y(n(r(v)j)u*x*|+W,_,b,g,s,v-W-`-n-t.U.b.i.q/z0P0a0}1_1`1b1d1g1j1l1{2]2c2o2w3^4p4r4|5^5_5b5l5u6S7Z7`7o7y8h8y9q9t9u9x9y9z9{9|9}:O:P:Q:R:S:T:U:V:Z:d:e:f:h:o:p:u:v;ct!nQ!r!u!x!y&}'U'V'c'd'e,z-Q-S-d0z4u4w$^$si#u#w$c$d$x${%W%X%])q)w)z)|)}*U*[*j*k+V+Y+q+t.T._/P/^/_/a/|0q0t0|2n3f3p3x4O4W4Y4{6P6g6p7]7|8X8l9O9^9f:X:Y:^:_:`:a:b:c:i:j:k:l:m:n:q:r:s:t:w:x;`;h;i;l;mQ&O|Q&{!eS'R%b,}Q+e%wQ,T&^Q/{*sQ0g+fQ0l+lQ1],XQ1^,YQ4`0bQ4i0nQ5T1VQ5W1XQ5X1[Q6z4aQ6}4fQ7h5ZQ8g7OR8r7ernOXst!V!Z#c%f&`&i&k&l&n,b,g1g1jR,V&b&v^OPXYstuvwz!Z!`!g!j!o#R#c#n#t#x#{$O$P$Q$R$S$T$U$V$W$X$Y$[$a$e$m%f%l%y&b&e&f&i&k&l&n&r&z'X'i'{(R(Y(n(r(v)j)u*x*|+W,_,b,g,s,v-W-`-n-t.U.b.i.q/z0P0a0}1_1`1b1d1g1j1l1{2]2c2o2w3^4p4r4|5^5_5b5l5u6S7Z7`7o7y8h8y9q9t9u9x9y9z9{9|9}:O:P:Q:R:S:T:U:V:Z:d:e:f:h:o:p:u:v;b;c[#[WZ#V#Y'O'y!S%cm#g#h#k%^%a(S(^(_(`*z*{*},^,t-r-x-y-z-|1o2g2h5k5|Q%oxQ%syS%x|%}Q&U!TQ'Y!hQ'[!iQ(g#rS*R$x*VS+_%t%uQ+c%wQ+|&XQ,Q&ZS-Z']'^Q.W(hQ/Z*SQ0`+`Q0f+fQ0h+gQ0k+kQ1P+}S1T,R,SQ2X-[Q3g/VQ4_0bQ4c0eQ4h0mQ5S1UQ6d3hQ6y4aQ6|4eQ8c6xR9X8dv$zi#w%W%X%])z)|*U*j*k._/^/|3f4O8X;`;h;i!S%qy!i!t%s%t%u&|'[']'^'b'l*^+_+`,w-Z-[-c/h0`2Q2X2`3zQ+X%oQ+r&RQ+u&SQ,P&ZQ.V(gQ1O+|U1S,Q,R,SQ2p.WQ4}1PS5R1T1UQ7d5S#O;d#u$c$d$x${)q)w)}*[+V+Y+q+t.T/P/_/a0q0t0|2n3p3x4W4Y4{6P6g6p7]7|8l9O9^9f:^:`:b:i:k:m:q:s:w;l;mg;e:X:Y:_:a:c:j:l:n:r:t:xW%Pi%R*l;`S&R!Q&`Q&S!RQ&T!SR+p&P$_%Oi#u#w$c$d$x${%W%X%])q)w)z)|)}*U*[*j*k+V+Y+q+t.T._/P/^/_/a/|0q0t0|2n3f3p3x4O4W4Y4{6P6g6p7]7|8X8l9O9^9f:X:Y:^:_:`:a:b:c:i:j:k:l:m:n:q:r:s:t:w:x;`;h;i;l;mT)r$u)sV*p%V:[:]U'R!e%b,}S(u#y#zQ+j%zS.P(c(dQ0u+vQ4P/yR7S4n&|kOPWXYZstuvw!Z!`!g!o#R#V#Y#c#n#t#x#{$O$P$Q$R$S$T$U$V$W$X$Y$[$a$e$m%f%l%y&b&e&f&i&k&l&n&r&z'O'X'i'y'{(R(Y(n(r(v)j)u*x*|+W,_,b,g,s,v-W-`-n-t.U.b.i.q/z0P0a0}1_1`1b1d1g1j1l1{2]2c2o2w3^4p4r4|5^5_5b5l5u6S7Z7`7o7y8h8y9q9t9u9x9y9z9{9|9}:O:P:Q:R:S:T:U:V:Z:d:e:f:h:o:p:u:v;c$i$`c#X#d%j%k%m'x(O(j(q(y(z({(|(})O)P)Q)R)S)T)V)Y)^)h+T+i,x-g-l-q-s.^.d.h.j.k.l.{/}1v1y2Z2b2v2{2|2}3O3P3Q3R3S3T3U3V3W3X3[3]3b4T4]5n5t5y6V6W6]6^7U7s7w8Q8U8V8{9Z9b9s;VT#SV#T&}kOPWXYZstuvw!Z!`!g!o#R#V#Y#c#n#t#x#{$O$P$Q$R$S$T$U$V$W$X$Y$[$a$e$m%f%l%y&b&e&f&i&k&l&n&r&z'O'X'i'y'{(R(Y(n(r(v)j)u*x*|+W,_,b,g,s,v-W-`-n-t.U.b.i.q/z0P0a0}1_1`1b1d1g1j1l1{2]2c2o2w3^4p4r4|5^5_5b5l5u6S7Z7`7o7y8h8y9q9t9u9x9y9z9{9|9}:O:P:Q:R:S:T:U:V:Z:d:e:f:h:o:p:u:v;cQ'P!eR1|,zv!nQ!e!r!u!x!y&}'U'V'c'd'e,z-Q-S-d0z4u4wS*^$|*dS/h*_*fQ/q*gQ0w+xQ3z/pR3}/snqOXst!Z#c%f&i&k&l&n,b,g1g1jQ&p!^Q'm!wS(i#t9yQ+]%rQ+z&UQ+{&WQ-X'ZQ-f'fS.](n:fS0O*x:oQ0^+^Q0y+yQ1n,iQ1p,jQ1x,uQ2V-YQ2Y-^S4U0P:uQ4Z0_S4^0a:vQ5m1zQ5q2WQ5v2_Q6w4[Q7t5oQ7u5rQ7x5wR8x7q$d$_c#X#d%k%m'x(O(j(q(y(z({(|(})O)P)Q)R)S)T)V)Y)^)h+T+i,x-g-l-q-s.^.d.h.k.l.{/}1v1y2Z2b2v2{2|2}3O3P3Q3R3S3T3U3V3W3X3[3]3b4T4]5n5t5y6V6W6]6^7U7s7w8Q8U8V8{9Z9b9s;VS(f#o'`U*i$}(m3ZS+S%j.jQ2l0WQ6O2kQ8O6RR9P8P$d$^c#X#d%k%m'x(O(j(q(y(z({(|(})O)P)Q)R)S)T)V)Y)^)h+T+i,x-g-l-q-s.^.d.h.k.l.{/}1v1y2Z2b2v2{2|2}3O3P3Q3R3S3T3U3V3W3X3[3]3b4T4]5n5t5y6V6W6]6^7U7s7w8Q8U8V8{9Z9b9s;VS(e#o'`S(w#z$_S+R%j.jS.Q(d(fQ.m)XQ0T+SR2i.R&|kOPWXYZstuvw!Z!`!g!o#R#V#Y#c#n#t#x#{$O$P$Q$R$S$T$U$V$W$X$Y$[$a$e$m%f%l%y&b&e&f&i&k&l&n&r&z'O'X'i'y'{(R(Y(n(r(v)j)u*x*|+W,_,b,g,s,v-W-`-n-t.U.b.i.q/z0P0a0}1_1`1b1d1g1j1l1{2]2c2o2w3^4p4r4|5^5_5b5l5u6S7Z7`7o7y8h8y9q9t9u9x9y9z9{9|9}:O:P:Q:R:S:T:U:V:Z:d:e:f:h:o:p:u:v;cS#p]9rQ&k!XQ&l!YQ&n![Q&o!]R1f,eQ'W!hQ+U%oQ-V'YS.S(g+XQ2T-UW2m.V.W0V0XQ5p2UU5}2j2l2pS7{6O6QS8}7}8OS9d8|9PQ9l9eR9o9mU!vQ'V-ST4s0z4u!Q_OXZ`st!V!Z#c#g%^%f&`&b&i&k&l&n(`,b,g-y1g1j]!pQ!r'V-S0z4uT#p]9r%Y{OPWXYZstuvw!Z!`!g!o#R#V#Y#c#n#t#x#{$O$P$Q$R$S$T$U$V$W$X$Y$a$e%f%l%y&b&e&f&i&k&l&n&r&z'X'i'y'{(R(Y(n(r(v)u*x*|+W,_,b,g-W-`-n-t.U.b.i/z0P0a0}1_1`1b1d1g1j1l2]2c2o2w4r4|5^5_5b5u6S7Z7`7o7yS(u#y#zS.P(c(d!s:|$[$m'O)j,s,v.q1{3^4p5l8h8y9q9t9u9x9y9z9{9|9}:O:P:Q:R:S:T:U:V:Z:d:e:f:h:o:p:u:v;cY!tQ'V-S0z4uQ'b!rS'l!u!xS'n!y4wS-c'c'dQ-e'eR2`-dQ'k!tS([#f1aS-b'b'nQ/Y*RQ/f*^Q2a-eQ3l/ZS3u/g/qQ6c3gS6n3{3}Q8Z6dR8b6qQ#vbQ'j!tS(Z#f1aS(]#l*wQ*y%_Q+Z%pQ+a%vU-a'b'k'nQ-u([Q/X*RQ/e*^Q/k*aQ0]+[Q1Q,OS2^-b-eQ2f-}S3k/Y/ZS3t/f/qQ3w/jQ3y/lQ5P1RQ5x2aQ6b3gQ6f3lS6j3u3}Q6o3|Q7b5QS8Y6c6dQ8^6kQ8`6nQ8o7cQ9T8ZQ9U8_Q9W8bQ9`8pQ9h9VQ;P:zQ;[;TR;];UV!vQ'V-S%YaOPWXYZstuvw!Z!`!g!o#R#V#Y#c#n#t#x#{$O$P$Q$R$S$T$U$V$W$X$Y$a$e%f%l%y&b&e&f&i&k&l&n&r&z'X'i'y'{(R(Y(n(r(v)u*x*|+W,_,b,g-W-`-n-t.U.b.i/z0P0a0}1_1`1b1d1g1j1l2]2c2o2w4r4|5^5_5b5u6S7Z7`7o7yS#vz!j!r:y$[$m'O)j,s,v.q1{3^4p5l8h8y9q9t9u9x9y9z9{9|9}:O:P:Q:R:S:T:U:V:Z:d:e:f:h:o:p:u:v;cR;P;b%YbOPWXYZstuvw!Z!`!g!o#R#V#Y#c#n#t#x#{$O$P$Q$R$S$T$U$V$W$X$Y$a$e%f%l%y&b&e&f&i&k&l&n&r&z'X'i'y'{(R(Y(n(r(v)u*x*|+W,_,b,g-W-`-n-t.U.b.i/z0P0a0}1_1`1b1d1g1j1l2]2c2o2w4r4|5^5_5b5u6S7Z7`7o7yQ%_j!S%py!i!t%s%t%u&|'[']'^'b'l*^+_+`,w-Z-[-c/h0`2Q2X2`3zS%vz!jQ+[%qQ,O&ZW1R,P,Q,R,SU5Q1S1T1US7c5R5SQ8p7d!r:z$[$m'O)j,s,v.q1{3^4p5l8h8y9q9t9u9x9y9z9{9|9}:O:P:Q:R:S:T:U:V:Z:d:e:f:h:o:p:u:v;cQ;T;aR;U;b$|eOPXYstuvw!Z!`!g!o#R#c#n#t#x#{$O$P$Q$R$S$T$U$V$W$X$Y$a$e%f%l%y&b&e&i&k&l&n&r&z'X'i'{(R(Y(n(r(v)u*x*|+W,_,b,g-W-`-n-t.U.b.i/z0P0a0}1_1`1b1d1g1j1l2]2c2o2w4r4|5^5_5b5u6S7Z7`7o7yY#aWZ#V#Y'y!S%cm#g#h#k%^%a(S(^(_(`*z*{*},^,t-r-x-y-z-|1o2g2h5k5|Q,]&f!p:{$[$m)j,s,v.q1{3^4p5l8h8y9q9t9u9x9y9z9{9|9}:O:P:Q:R:S:T:U:V:Z:d:e:f:h:o:p:u:v;cR;O'OS'S!e%bR2O,}%OdOPWXYZstuvw!Z!`!g!o#R#V#Y#c#n#t#x#{$O$P$Q$R$S$T$U$V$W$X$Y$a$e%f%l%y&b&e&i&k&l&n&r&z'X'i'y'{(R(Y(n(r(v)u*x*|,_,b,g-W-`-n-t.b.i/z0P0a0}1_1`1b1d1g1j1l2]2c2w4r4|5^5_5b5u7Z7`7o7y!r)W$[$m'O)j,s,v.q1{3^4p5l8h8y9q9t9u9x9y9z9{9|9}:O:P:Q:R:S:T:U:V:Z:d:e:f:h:o:p:u:v;cQ,[&fQ0W+WQ2k.UQ6R2oR8P6S!f$Uc#X%j'x(O(j(q)Q)R)S)T)Y)^+i-g-l-q-s.^.d.{/}2Z2b2v3X4T4]5t5y6V7w8{9s!T:Q)V)h,x.j1v1y2{3T3U3V3W3[3b5n6W6]6^7U7s8Q8U8V9Z9b;V!b$Wc#X%j'x(O(j(q)S)T)Y)^+i-g-l-q-s.^.d.{/}2Z2b2v3X4T4]5t5y6V7w8{9s!P:S)V)h,x.j1v1y2{3V3W3[3b5n6W6]6^7U7s8Q8U8V9Z9b;V!^$[c#X%j'x(O(j(q)Y)^+i-g-l-q-s.^.d.{/}2Z2b2v3X4T4]5t5y6V7w8{9sQ3f/Tz;c)V)h,x.j1v1y2{3[3b5n6W6]6^7U7s8Q8U8V9Z9b;VQ;h;jR;i;k&|kOPWXYZstuvw!Z!`!g!o#R#V#Y#c#n#t#x#{$O$P$Q$R$S$T$U$V$W$X$Y$[$a$e$m%f%l%y&b&e&f&i&k&l&n&r&z'O'X'i'y'{(R(Y(n(r(v)j)u*x*|+W,_,b,g,s,v-W-`-n-t.U.b.i.q/z0P0a0}1_1`1b1d1g1j1l1{2]2c2o2w3^4p4r4|5^5_5b5l5u6S7Z7`7o7y8h8y9q9t9u9x9y9z9{9|9}:O:P:Q:R:S:T:U:V:Z:d:e:f:h:o:p:u:v;cS$nh$oR3_.p'TgOPWXYZhstuvw!Z!`!g!o#R#V#Y#c#n#t#x#{$O$P$Q$R$S$T$U$V$W$X$Y$[$a$e$m$o%f%l%y&b&e&f&i&k&l&n&r&z'O'X'i'y'{(R(Y(n(r(v)j)u*x*|+W,_,b,g,s,v-W-`-n-t.U.b.i.p.q/z0P0a0}1_1`1b1d1g1j1l1{2]2c2o2w3^4p4r4|5^5_5b5l5u6S7Z7`7o7y8h8y9q9t9u9x9y9z9{9|9}:O:P:Q:R:S:T:U:V:Z:d:e:f:h:o:p:u:v;cT$jf$pQ$hfS)a$k)eR)m$pT$if$pT)c$k)e'ThOPWXYZhstuvw!Z!`!g!o#R#V#Y#c#n#t#x#{$O$P$Q$R$S$T$U$V$W$X$Y$[$a$e$m$o%f%l%y&b&e&f&i&k&l&n&r&z'O'X'i'y'{(R(Y(n(r(v)j)u*x*|+W,_,b,g,s,v-W-`-n-t.U.b.i.p.q/z0P0a0}1_1`1b1d1g1j1l1{2]2c2o2w3^4p4r4|5^5_5b5l5u6S7Z7`7o7y8h8y9q9t9u9x9y9z9{9|9}:O:P:Q:R:S:T:U:V:Z:d:e:f:h:o:p:u:v;cT$nh$oQ$qhR)l$o%YjOPWXYZstuvw!Z!`!g!o#R#V#Y#c#n#t#x#{$O$P$Q$R$S$T$U$V$W$X$Y$a$e%f%l%y&b&e&f&i&k&l&n&r&z'X'i'y'{(R(Y(n(r(v)u*x*|+W,_,b,g-W-`-n-t.U.b.i/z0P0a0}1_1`1b1d1g1j1l2]2c2o2w4r4|5^5_5b5u6S7Z7`7o7y!s;a$[$m'O)j,s,v.q1{3^4p5l8h8y9q9t9u9x9y9z9{9|9}:O:P:Q:R:S:T:U:V:Z:d:e:f:h:o:p:u:v;c#clOPXZst!Z!`!o#R#c#n#{$m%f&b&e&f&i&k&l&n&r&z'X(v)j*|+W,_,b,g-W.U.q/z0}1_1`1b1d1g1j1l2o3^4r4|5^5_5b6S7Z7`7ov$}i#w%W%X%])z)|*U*j*k._/^/|3f4O8X;`;h;i#O(m#u$c$d$x${)q)w)}*[+V+Y+q+t.T/P/_/a0q0t0|2n3p3x4W4Y4{6P6g6p7]7|8l9O9^9f:^:`:b:i:k:m:q:s:w;l;mQ*t%ZQ.|)vg3Z:X:Y:_:a:c:j:l:n:r:t:xv$yi#w%W%X%])z)|*U*j*k._/^/|3f4O8X;`;h;iQ*W$zS*a$|*dQ*u%[Q/l*b#O;R#u$c$d$x${)q)w)}*[+V+Y+q+t.T/P/_/a0q0t0|2n3p3x4W4Y4{6P6g6p7]7|8l9O9^9f:^:`:b:i:k:m:q:s:w;l;mf;S:X:Y:_:a:c:j:l:n:r:t:xQ;W;dQ;X;eQ;Y;fR;Z;gv$}i#w%W%X%])z)|*U*j*k._/^/|3f4O8X;`;h;i#O(m#u$c$d$x${)q)w)}*[+V+Y+q+t.T/P/_/a0q0t0|2n3p3x4W4Y4{6P6g6p7]7|8l9O9^9f:^:`:b:i:k:m:q:s:w;l;mg3Z:X:Y:_:a:c:j:l:n:r:t:xnoOXst!Z#c%f&i&k&l&n,b,g1g1jQ*Z${Q,p&uQ,q&wR3o/_$^%Oi#u#w$c$d$x${%W%X%])q)w)z)|)}*U*[*j*k+V+Y+q+t.T._/P/^/_/a/|0q0t0|2n3f3p3x4O4W4Y4{6P6g6p7]7|8X8l9O9^9f:X:Y:^:_:`:a:b:c:i:j:k:l:m:n:q:r:s:t:w:x;`;h;i;l;mQ+s&SQ0s+uQ4l0rR7R4mT*c$|*dS*c$|*dT4t0z4uS/j*`4rT3|/r7ZQ+Z%pQ/k*aQ0]+[Q1Q,OQ5P1RQ7b5QQ8o7cR9`8pn)z$v(o*v/]/t/u2t3m4S6a6r9S;Q;^;_!Y:i(k)[*Q*Y.[.x.}/T/b0U0p0r2s3n3r4k4m6T6U6h6l6t6v8]8a9g;j;k]:j3Y6[8R9Q9R9pp)|$v(o*v/R/]/t/u2t3m4S6a6r9S;Q;^;_![:k(k)[*Q*Y.[.x.}/T/b0U0p0r2q2s3n3r4k4m6T6U6h6l6t6v8]8a9g;j;k_:l3Y6[8R8S9Q9R9prnOXst!V!Z#c%f&`&i&k&l&n,b,g1g1jQ&]!UR,_&frnOXst!V!Z#c%f&`&i&k&l&n,b,g1g1jR&]!UQ+w&TR0o+psnOXst!V!Z#c%f&`&i&k&l&n,b,g1g1jQ0{+|S4z1O1PU7[4x4y4}S8k7^7_S9[8j8mQ9i9]R9n9jQ&d!VR,W&`R5W1XS%x|%}R0h+gQ&i!WR,b&jR,h&oT1h,g1jR,l&pQ,k&pR1q,lQ'p!zR-h'pSsOtQ#cXT%is#cQ!}TR'r!}Q#QUR't#QQ)s$uR.y)sQ#TVR'v#TQ#WWU'|#W'}-oQ'}#XR-o(OQ,{'PR1},{Q.`(oR2u.`Q.c(qS2x.c2yR2y.dQ-S'VR2R-SY!rQ'V-S0z4uR'a!rS#^W%aU(T#^(U-pQ(U#_R-p(PQ-O'SR2P-Ot`OXst!V!Z#c%f&`&b&i&k&l&n,b,g1g1jS#gZ%^U#q`#g-yR-y(`Q(a#iQ-v(]W.O(a-v2d5zQ2d-wR5z2eQ)e$kR.r)eQ$ohR)k$oQ$bcU)Z$b-k:WQ-k9sR:W)hQ/W*RW3i/W3j6e8[U3j/X/Y/ZS6e3k3lR8[6f#o)x$v(k(o)[*Q*Y*q*r*v.Y.Z.[.x.}/R/S/T/]/b/t/u0U0p0r2q2r2s2t3Y3m3n3r4S4k4m6T6U6Y6Z6[6a6h6l6r6t6v8R8S8T8]8a9Q9R9S9g9p;Q;^;_;j;kQ/`*YU3q/`3s6iQ3s/bR6i3rQ*d$|R/n*dQ*m%QR/w*mQ4X0UR6u4XQ+O%dR0S+OQ4o0uS7T4o8iR8i7UQ+y&UR0x+yQ4u0zR7X4uQ1W,TS5U1W7fR7f5WQ0c+cW4b0c4d6{8eQ4d0fQ6{4cR8e6|Q+h%xR0i+hQ1j,gR5f1jYrOXst#cQ&m!ZQ+Q%fQ,a&iQ,c&kQ,d&lQ,f&nQ1e,bS1h,g1jR5e1gQ%hpQ&q!_Q&t!aQ&v!bQ&x!cQ'h!tQ+P%eQ+]%rQ+o&OQ,V&dQ,n&sW-_'b'j'k'nQ-f'fQ/m*cQ0^+^S1Z,W,ZQ1r,mQ1s,pQ1t,qQ2Y-^W2[-a-b-e-gQ4Z0_Q4g0lQ4j0pQ5O1QQ5Y1]Q5d1fU5s2Z2^2aQ5v2_Q6w4[Q7P4iQ7Q4kQ7W4tQ7a5PQ7g5XS7v5t5xQ7x5wQ8f6}Q8n7bQ8s7hQ8z7wQ9Y8gQ9_8oQ9c8{R9k9`Q%ryQ'Z!iQ'f!tU+^%s%t%uQ,u&|U-Y'[']'^S-^'b'lQ/d*^S0_+_+`Q1z,wS2W-Z-[Q2_-cQ3v/hQ4[0`Q5o2QQ5r2XQ5w2`R6m3zS$wi;`R*n%RU%Qi%R;`R/v*lQ$viS(k#u+YQ(o#wS)[$c$dQ*Q$xQ*Y${Q*q%WQ*r%XQ*v%]Q.Y:^Q.Z:`Q.[:bQ.x)qS.})w/PQ/R)zQ/S)|Q/T)}Q/]*UQ/b*[Q/t*jQ/u*kh0U+V.T0|2n4{6P7]7|8l9O9^9fQ0p+qQ0r+tQ2q:iQ2r:kQ2s:mQ2t._S3Y:X:YQ3m/^Q3n/_Q3r/aQ4S/|Q4k0qQ4m0tQ6T:qQ6U:sQ6Y:_Q6Z:aQ6[:cQ6a3fQ6h3pQ6l3xQ6r4OQ6t4WQ6v4YQ8R:nQ8S:jQ8T:lQ8]6gQ8a6pQ9Q:rQ9R:tQ9S8XQ9g:wQ9p:xQ;Q;`Q;^;hQ;_;iQ;j;lR;k;mnpOXst!Z#c%f&i&k&l&n,b,g1g1jQ!fPS#eZ#nQ&s!`U'_!o4r7ZQ'u#RQ(x#{Q)i$mS,Z&b&eQ,`&fQ,m&rQ,r&zQ-U'XQ.f(vQ.v)jQ0Q*|Q0X+WQ1c,_Q2U-WQ2l.UQ3a.qQ4Q/zQ4y0}Q5[1_Q5]1`Q5a1bQ5c1dQ5h1lQ6O2oQ6_3^Q7_4|Q7k5^Q7l5_Q7n5bQ8O6SQ8m7`R8w7o#WcOPXZst!Z!`!o#c#n#{%f&b&e&f&i&k&l&n&r&z'X(v*|+W,_,b,g-W.U/z0}1_1`1b1d1g1j1l2o4r4|5^5_5b6S7Z7`7oQ#XWQ#dYQ%juQ%kvS%mw!gS'x#V'{Q(O#YQ(j#tQ(q#xQ(y$OQ(z$PQ({$QQ(|$RQ(}$SQ)O$TQ)P$UQ)Q$VQ)R$WQ)S$XQ)T$YQ)V$[Q)Y$aQ)^$eW)h$m)j.q3^Q+T%lQ+i%yS,x'O1{Q-g'iS-l'y-nQ-q(RQ-s(YQ.^(nQ.d(rQ.h9qQ.j9tQ.k9uQ.l9xQ.{)uQ/}*xQ1v,sQ1y,vQ2Z-`Q2b-tQ2v.bQ2{9yQ2|9zQ2}9{Q3O9|Q3P9}Q3Q:OQ3R:PQ3S:QQ3T:RQ3U:SQ3V:TQ3W:UQ3X.iQ3[:ZQ3]:dQ3b:VQ4T0PQ4]0aQ5n:eQ5t2]Q5y2cQ6V2wQ6W:fQ6]:hQ6^:oQ7U4pQ7s5lQ7w5uQ8Q:pQ8U:uQ8V:vQ8{7yQ9Z8hQ9b8yQ9s#RR;V;cR#ZWR'Q!eY!tQ'V-S0z4uS&|!e,zQ'b!rS'l!u!xS'n!y4wS,w&}'US-c'c'dQ-e'eQ2Q-QR2`-dR(p#wR(s#xQ!fQT-R'V-S]!qQ!r'V-S0z4uQ#o]R'`9rT#jZ%^S#iZ%^S%dm,^U(]#g#h#kS-w(^(_Q-{(`Q0R*}Q2e-xU2f-y-z-|S5{2g2hR7z5|`#]W#V#Y%a'y(S*z-rr#fZm#g#h#k%^(^(_(`*}-x-y-z-|2g2h5|Q1a,^Q1w,tQ5j1oQ7r5kT:}'O*{T#`W%aS#_W%aS'z#V(SS(P#Y*zS,y'O*{T-m'y-rT'T!e%bQ$kfR)o$pT)d$k)eR3`.pT*T$x*VR*]${Q0V+VQ2j.TQ4x0|Q6Q2nQ7^4{Q7}6PQ8j7]Q8|7|Q9]8lQ9e9OQ9j9^R9m9fnqOXst!Z#c%f&i&k&l&n,b,g1g1jQ&c!VR,V&`tmOXst!U!V!Z#c%f&`&i&k&l&n,b,g1g1jR,^&fT%em,^R0v+vR,U&^Q%||R+n%}R+d%wT&g!W&jT&h!W&jT1i,g1j",nodeNames:"⚠ ArithOp ArithOp LineComment BlockComment Script Hashbang ExportDeclaration export Star as VariableName String Escape from ; default FunctionDeclaration async function VariableDefinition > TypeParamList TypeDefinition extends ThisType this LiteralType ArithOp Number BooleanLiteral TemplateType InterpolationEnd Interpolation InterpolationStart NullType null VoidType void TypeofType typeof MemberExpression . ?. PropertyName [ TemplateString Escape Interpolation super RegExp ] ArrayExpression Spread , } { ObjectExpression Property async get set PropertyDefinition Block : NewExpression new TypeArgList CompareOp < ) ( ArgList UnaryExpression delete LogicOp BitOp YieldExpression yield AwaitExpression await ParenthesizedExpression ClassExpression class ClassBody MethodDeclaration Decorator @ MemberExpression PrivatePropertyName CallExpression declare Privacy static abstract override PrivatePropertyDefinition PropertyDeclaration readonly accessor Optional TypeAnnotation Equals StaticBlock FunctionExpression ArrowFunction ParamList ParamList ArrayPattern ObjectPattern PatternProperty Privacy readonly Arrow MemberExpression BinaryExpression ArithOp ArithOp ArithOp ArithOp BitOp CompareOp instanceof satisfies in const CompareOp BitOp BitOp BitOp LogicOp LogicOp ConditionalExpression LogicOp LogicOp AssignmentExpression UpdateOp PostfixExpression CallExpression TaggedTemplateExpression DynamicImport import ImportMeta JSXElement JSXSelfCloseEndTag JSXStartTag JSXSelfClosingTag JSXIdentifier JSXBuiltin JSXIdentifier JSXNamespacedName JSXMemberExpression JSXSpreadAttribute JSXAttribute JSXAttributeValue JSXEscape JSXEndTag JSXOpenTag JSXFragmentTag JSXText JSXEscape JSXStartCloseTag JSXCloseTag PrefixCast ArrowFunction TypeParamList SequenceExpression KeyofType keyof UniqueType unique ImportType InferredType infer TypeName ParenthesizedType FunctionSignature ParamList NewSignature IndexedType TupleType Label ArrayType ReadonlyType ObjectType MethodType PropertyType IndexSignature PropertyDefinition CallSignature TypePredicate is NewSignature new UnionType LogicOp IntersectionType LogicOp ConditionalType ParameterizedType ClassDeclaration abstract implements type VariableDeclaration let var using TypeAliasDeclaration InterfaceDeclaration interface EnumDeclaration enum EnumBody NamespaceDeclaration namespace module AmbientDeclaration declare GlobalDeclaration global ClassDeclaration ClassBody AmbientFunctionDeclaration ExportGroup VariableName VariableName ImportDeclaration ImportGroup ForStatement for ForSpec ForInSpec ForOfSpec of WhileStatement while WithStatement with DoStatement do IfStatement if else SwitchStatement switch SwitchBody CaseLabel case DefaultLabel TryStatement try CatchClause catch FinallyClause finally ReturnStatement return ThrowStatement throw BreakStatement break ContinueStatement continue DebuggerStatement debugger LabeledStatement ExpressionStatement SingleExpression SingleClassItem",maxTerm:367,context:Cie,nodeProps:[["group",-26,7,15,17,63,200,204,208,209,211,214,217,227,229,235,237,239,241,244,250,256,258,260,262,264,266,267,"Statement",-32,11,12,26,29,30,36,46,49,50,52,57,65,73,77,79,81,82,104,105,114,115,132,135,137,138,139,140,142,143,163,164,166,"Expression",-23,25,27,31,35,37,39,167,169,171,172,174,175,176,178,179,180,182,183,184,194,196,198,199,"Type",-3,85,97,103,"ClassItem"],["openedBy",32,"InterpolationStart",51,"[",55,"{",70,"(",144,"JSXStartTag",156,"JSXStartTag JSXStartCloseTag"],["closedBy",34,"InterpolationEnd",45,"]",56,"}",71,")",145,"JSXSelfCloseEndTag JSXEndTag",161,"JSXEndTag"]],propSources:[$ie],skippedNodes:[0,3,4,270],repeatNodeCount:33,tokenData:"$Fl(CSR!bOX%ZXY+gYZ-yZ[+g[]%Z]^.c^p%Zpq+gqr/mrs3cst:_tuEruvJSvwLkwx! Yxy!'iyz!(sz{!)}{|!,q|}!.O}!O!,q!O!P!/Y!P!Q!9j!Q!R#8g!R![#:v![!]#Gv!]!^#IS!^!_#J^!_!`#Nu!`!a$#a!a!b$(n!b!c$,m!c!}Er!}#O$-w#O#P$/R#P#Q$4j#Q#R$5t#R#SEr#S#T$7R#T#o$8]#o#p$<m#p#q$=c#q#r$>s#r#s$@P#s$f%Z$f$g+g$g#BYEr#BY#BZ$AZ#BZ$ISEr$IS$I_$AZ$I_$I|Er$I|$I}$Df$I}$JO$Df$JO$JTEr$JT$JU$AZ$JU$KVEr$KV$KW$AZ$KW&FUEr&FU&FV$AZ&FV;'SEr;'S;=`I|<%l?HTEr?HT?HU$AZ?HUOEr(n%d_$e&j'yp'|!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z&j&hT$e&jO!^&c!_#o&c#p;'S&c;'S;=`&w<%lO&c&j&zP;=`<%l&c'|'U]$e&j'|!bOY&}YZ&cZw&}wx&cx!^&}!^!_'}!_#O&}#O#P&c#P#o&}#o#p'}#p;'S&};'S;=`(l<%lO&}!b(SU'|!bOY'}Zw'}x#O'}#P;'S'};'S;=`(f<%lO'}!b(iP;=`<%l'}'|(oP;=`<%l&}'[(y]$e&j'ypOY(rYZ&cZr(rrs&cs!^(r!^!_)r!_#O(r#O#P&c#P#o(r#o#p)r#p;'S(r;'S;=`*a<%lO(rp)wU'ypOY)rZr)rs#O)r#P;'S)r;'S;=`*Z<%lO)rp*^P;=`<%l)r'[*dP;=`<%l(r#S*nX'yp'|!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g#S+^P;=`<%l*g(n+dP;=`<%l%Z(CS+rq$e&j'yp'|!b'o(;dOX%ZXY+gYZ&cZ[+g[p%Zpq+gqr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p$f%Z$f$g+g$g#BY%Z#BY#BZ+g#BZ$IS%Z$IS$I_+g$I_$JT%Z$JT$JU+g$JU$KV%Z$KV$KW+g$KW&FU%Z&FU&FV+g&FV;'S%Z;'S;=`+a<%l?HT%Z?HT?HU+g?HUO%Z(CS.ST'z#S$e&j'p(;dO!^&c!_#o&c#p;'S&c;'S;=`&w<%lO&c(CS.n_$e&j'yp'|!b'p(;dOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z%#`/x`$e&j!m$Ip'yp'|!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`0z!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z%#S1V`#r$Id$e&j'yp'|!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`2X!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z%#S2d_#r$Id$e&j'yp'|!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z$2b3l_'x$(n$e&j'|!bOY4kYZ5qZr4krs7nsw4kwx5qx!^4k!^!_8p!_#O4k#O#P5q#P#o4k#o#p8p#p;'S4k;'S;=`:X<%lO4k*r4r_$e&j'|!bOY4kYZ5qZr4krs7nsw4kwx5qx!^4k!^!_8p!_#O4k#O#P5q#P#o4k#o#p8p#p;'S4k;'S;=`:X<%lO4k)`5vX$e&jOr5qrs6cs!^5q!^!_6y!_#o5q#o#p6y#p;'S5q;'S;=`7h<%lO5q)`6jT$`#t$e&jO!^&c!_#o&c#p;'S&c;'S;=`&w<%lO&c#t6|TOr6yrs7]s;'S6y;'S;=`7b<%lO6y#t7bO$`#t#t7eP;=`<%l6y)`7kP;=`<%l5q*r7w]$`#t$e&j'|!bOY&}YZ&cZw&}wx&cx!^&}!^!_'}!_#O&}#O#P&c#P#o&}#o#p'}#p;'S&};'S;=`(l<%lO&}%W8uZ'|!bOY8pYZ6yZr8prs9hsw8pwx6yx#O8p#O#P6y#P;'S8p;'S;=`:R<%lO8p%W9oU$`#t'|!bOY'}Zw'}x#O'}#P;'S'};'S;=`(f<%lO'}%W:UP;=`<%l8p*r:[P;=`<%l4k#%|:hh$e&j'yp'|!bOY%ZYZ&cZq%Zqr<Srs&}st%ZtuCruw%Zwx(rx!^%Z!^!_*g!_!c%Z!c!}Cr!}#O%Z#O#P&c#P#R%Z#R#SCr#S#T%Z#T#oCr#o#p*g#p$g%Z$g;'SCr;'S;=`El<%lOCr(r<__US$e&j'yp'|!bOY<SYZ&cZr<Srs=^sw<Swx@nx!^<S!^!_Bm!_#O<S#O#P>`#P#o<S#o#pBm#p;'S<S;'S;=`Cl<%lO<S(Q=g]US$e&j'|!bOY=^YZ&cZw=^wx>`x!^=^!^!_?q!_#O=^#O#P>`#P#o=^#o#p?q#p;'S=^;'S;=`@h<%lO=^&n>gXUS$e&jOY>`YZ&cZ!^>`!^!_?S!_#o>`#o#p?S#p;'S>`;'S;=`?k<%lO>`S?XSUSOY?SZ;'S?S;'S;=`?e<%lO?SS?hP;=`<%l?S&n?nP;=`<%l>`!f?xWUS'|!bOY?qZw?qwx?Sx#O?q#O#P?S#P;'S?q;'S;=`@b<%lO?q!f@eP;=`<%l?q(Q@kP;=`<%l=^'`@w]US$e&j'ypOY@nYZ&cZr@nrs>`s!^@n!^!_Ap!_#O@n#O#P>`#P#o@n#o#pAp#p;'S@n;'S;=`Bg<%lO@ntAwWUS'ypOYApZrAprs?Ss#OAp#O#P?S#P;'SAp;'S;=`Ba<%lOAptBdP;=`<%lAp'`BjP;=`<%l@n#WBvYUS'yp'|!bOYBmZrBmrs?qswBmwxApx#OBm#O#P?S#P;'SBm;'S;=`Cf<%lOBm#WCiP;=`<%lBm(rCoP;=`<%l<S#%|C}i$e&j(c!L^'yp'|!bOY%ZYZ&cZr%Zrs&}st%ZtuCruw%Zwx(rx!Q%Z!Q![Cr![!^%Z!^!_*g!_!c%Z!c!}Cr!}#O%Z#O#P&c#P#R%Z#R#SCr#S#T%Z#T#oCr#o#p*g#p$g%Z$g;'SCr;'S;=`El<%lOCr#%|EoP;=`<%lCr(CSFRk$e&j'yp'|!b(W!LY'v&;d$X#tOY%ZYZ&cZr%Zrs&}st%ZtuEruw%Zwx(rx}%Z}!OGv!O!Q%Z!Q![Er![!^%Z!^!_*g!_!c%Z!c!}Er!}#O%Z#O#P&c#P#R%Z#R#SEr#S#T%Z#T#oEr#o#p*g#p$g%Z$g;'SEr;'S;=`I|<%lOEr+dHRk$e&j'yp'|!b$X#tOY%ZYZ&cZr%Zrs&}st%ZtuGvuw%Zwx(rx}%Z}!OGv!O!Q%Z!Q![Gv![!^%Z!^!_*g!_!c%Z!c!}Gv!}#O%Z#O#P&c#P#R%Z#R#SGv#S#T%Z#T#oGv#o#p*g#p$g%Z$g;'SGv;'S;=`Iv<%lOGv+dIyP;=`<%lGv(CSJPP;=`<%lEr%#SJ_`$e&j'yp'|!b#j$IdOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z%#SKl_$e&j#|$Id'yp'|!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z%DfLva(l%<v$e&j'yp'|!bOY%ZYZ&cZr%Zrs&}sv%ZvwM{wx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z%#SNW`$e&j#v$Id'yp'|!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z$2b! c_'{$)`$e&j'ypOY!!bYZ!#hZr!!brs!#hsw!!bwx!$xx!^!!b!^!_!%z!_#O!!b#O#P!#h#P#o!!b#o#p!%z#p;'S!!b;'S;=`!'c<%lO!!b*Q!!i_$e&j'ypOY!!bYZ!#hZr!!brs!#hsw!!bwx!$xx!^!!b!^!_!%z!_#O!!b#O#P!#h#P#o!!b#o#p!%z#p;'S!!b;'S;=`!'c<%lO!!b)`!#mX$e&jOw!#hwx6cx!^!#h!^!_!$Y!_#o!#h#o#p!$Y#p;'S!#h;'S;=`!$r<%lO!#h#t!$]TOw!$Ywx7]x;'S!$Y;'S;=`!$l<%lO!$Y#t!$oP;=`<%l!$Y)`!$uP;=`<%l!#h*Q!%R]$`#t$e&j'ypOY(rYZ&cZr(rrs&cs!^(r!^!_)r!_#O(r#O#P&c#P#o(r#o#p)r#p;'S(r;'S;=`*a<%lO(r$f!&PZ'ypOY!%zYZ!$YZr!%zrs!$Ysw!%zwx!&rx#O!%z#O#P!$Y#P;'S!%z;'S;=`!']<%lO!%z$f!&yU$`#t'ypOY)rZr)rs#O)r#P;'S)r;'S;=`*Z<%lO)r$f!'`P;=`<%l!%z*Q!'fP;=`<%l!!b(*Q!'t_!i(!b$e&j'yp'|!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z!'l!)O_!hM|$e&j'yp'|!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'+h!*[b$e&j'yp'|!b'w#)d#k$IdOY%ZYZ&cZr%Zrs&}sw%Zwx(rxz%Zz{!+d{!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z%#S!+o`$e&j'yp'|!b#h$IdOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z&-O!,|`$e&j'yp'|!bl&%`OY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z&C[!.Z_!W&;l$e&j'yp'|!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(CS!/ec$e&j'yp'|!bz'<nOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!O%Z!O!P!0p!P!Q%Z!Q![!3Y![!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z!'d!0ya$e&j'yp'|!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!O%Z!O!P!2O!P!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z!'d!2Z_!VMt$e&j'yp'|!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z$/l!3eg$e&j'yp'|!bm$'|OY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![!3Y![!^%Z!^!_*g!_!g%Z!g!h!4|!h#O%Z#O#P&c#P#R%Z#R#S!3Y#S#X%Z#X#Y!4|#Y#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z$/l!5Vg$e&j'yp'|!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx{%Z{|!6n|}%Z}!O!6n!O!Q%Z!Q![!8S![!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S!8S#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z$/l!6wc$e&j'yp'|!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![!8S![!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S!8S#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z$/l!8_c$e&j'yp'|!bm$'|OY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![!8S![!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S!8S#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(CS!9uf$e&j'yp'|!b#i$IdOY!;ZYZ&cZr!;Zrs!<nsw!;Zwx!Kpxz!;Zz{#,f{!P!;Z!P!Q#-{!Q!^!;Z!^!_#'Z!_!`#5k!`!a#7Q!a!}!;Z!}#O#*}#O#P!Dj#P#o!;Z#o#p#'Z#p;'S!;Z;'S;=`#,`<%lO!;Z(r!;fb$e&j'yp'|!b!SSOY!;ZYZ&cZr!;Zrs!<nsw!;Zwx!Kpx!P!;Z!P!Q#%Z!Q!^!;Z!^!_#'Z!_!}!;Z!}#O#*}#O#P!Dj#P#o!;Z#o#p#'Z#p;'S!;Z;'S;=`#,`<%lO!;Z(Q!<w`$e&j'|!b!SSOY!<nYZ&cZw!<nwx!=yx!P!<n!P!Q!Eb!Q!^!<n!^!_!GY!_!}!<n!}#O!Ja#O#P!Dj#P#o!<n#o#p!GY#p;'S!<n;'S;=`!Kj<%lO!<n&n!>Q^$e&j!SSOY!=yYZ&cZ!P!=y!P!Q!>|!Q!^!=y!^!_!@Y!_!}!=y!}#O!Bw#O#P!Dj#P#o!=y#o#p!@Y#p;'S!=y;'S;=`!E[<%lO!=y&n!?Ta$e&j!SSO!^&c!_#Z&c#Z#[!>|#[#]&c#]#^!>|#^#a&c#a#b!>|#b#g&c#g#h!>|#h#i&c#i#j!>|#j#m&c#m#n!>|#n#o&c#p;'S&c;'S;=`&w<%lO&cS!@_X!SSOY!@YZ!P!@Y!P!Q!@z!Q!}!@Y!}#O!Ac#O#P!Bb#P;'S!@Y;'S;=`!Bq<%lO!@YS!APU!SS#Z#[!@z#]#^!@z#a#b!@z#g#h!@z#i#j!@z#m#n!@zS!AfVOY!AcZ#O!Ac#O#P!A{#P#Q!@Y#Q;'S!Ac;'S;=`!B[<%lO!AcS!BOSOY!AcZ;'S!Ac;'S;=`!B[<%lO!AcS!B_P;=`<%l!AcS!BeSOY!@YZ;'S!@Y;'S;=`!Bq<%lO!@YS!BtP;=`<%l!@Y&n!B|[$e&jOY!BwYZ&cZ!^!Bw!^!_!Ac!_#O!Bw#O#P!Cr#P#Q!=y#Q#o!Bw#o#p!Ac#p;'S!Bw;'S;=`!Dd<%lO!Bw&n!CwX$e&jOY!BwYZ&cZ!^!Bw!^!_!Ac!_#o!Bw#o#p!Ac#p;'S!Bw;'S;=`!Dd<%lO!Bw&n!DgP;=`<%l!Bw&n!DoX$e&jOY!=yYZ&cZ!^!=y!^!_!@Y!_#o!=y#o#p!@Y#p;'S!=y;'S;=`!E[<%lO!=y&n!E_P;=`<%l!=y(Q!Eki$e&j'|!b!SSOY&}YZ&cZw&}wx&cx!^&}!^!_'}!_#O&}#O#P&c#P#Z&}#Z#[!Eb#[#]&}#]#^!Eb#^#a&}#a#b!Eb#b#g&}#g#h!Eb#h#i&}#i#j!Eb#j#m&}#m#n!Eb#n#o&}#o#p'}#p;'S&};'S;=`(l<%lO&}!f!GaZ'|!b!SSOY!GYZw!GYwx!@Yx!P!GY!P!Q!HS!Q!}!GY!}#O!Ic#O#P!Bb#P;'S!GY;'S;=`!JZ<%lO!GY!f!HZb'|!b!SSOY'}Zw'}x#O'}#P#Z'}#Z#[!HS#[#]'}#]#^!HS#^#a'}#a#b!HS#b#g'}#g#h!HS#h#i'}#i#j!HS#j#m'}#m#n!HS#n;'S'};'S;=`(f<%lO'}!f!IhX'|!bOY!IcZw!Icwx!Acx#O!Ic#O#P!A{#P#Q!GY#Q;'S!Ic;'S;=`!JT<%lO!Ic!f!JWP;=`<%l!Ic!f!J^P;=`<%l!GY(Q!Jh^$e&j'|!bOY!JaYZ&cZw!Jawx!Bwx!^!Ja!^!_!Ic!_#O!Ja#O#P!Cr#P#Q!<n#Q#o!Ja#o#p!Ic#p;'S!Ja;'S;=`!Kd<%lO!Ja(Q!KgP;=`<%l!Ja(Q!KmP;=`<%l!<n'`!Ky`$e&j'yp!SSOY!KpYZ&cZr!Kprs!=ys!P!Kp!P!Q!L{!Q!^!Kp!^!_!Ns!_!}!Kp!}#O##z#O#P!Dj#P#o!Kp#o#p!Ns#p;'S!Kp;'S;=`#%T<%lO!Kp'`!MUi$e&j'yp!SSOY(rYZ&cZr(rrs&cs!^(r!^!_)r!_#O(r#O#P&c#P#Z(r#Z#[!L{#[#](r#]#^!L{#^#a(r#a#b!L{#b#g(r#g#h!L{#h#i(r#i#j!L{#j#m(r#m#n!L{#n#o(r#o#p)r#p;'S(r;'S;=`*a<%lO(rt!NzZ'yp!SSOY!NsZr!Nsrs!@Ys!P!Ns!P!Q# m!Q!}!Ns!}#O#!|#O#P!Bb#P;'S!Ns;'S;=`##t<%lO!Nst# tb'yp!SSOY)rZr)rs#O)r#P#Z)r#Z#[# m#[#])r#]#^# m#^#a)r#a#b# m#b#g)r#g#h# m#h#i)r#i#j# m#j#m)r#m#n# m#n;'S)r;'S;=`*Z<%lO)rt##RX'ypOY#!|Zr#!|rs!Acs#O#!|#O#P!A{#P#Q!Ns#Q;'S#!|;'S;=`##n<%lO#!|t##qP;=`<%l#!|t##wP;=`<%l!Ns'`#$R^$e&j'ypOY##zYZ&cZr##zrs!Bws!^##z!^!_#!|!_#O##z#O#P!Cr#P#Q!Kp#Q#o##z#o#p#!|#p;'S##z;'S;=`#$}<%lO##z'`#%QP;=`<%l##z'`#%WP;=`<%l!Kp(r#%fk$e&j'yp'|!b!SSOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#Z%Z#Z#[#%Z#[#]%Z#]#^#%Z#^#a%Z#a#b#%Z#b#g%Z#g#h#%Z#h#i%Z#i#j#%Z#j#m%Z#m#n#%Z#n#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z#W#'d]'yp'|!b!SSOY#'ZZr#'Zrs!GYsw#'Zwx!Nsx!P#'Z!P!Q#(]!Q!}#'Z!}#O#)w#O#P!Bb#P;'S#'Z;'S;=`#*w<%lO#'Z#W#(fe'yp'|!b!SSOY*gZr*grs'}sw*gwx)rx#O*g#P#Z*g#Z#[#(]#[#]*g#]#^#(]#^#a*g#a#b#(]#b#g*g#g#h#(]#h#i*g#i#j#(]#j#m*g#m#n#(]#n;'S*g;'S;=`+Z<%lO*g#W#*OZ'yp'|!bOY#)wZr#)wrs!Icsw#)wwx#!|x#O#)w#O#P!A{#P#Q#'Z#Q;'S#)w;'S;=`#*q<%lO#)w#W#*tP;=`<%l#)w#W#*zP;=`<%l#'Z(r#+W`$e&j'yp'|!bOY#*}YZ&cZr#*}rs!Jasw#*}wx##zx!^#*}!^!_#)w!_#O#*}#O#P!Cr#P#Q!;Z#Q#o#*}#o#p#)w#p;'S#*};'S;=`#,Y<%lO#*}(r#,]P;=`<%l#*}(r#,cP;=`<%l!;Z(CS#,sb$e&j'yp'|!b'q(;d!SSOY!;ZYZ&cZr!;Zrs!<nsw!;Zwx!Kpx!P!;Z!P!Q#%Z!Q!^!;Z!^!_#'Z!_!}!;Z!}#O#*}#O#P!Dj#P#o!;Z#o#p#'Z#p;'S!;Z;'S;=`#,`<%lO!;Z(CS#.W_$e&j'yp'|!bR(;dOY#-{YZ&cZr#-{rs#/Vsw#-{wx#2gx!^#-{!^!_#4f!_#O#-{#O#P#0X#P#o#-{#o#p#4f#p;'S#-{;'S;=`#5e<%lO#-{(Bb#/`]$e&j'|!bR(;dOY#/VYZ&cZw#/Vwx#0Xx!^#/V!^!_#1j!_#O#/V#O#P#0X#P#o#/V#o#p#1j#p;'S#/V;'S;=`#2a<%lO#/V(AO#0`X$e&jR(;dOY#0XYZ&cZ!^#0X!^!_#0{!_#o#0X#o#p#0{#p;'S#0X;'S;=`#1d<%lO#0X(;d#1QSR(;dOY#0{Z;'S#0{;'S;=`#1^<%lO#0{(;d#1aP;=`<%l#0{(AO#1gP;=`<%l#0X(<v#1qW'|!bR(;dOY#1jZw#1jwx#0{x#O#1j#O#P#0{#P;'S#1j;'S;=`#2Z<%lO#1j(<v#2^P;=`<%l#1j(Bb#2dP;=`<%l#/V(Ap#2p]$e&j'ypR(;dOY#2gYZ&cZr#2grs#0Xs!^#2g!^!_#3i!_#O#2g#O#P#0X#P#o#2g#o#p#3i#p;'S#2g;'S;=`#4`<%lO#2g(<U#3pW'ypR(;dOY#3iZr#3irs#0{s#O#3i#O#P#0{#P;'S#3i;'S;=`#4Y<%lO#3i(<U#4]P;=`<%l#3i(Ap#4cP;=`<%l#2g(=h#4oY'yp'|!bR(;dOY#4fZr#4frs#1jsw#4fwx#3ix#O#4f#O#P#0{#P;'S#4f;'S;=`#5_<%lO#4f(=h#5bP;=`<%l#4f(CS#5hP;=`<%l#-{%#W#5xb$e&j#|$Id'yp'|!b!SSOY!;ZYZ&cZr!;Zrs!<nsw!;Zwx!Kpx!P!;Z!P!Q#%Z!Q!^!;Z!^!_#'Z!_!}!;Z!}#O#*}#O#P!Dj#P#o!;Z#o#p#'Z#p;'S!;Z;'S;=`#,`<%lO!;Z+h#7_b$U#t$e&j'yp'|!b!SSOY!;ZYZ&cZr!;Zrs!<nsw!;Zwx!Kpx!P!;Z!P!Q#%Z!Q!^!;Z!^!_#'Z!_!}!;Z!}#O#*}#O#P!Dj#P#o!;Z#o#p#'Z#p;'S!;Z;'S;=`#,`<%lO!;Z$/l#8rp$e&j'yp'|!bm$'|OY%ZYZ&cZr%Zrs&}sw%Zwx(rx!O%Z!O!P!3Y!P!Q%Z!Q![#:v![!^%Z!^!_*g!_!g%Z!g!h!4|!h#O%Z#O#P&c#P#R%Z#R#S#:v#S#U%Z#U#V#>Q#V#X%Z#X#Y!4|#Y#b%Z#b#c#<v#c#d#AY#d#l%Z#l#m#D[#m#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z$/l#;Rk$e&j'yp'|!bm$'|OY%ZYZ&cZr%Zrs&}sw%Zwx(rx!O%Z!O!P!3Y!P!Q%Z!Q![#:v![!^%Z!^!_*g!_!g%Z!g!h!4|!h#O%Z#O#P&c#P#R%Z#R#S#:v#S#X%Z#X#Y!4|#Y#b%Z#b#c#<v#c#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z$/l#=R_$e&j'yp'|!bm$'|OY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z$/l#>Zd$e&j'yp'|!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q!R#?i!R!S#?i!S!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S#?i#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z$/l#?tf$e&j'yp'|!bm$'|OY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q!R#?i!R!S#?i!S!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S#?i#S#b%Z#b#c#<v#c#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z$/l#Acc$e&j'yp'|!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q!Y#Bn!Y!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S#Bn#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z$/l#Bye$e&j'yp'|!bm$'|OY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q!Y#Bn!Y!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S#Bn#S#b%Z#b#c#<v#c#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z$/l#Deg$e&j'yp'|!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![#E|![!^%Z!^!_*g!_!c%Z!c!i#E|!i#O%Z#O#P&c#P#R%Z#R#S#E|#S#T%Z#T#Z#E|#Z#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z$/l#FXi$e&j'yp'|!bm$'|OY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![#E|![!^%Z!^!_*g!_!c%Z!c!i#E|!i#O%Z#O#P&c#P#R%Z#R#S#E|#S#T%Z#T#Z#E|#Z#b%Z#b#c#<v#c#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z%Gh#HT_!b$b$e&j#z%<f'yp'|!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z)[#I___l$e&j'yp'|!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(CS#Jm^(P!*v!f'.r'yp'|!b$V)d(pSOY*gZr*grs'}sw*gwx)rx!P*g!P!Q#Ki!Q!^*g!^!_#L_!_!`#NP!`#O*g#P;'S*g;'S;=`+Z<%lO*g(n#KrX$g&j'yp'|!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g$Kh#LhZ#l$Id'yp'|!bOY*gZr*grs'}sw*gwx)rx!_*g!_!`#MZ!`#O*g#P;'S*g;'S;=`+Z<%lO*g$Kh#MdX#|$Id'yp'|!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g$Kh#NYX#m$Id'yp'|!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g%Gh$ Qa#Y%?x$e&j'yp'|!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`0z!`!a$!V!a#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z%#W$!b_#e$Ih$e&j'yp'|!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z%Gh$#paeBf#m$Id$b#|$e&j'yp'|!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`$$u!`!a$&P!a#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z%#S$%Q_#m$Id$e&j'yp'|!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z%#S$&[a#l$Id$e&j'yp'|!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`!a$'a!a#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z%#S$'l`#l$Id$e&j'yp'|!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'+h$(yc(d$Ip$e&j'yp'|!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!O%Z!O!P$*U!P!^%Z!^!_*g!_!a%Z!a!b$+`!b#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'+`$*a_{'#p$e&j'yp'|!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z%#S$+k`$e&j#w$Id'yp'|!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z#&^$,x_!y!Ln$e&j'yp'|!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(@^$.S_}(8n$e&j'yp'|!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(n$/WZ$e&jO!^$/y!^!_$0a!_#i$/y#i#j$0f#j#l$/y#l#m$2X#m#o$/y#o#p$0a#p;'S$/y;'S;=`$4d<%lO$/y(n$0QT]#S$e&jO!^&c!_#o&c#p;'S&c;'S;=`&w<%lO&c#S$0fO]#S(n$0k[$e&jO!Q&c!Q![$1a![!^&c!_!c&c!c!i$1a!i#T&c#T#Z$1a#Z#o&c#o#p$3w#p;'S&c;'S;=`&w<%lO&c(n$1fZ$e&jO!Q&c!Q![$2X![!^&c!_!c&c!c!i$2X!i#T&c#T#Z$2X#Z#o&c#p;'S&c;'S;=`&w<%lO&c(n$2^Z$e&jO!Q&c!Q![$3P![!^&c!_!c&c!c!i$3P!i#T&c#T#Z$3P#Z#o&c#p;'S&c;'S;=`&w<%lO&c(n$3UZ$e&jO!Q&c!Q![$/y![!^&c!_!c&c!c!i$/y!i#T&c#T#Z$/y#Z#o&c#p;'S&c;'S;=`&w<%lO&c#S$3zR!Q![$4T!c!i$4T#T#Z$4T#S$4WS!Q![$4T!c!i$4T#T#Z$4T#q#r$0a(n$4gP;=`<%l$/y!2r$4u_!T!+S$e&j'yp'|!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z%#S$6P`#t$Id$e&j'yp'|!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z&,v$7^_$e&j'yp'|!b(T&%WOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(CS$8lk$e&j'yp'|!b(W!LY'v&;d$Z#tOY%ZYZ&cZr%Zrs&}st%Ztu$8]uw%Zwx(rx}%Z}!O$:a!O!Q%Z!Q![$8]![!^%Z!^!_*g!_!c%Z!c!}$8]!}#O%Z#O#P&c#P#R%Z#R#S$8]#S#T%Z#T#o$8]#o#p*g#p$g%Z$g;'S$8];'S;=`$<g<%lO$8]+d$:lk$e&j'yp'|!b$Z#tOY%ZYZ&cZr%Zrs&}st%Ztu$:auw%Zwx(rx}%Z}!O$:a!O!Q%Z!Q![$:a![!^%Z!^!_*g!_!c%Z!c!}$:a!}#O%Z#O#P&c#P#R%Z#R#S$:a#S#T%Z#T#o$:a#o#p*g#p$g%Z$g;'S$:a;'S;=`$<a<%lO$:a+d$<dP;=`<%l$:a(CS$<jP;=`<%l$8]!5p$<vX!Y!3l'yp'|!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g%Df$=na(k%<v$e&j'yp'|!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p#q$+`#q;'S%Z;'S;=`+a<%lO%Z%#`$?Q_!X$I`p`$e&j'yp'|!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(r$@[_!nS$e&j'yp'|!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(CS$Al|$e&j'yp'|!b'o(;d(W!LY'v&;d$X#tOX%ZXY+gYZ&cZ[+g[p%Zpq+gqr%Zrs&}st%ZtuEruw%Zwx(rx}%Z}!OGv!O!Q%Z!Q![Er![!^%Z!^!_*g!_!c%Z!c!}Er!}#O%Z#O#P&c#P#R%Z#R#SEr#S#T%Z#T#oEr#o#p*g#p$f%Z$f$g+g$g#BYEr#BY#BZ$AZ#BZ$ISEr$IS$I_$AZ$I_$JTEr$JT$JU$AZ$JU$KVEr$KV$KW$AZ$KW&FUEr&FU&FV$AZ&FV;'SEr;'S;=`I|<%l?HTEr?HT?HU$AZ?HUOEr(CS$Dwk$e&j'yp'|!b'p(;d(W!LY'v&;d$X#tOY%ZYZ&cZr%Zrs&}st%ZtuEruw%Zwx(rx}%Z}!OGv!O!Q%Z!Q![Er![!^%Z!^!_*g!_!c%Z!c!}Er!}#O%Z#O#P&c#P#R%Z#R#SEr#S#T%Z#T#oEr#o#p*g#p$g%Z$g;'SEr;'S;=`I|<%lOEr",tokenizers:[Iie,Rie,2,3,4,5,6,7,8,9,10,11,12,13,Aie,new Ew("$S~RRtu[#O#Pg#S#T#|~_P#o#pb~gOr~~jVO#i!P#i#j!U#j#l!P#l#m!q#m;'S!P;'S;=`#v<%lO!P~!UO!P~~!XS!Q![!e!c!i!e#T#Z!e#o#p#Z~!hR!Q![!q!c!i!q#T#Z!q~!tR!Q![!}!c!i!}#T#Z!}~#QR!Q![!P!c!i!P#T#Z!P~#^R!Q![#g!c!i#g#T#Z#g~#jS!Q![#g!c!i#g#T#Z#g#q#r!P~#yP;=`<%l!P~$RO(V~~",141,328),new Ew("j~RQYZXz{^~^O's~~aP!P!Qd~iO't~~",25,310)],topRules:{Script:[0,5],SingleExpression:[1,268],SingleClassItem:[2,269]},dialects:{jsx:12842,ts:12844},dynamicPrecedences:{67:1,77:1,79:1,164:1,192:1},specialized:[{term:314,get:n=>Qie[n]||-1},{term:330,get:n=>Die[n]||-1},{term:68,get:n=>Mie[n]||-1}],tokenPrec:12868}),OL=[Fn("function ${name}(${params}) {\n	${}\n}",{label:"function",detail:"definition",type:"keyword"}),Fn("for (let ${index} = 0; ${index} < ${bound}; ${index}++) {\n	${}\n}",{label:"for",detail:"loop",type:"keyword"}),Fn("for (let ${name} of ${collection}) {\n	${}\n}",{label:"for",detail:"of loop",type:"keyword"}),Fn("do {\n	${}\n} while (${})",{label:"do",detail:"loop",type:"keyword"}),Fn("while (${}) {\n	${}\n}",{label:"while",detail:"loop",type:"keyword"}),Fn(`try {
	\${}
} catch (\${error}) {
	\${}
}`,{label:"try",detail:"/ catch block",type:"keyword"}),Fn("if (${}) {\n	${}\n}",{label:"if",detail:"block",type:"keyword"}),Fn(`if (\${}) {
	\${}
} else {
	\${}
}`,{label:"if",detail:"/ else block",type:"keyword"}),Fn(`class \${name} {
	constructor(\${params}) {
		\${}
	}
}`,{label:"class",detail:"definition",type:"keyword"}),Fn('import {${names}} from "${module}"\n${}',{label:"import",detail:"named",type:"keyword"}),Fn('import ${name} from "${module}"\n${}',{label:"import",detail:"default",type:"keyword"})],Lie=OL.concat([Fn("interface ${name} {\n	${}\n}",{label:"interface",detail:"definition",type:"keyword"}),Fn("type ${name} = ${type}",{label:"type",detail:"definition",type:"keyword"}),Fn("enum ${name} {\n	${}\n}",{label:"enum",detail:"definition",type:"keyword"})]),SA=new vJ,yL=new Set(["Script","Block","FunctionExpression","FunctionDeclaration","ArrowFunction","MethodDeclaration","ForStatement"]);function uc(n){return(e,t)=>{let i=e.node.getChild("VariableDefinition");return i&&t(i,n),!0}}const Vie=["FunctionDeclaration"],Zie={FunctionDeclaration:uc("function"),ClassDeclaration:uc("class"),ClassExpression:()=>!0,EnumDeclaration:uc("constant"),TypeAliasDeclaration:uc("type"),NamespaceDeclaration:uc("namespace"),VariableDefinition(n,e){n.matchContext(Vie)||e(n,"variable")},TypeDefinition(n,e){e(n,"type")},__proto__:null};function vL(n,e){let t=SA.get(e);if(t)return t;let i=[],r=!0;function s(o,l){let u=n.sliceString(o.from,o.to);i.push({label:u,type:l})}return e.cursor(Ut.IncludeAnonymous).iterate(o=>{if(r)r=!1;else if(o.name){let l=Zie[o.name];if(l&&l(o,s)||yL.has(o.name))return!1}else if(o.to-o.from>8192){for(let l of vL(n,o.node))i.push(l);return!1}}),SA.set(e,i),i}const um=/^[\w$\xa1-\uffff][\w$\d\xa1-\uffff]*$/,mx=["TemplateString","String","RegExp","LineComment","BlockComment","VariableDefinition","TypeDefinition","Label","PropertyDefinition","PropertyName","PrivatePropertyDefinition","PrivatePropertyName",".","?."];function Uie(n){let e=Dt(n.state).resolveInner(n.pos,-1);if(mx.indexOf(e.name)>-1)return null;let t=e.name=="VariableName"||e.to-e.from<20&&um.test(n.state.sliceDoc(e.from,e.to));if(!t&&!n.explicit)return null;let i=[];for(let r=e;r;r=r.parent)yL.has(r.name)&&(i=i.concat(vL(n.state.doc,r)));return{options:i,from:t?e.from:n.pos,validFor:um}}function sv(n,e,t){var i;let r=[];for(;;){let s=e.firstChild,o;if((s==null?void 0:s.name)=="VariableName")return r.push(n(s)),{path:r.reverse(),name:t};if((s==null?void 0:s.name)=="MemberExpression"&&((i=o=s.lastChild)===null||i===void 0?void 0:i.name)=="PropertyName")r.push(n(o)),e=s;else return null}}function Bie(n){let e=i=>n.state.doc.sliceString(i.from,i.to),t=Dt(n.state).resolveInner(n.pos,-1);return t.name=="PropertyName"?sv(e,t.parent,e(t)):(t.name=="."||t.name=="?.")&&t.parent.name=="MemberExpression"?sv(e,t.parent,""):mx.indexOf(t.name)>-1?null:t.name=="VariableName"||t.to-t.from<20&&um.test(e(t))?{path:[],name:e(t)}:t.name=="MemberExpression"?sv(e,t,""):n.explicit?{path:[],name:""}:null}function Wie(n,e){let t=[],i=new Set;for(let r=0;;r++){for(let o of(Object.getOwnPropertyNames||Object.keys)(n)){if(!/^[a-zA-Z_$\xaa-\uffdc][\w$\xaa-\uffdc]*$/.test(o)||i.has(o))continue;i.add(o);let l;try{l=n[o]}catch{continue}t.push({label:o,type:typeof l=="function"?/^[A-Z]/.test(o)?"class":e?"function":"method":e?"variable":"property",boost:-r})}let s=Object.getPrototypeOf(n);if(!s)return t;n=s}}function Yie(n){let e=new Map;return t=>{let i=Bie(t);if(!i)return null;let r=n;for(let o of i.path)if(r=r[o],!r)return null;let s=e.get(r);return s||e.set(r,s=Wie(r,!i.path.length)),{from:t.pos-i.name.length,options:s,validFor:um}}}const yo=Xg.define({name:"javascript",parser:Nie.configure({props:[WM.add({IfStatement:jy({except:/^\s*({|else\b)/}),TryStatement:jy({except:/^\s*({|catch\b|finally\b)/}),LabeledStatement:ZJ,SwitchBody:n=>{let e=n.textAfter,t=/^\s*\}/.test(e),i=/^\s*(case|default)\b/.test(e);return n.baseIndent+(t?0:i?1:2)*n.unit},Block:VJ({closing:"}"}),ArrowFunction:n=>n.baseIndent+n.unit,"TemplateString BlockComment":()=>null,"Statement Property":jy({except:/^{/}),JSXElement(n){let e=/^\s*<\//.test(n.textAfter);return n.lineIndent(n.node.from)+(e?0:n.unit)},JSXEscape(n){let e=/\s*\}/.test(n.textAfter);return n.lineIndent(n.node.from)+(e?0:n.unit)},"JSXOpenTag JSXSelfClosingTag"(n){return n.column(n.node.from)+n.unit}}),zM.add({"Block ClassBody SwitchBody EnumBody ObjectExpression ArrayExpression ObjectType":YJ,BlockComment(n){return{from:n.from+2,to:n.to-2}}})]}),languageData:{closeBrackets:{brackets:["(","[","{","'",'"',"`"]},commentTokens:{line:"//",block:{open:"/*",close:"*/"}},indentOnInput:/^\s*(?:case |default:|\{|\}|<\/)$/,wordChars:"$"}}),wL={test:n=>/^JSX/.test(n.name),facet:UM({commentTokens:{block:{open:"{/*",close:"*/}"}}})},Fie=yo.configure({dialect:"ts"},"typescript"),zie=yo.configure({dialect:"jsx",props:[K_.add(n=>n.isTop?[wL]:void 0)]}),Xie=yo.configure({dialect:"jsx ts",props:[K_.add(n=>n.isTop?[wL]:void 0)]},"typescript");let SL=n=>({label:n,type:"keyword"});const _L="break case const continue default delete export extends false finally in instanceof let new return static super switch this throw true typeof var yield".split(" ").map(SL),jie=_L.concat(["declare","implements","private","protected","public"].map(SL));function qie(n={}){let e=n.jsx?n.typescript?Xie:zie:n.typescript?Fie:yo,t=n.typescript?Lie.concat(jie):OL.concat(_L);return new IJ(e,[yo.data.of({autocomplete:rne(mx,qN(t))}),yo.data.of({autocomplete:Uie}),n.jsx?Kie:[]])}function Gie(n){for(;;){if(n.name=="JSXOpenTag"||n.name=="JSXSelfClosingTag"||n.name=="JSXFragmentTag")return n;if(n.name=="JSXEscape"||!n.parent)return null;n=n.parent}}function _A(n,e,t=n.length){for(let i=e==null?void 0:e.firstChild;i;i=i.nextSibling)if(i.name=="JSXIdentifier"||i.name=="JSXBuiltin"||i.name=="JSXNamespacedName"||i.name=="JSXMemberExpression")return n.sliceString(i.from,Math.min(i.to,t));return""}const Hie=typeof navigator=="object"&&/Android\b/.test(navigator.userAgent),Kie=ne.inputHandler.of((n,e,t,i,r)=>{if((Hie?n.composing:n.compositionStarted)||n.state.readOnly||e!=t||i!=">"&&i!="/"||!yo.isActiveAt(n.state,e,-1))return!1;let s=r(),{state:o}=s,l=o.changeByRange(u=>{var h;let{head:f}=u,p=Dt(o).resolveInner(f-1,-1),g;if(p.name=="JSXStartTag"&&(p=p.parent),!(o.doc.sliceString(f-1,f)!=i||p.name=="JSXAttributeValue"&&p.to>f)){if(i==">"&&p.name=="JSXFragmentTag")return{range:u,changes:{from:f,insert:"</>"}};if(i=="/"&&p.name=="JSXStartCloseTag"){let O=p.parent,v=O.parent;if(v&&O.from==f-2&&((g=_A(o.doc,v.firstChild,f))||((h=v.firstChild)===null||h===void 0?void 0:h.name)=="JSXFragmentTag")){let x=`${g}>`;return{range:L.cursor(f+x.length,-1),changes:{from:f,insert:x}}}}else if(i==">"){let O=Gie(p);if(O&&!/^\/?>|^<\//.test(o.doc.sliceString(f,f+2))&&(g=_A(o.doc,O,f)))return{range:u,changes:{from:f,insert:`</${g}>`}}}}return{range:u}});return l.changes.empty?!1:(n.dispatch([s,o.update(l,{userEvent:"input.complete",scrollIntoView:!0})]),!0)}),Jie="#e5c07b",xA="#e06c75",ere="#56b6c2",tre="#ffffff",Up="#abb2bf",Pw="#7d8799",nre="#61afef",ire="#98c379",TA="#d19a66",rre="#c678dd",sre="#21252b",kA="#2c313a",EA="#282c34",ov="#353a42",ore="#3E4451",PA="#528bff",lre=ne.theme({"&":{color:Up,backgroundColor:EA},".cm-content":{caretColor:PA},".cm-cursor, .cm-dropCursor":{borderLeftColor:PA},"&.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground, .cm-selectionBackground, .cm-content ::selection":{backgroundColor:ore},".cm-panels":{backgroundColor:sre,color:Up},".cm-panels.cm-panels-top":{borderBottom:"2px solid black"},".cm-panels.cm-panels-bottom":{borderTop:"2px solid black"},".cm-searchMatch":{backgroundColor:"#72a1ff59",outline:"1px solid #457dff"},".cm-searchMatch.cm-searchMatch-selected":{backgroundColor:"#6199ff2f"},".cm-activeLine":{backgroundColor:"#6699ff0b"},".cm-selectionMatch":{backgroundColor:"#aafe661a"},"&.cm-focused .cm-matchingBracket, &.cm-focused .cm-nonmatchingBracket":{backgroundColor:"#bad0f847"},".cm-gutters":{backgroundColor:EA,color:Pw,border:"none"},".cm-activeLineGutter":{backgroundColor:kA},".cm-foldPlaceholder":{backgroundColor:"transparent",border:"none",color:"#ddd"},".cm-tooltip":{border:"none",backgroundColor:ov},".cm-tooltip .cm-tooltip-arrow:before":{borderTopColor:"transparent",borderBottomColor:"transparent"},".cm-tooltip .cm-tooltip-arrow:after":{borderTopColor:ov,borderBottomColor:ov},".cm-tooltip-autocomplete":{"& > ul > li[aria-selected]":{backgroundColor:kA,color:Up}}},{dark:!0}),are=_f.define([{tag:A.keyword,color:rre},{tag:[A.name,A.deleted,A.character,A.propertyName,A.macroName],color:xA},{tag:[A.function(A.variableName),A.labelName],color:nre},{tag:[A.color,A.constant(A.name),A.standard(A.name)],color:TA},{tag:[A.definition(A.name),A.separator],color:Up},{tag:[A.typeName,A.className,A.number,A.changed,A.annotation,A.modifier,A.self,A.namespace],color:Jie},{tag:[A.operator,A.operatorKeyword,A.url,A.escape,A.regexp,A.link,A.special(A.string)],color:ere},{tag:[A.meta,A.comment],color:Pw},{tag:A.strong,fontWeight:"bold"},{tag:A.emphasis,fontStyle:"italic"},{tag:A.strikethrough,textDecoration:"line-through"},{tag:A.link,color:Pw,textDecoration:"underline"},{tag:A.heading,fontWeight:"bold",color:xA},{tag:[A.atom,A.bool,A.special(A.variableName)],color:TA},{tag:[A.processingInstruction,A.string,A.inserted],color:ire},{tag:A.invalid,color:tre}]),ure=[lre,eN(are)];var cm={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */cm.exports;(function(n,e){(function(){var t,i="4.17.21",r=200,s="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",o="Expected a function",l="Invalid `variable` option passed into `_.template`",u="__lodash_hash_undefined__",h=500,f="__lodash_placeholder__",p=1,g=2,O=4,v=1,x=2,k=1,w=2,_=4,E=8,b=16,I=32,Q=64,M=128,W=256,J=512,j=30,Ee="...",ze=800,lt=16,bt=1,_t=2,Ot=3,yt=1/0,z=9007199254740991,ie=17976931348623157e292,oe=0/0,Te=4294967295,Xe=Te-1,Fi=Te>>>1,_i=[["ary",M],["bind",k],["bindKey",w],["curry",E],["curryRight",b],["flip",J],["partial",I],["partialRight",Q],["rearg",W]],fr="[object Arguments]",xi="[object Array]",Rl="[object AsyncFunction]",xu="[object Boolean]",Tu="[object Date]",xL="[object DOMException]",Ef="[object Error]",Pf="[object Function]",Ox="[object GeneratorFunction]",zi="[object Map]",ku="[object Number]",TL="[object Null]",Yr="[object Object]",yx="[object Promise]",kL="[object Proxy]",Eu="[object RegExp]",Xi="[object Set]",Pu="[object String]",bf="[object Symbol]",EL="[object Undefined]",bu="[object WeakMap]",PL="[object WeakSet]",Cu="[object ArrayBuffer]",$l="[object DataView]",vO="[object Float32Array]",wO="[object Float64Array]",SO="[object Int8Array]",_O="[object Int16Array]",xO="[object Int32Array]",TO="[object Uint8Array]",kO="[object Uint8ClampedArray]",EO="[object Uint16Array]",PO="[object Uint32Array]",bL=/\b__p \+= '';/g,CL=/\b(__p \+=) '' \+/g,AL=/(__e\(.*?\)|\b__t\)) \+\n'';/g,vx=/&(?:amp|lt|gt|quot|#39);/g,wx=/[&<>"']/g,IL=RegExp(vx.source),RL=RegExp(wx.source),$L=/<%-([\s\S]+?)%>/g,QL=/<%([\s\S]+?)%>/g,Sx=/<%=([\s\S]+?)%>/g,DL=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,ML=/^\w*$/,NL=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,bO=/[\\^$.*+?()[\]{}|]/g,LL=RegExp(bO.source),CO=/^\s+/,VL=/\s/,ZL=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,UL=/\{\n\/\* \[wrapped with (.+)\] \*/,BL=/,? & /,WL=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,YL=/[()=,{}\[\]\/\s]/,FL=/\\(\\)?/g,zL=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,_x=/\w*$/,XL=/^[-+]0x[0-9a-f]+$/i,jL=/^0b[01]+$/i,qL=/^\[object .+?Constructor\]$/,GL=/^0o[0-7]+$/i,HL=/^(?:0|[1-9]\d*)$/,KL=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Cf=/($^)/,JL=/['\n\r\u2028\u2029\\]/g,Af="\\ud800-\\udfff",eV="\\u0300-\\u036f",tV="\\ufe20-\\ufe2f",nV="\\u20d0-\\u20ff",xx=eV+tV+nV,Tx="\\u2700-\\u27bf",kx="a-z\\xdf-\\xf6\\xf8-\\xff",iV="\\xac\\xb1\\xd7\\xf7",rV="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",sV="\\u2000-\\u206f",oV=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Ex="A-Z\\xc0-\\xd6\\xd8-\\xde",Px="\\ufe0e\\ufe0f",bx=iV+rV+sV+oV,AO="['’]",lV="["+Af+"]",Cx="["+bx+"]",If="["+xx+"]",Ax="\\d+",aV="["+Tx+"]",Ix="["+kx+"]",Rx="[^"+Af+bx+Ax+Tx+kx+Ex+"]",IO="\\ud83c[\\udffb-\\udfff]",uV="(?:"+If+"|"+IO+")",$x="[^"+Af+"]",RO="(?:\\ud83c[\\udde6-\\uddff]){2}",$O="[\\ud800-\\udbff][\\udc00-\\udfff]",Ql="["+Ex+"]",Qx="\\u200d",Dx="(?:"+Ix+"|"+Rx+")",cV="(?:"+Ql+"|"+Rx+")",Mx="(?:"+AO+"(?:d|ll|m|re|s|t|ve))?",Nx="(?:"+AO+"(?:D|LL|M|RE|S|T|VE))?",Lx=uV+"?",Vx="["+Px+"]?",hV="(?:"+Qx+"(?:"+[$x,RO,$O].join("|")+")"+Vx+Lx+")*",fV="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",dV="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",Zx=Vx+Lx+hV,pV="(?:"+[aV,RO,$O].join("|")+")"+Zx,gV="(?:"+[$x+If+"?",If,RO,$O,lV].join("|")+")",mV=RegExp(AO,"g"),OV=RegExp(If,"g"),QO=RegExp(IO+"(?="+IO+")|"+gV+Zx,"g"),yV=RegExp([Ql+"?"+Ix+"+"+Mx+"(?="+[Cx,Ql,"$"].join("|")+")",cV+"+"+Nx+"(?="+[Cx,Ql+Dx,"$"].join("|")+")",Ql+"?"+Dx+"+"+Mx,Ql+"+"+Nx,dV,fV,Ax,pV].join("|"),"g"),vV=RegExp("["+Qx+Af+xx+Px+"]"),wV=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,SV=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],_V=-1,Je={};Je[vO]=Je[wO]=Je[SO]=Je[_O]=Je[xO]=Je[TO]=Je[kO]=Je[EO]=Je[PO]=!0,Je[fr]=Je[xi]=Je[Cu]=Je[xu]=Je[$l]=Je[Tu]=Je[Ef]=Je[Pf]=Je[zi]=Je[ku]=Je[Yr]=Je[Eu]=Je[Xi]=Je[Pu]=Je[bu]=!1;var Ge={};Ge[fr]=Ge[xi]=Ge[Cu]=Ge[$l]=Ge[xu]=Ge[Tu]=Ge[vO]=Ge[wO]=Ge[SO]=Ge[_O]=Ge[xO]=Ge[zi]=Ge[ku]=Ge[Yr]=Ge[Eu]=Ge[Xi]=Ge[Pu]=Ge[bf]=Ge[TO]=Ge[kO]=Ge[EO]=Ge[PO]=!0,Ge[Ef]=Ge[Pf]=Ge[bu]=!1;var xV={À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"},TV={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},kV={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},EV={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},PV=parseFloat,bV=parseInt,Ux=typeof Fu=="object"&&Fu&&Fu.Object===Object&&Fu,CV=typeof self=="object"&&self&&self.Object===Object&&self,Kt=Ux||CV||Function("return this")(),DO=e&&!e.nodeType&&e,Do=DO&&!0&&n&&!n.nodeType&&n,Bx=Do&&Do.exports===DO,MO=Bx&&Ux.process,Ti=function(){try{var R=Do&&Do.require&&Do.require("util").types;return R||MO&&MO.binding&&MO.binding("util")}catch{}}(),Wx=Ti&&Ti.isArrayBuffer,Yx=Ti&&Ti.isDate,Fx=Ti&&Ti.isMap,zx=Ti&&Ti.isRegExp,Xx=Ti&&Ti.isSet,jx=Ti&&Ti.isTypedArray;function ti(R,N,D){switch(D.length){case 0:return R.call(N);case 1:return R.call(N,D[0]);case 2:return R.call(N,D[0],D[1]);case 3:return R.call(N,D[0],D[1],D[2])}return R.apply(N,D)}function AV(R,N,D,ee){for(var Oe=-1,Ve=R==null?0:R.length;++Oe<Ve;){var Mt=R[Oe];N(ee,Mt,D(Mt),R)}return ee}function ki(R,N){for(var D=-1,ee=R==null?0:R.length;++D<ee&&N(R[D],D,R)!==!1;);return R}function IV(R,N){for(var D=R==null?0:R.length;D--&&N(R[D],D,R)!==!1;);return R}function qx(R,N){for(var D=-1,ee=R==null?0:R.length;++D<ee;)if(!N(R[D],D,R))return!1;return!0}function Ps(R,N){for(var D=-1,ee=R==null?0:R.length,Oe=0,Ve=[];++D<ee;){var Mt=R[D];N(Mt,D,R)&&(Ve[Oe++]=Mt)}return Ve}function Rf(R,N){var D=R==null?0:R.length;return!!D&&Dl(R,N,0)>-1}function NO(R,N,D){for(var ee=-1,Oe=R==null?0:R.length;++ee<Oe;)if(D(N,R[ee]))return!0;return!1}function at(R,N){for(var D=-1,ee=R==null?0:R.length,Oe=Array(ee);++D<ee;)Oe[D]=N(R[D],D,R);return Oe}function bs(R,N){for(var D=-1,ee=N.length,Oe=R.length;++D<ee;)R[Oe+D]=N[D];return R}function LO(R,N,D,ee){var Oe=-1,Ve=R==null?0:R.length;for(ee&&Ve&&(D=R[++Oe]);++Oe<Ve;)D=N(D,R[Oe],Oe,R);return D}function RV(R,N,D,ee){var Oe=R==null?0:R.length;for(ee&&Oe&&(D=R[--Oe]);Oe--;)D=N(D,R[Oe],Oe,R);return D}function VO(R,N){for(var D=-1,ee=R==null?0:R.length;++D<ee;)if(N(R[D],D,R))return!0;return!1}var $V=ZO("length");function QV(R){return R.split("")}function DV(R){return R.match(WL)||[]}function Gx(R,N,D){var ee;return D(R,function(Oe,Ve,Mt){if(N(Oe,Ve,Mt))return ee=Ve,!1}),ee}function $f(R,N,D,ee){for(var Oe=R.length,Ve=D+(ee?1:-1);ee?Ve--:++Ve<Oe;)if(N(R[Ve],Ve,R))return Ve;return-1}function Dl(R,N,D){return N===N?XV(R,N,D):$f(R,Hx,D)}function MV(R,N,D,ee){for(var Oe=D-1,Ve=R.length;++Oe<Ve;)if(ee(R[Oe],N))return Oe;return-1}function Hx(R){return R!==R}function Kx(R,N){var D=R==null?0:R.length;return D?BO(R,N)/D:oe}function ZO(R){return function(N){return N==null?t:N[R]}}function UO(R){return function(N){return R==null?t:R[N]}}function Jx(R,N,D,ee,Oe){return Oe(R,function(Ve,Mt,je){D=ee?(ee=!1,Ve):N(D,Ve,Mt,je)}),D}function NV(R,N){var D=R.length;for(R.sort(N);D--;)R[D]=R[D].value;return R}function BO(R,N){for(var D,ee=-1,Oe=R.length;++ee<Oe;){var Ve=N(R[ee]);Ve!==t&&(D=D===t?Ve:D+Ve)}return D}function WO(R,N){for(var D=-1,ee=Array(R);++D<R;)ee[D]=N(D);return ee}function LV(R,N){return at(N,function(D){return[D,R[D]]})}function eT(R){return R&&R.slice(0,rT(R)+1).replace(CO,"")}function ni(R){return function(N){return R(N)}}function YO(R,N){return at(N,function(D){return R[D]})}function Au(R,N){return R.has(N)}function tT(R,N){for(var D=-1,ee=R.length;++D<ee&&Dl(N,R[D],0)>-1;);return D}function nT(R,N){for(var D=R.length;D--&&Dl(N,R[D],0)>-1;);return D}function VV(R,N){for(var D=R.length,ee=0;D--;)R[D]===N&&++ee;return ee}var ZV=UO(xV),UV=UO(TV);function BV(R){return"\\"+EV[R]}function WV(R,N){return R==null?t:R[N]}function Ml(R){return vV.test(R)}function YV(R){return wV.test(R)}function FV(R){for(var N,D=[];!(N=R.next()).done;)D.push(N.value);return D}function FO(R){var N=-1,D=Array(R.size);return R.forEach(function(ee,Oe){D[++N]=[Oe,ee]}),D}function iT(R,N){return function(D){return R(N(D))}}function Cs(R,N){for(var D=-1,ee=R.length,Oe=0,Ve=[];++D<ee;){var Mt=R[D];(Mt===N||Mt===f)&&(R[D]=f,Ve[Oe++]=D)}return Ve}function Qf(R){var N=-1,D=Array(R.size);return R.forEach(function(ee){D[++N]=ee}),D}function zV(R){var N=-1,D=Array(R.size);return R.forEach(function(ee){D[++N]=[ee,ee]}),D}function XV(R,N,D){for(var ee=D-1,Oe=R.length;++ee<Oe;)if(R[ee]===N)return ee;return-1}function jV(R,N,D){for(var ee=D+1;ee--;)if(R[ee]===N)return ee;return ee}function Nl(R){return Ml(R)?GV(R):$V(R)}function ji(R){return Ml(R)?HV(R):QV(R)}function rT(R){for(var N=R.length;N--&&VL.test(R.charAt(N)););return N}var qV=UO(kV);function GV(R){for(var N=QO.lastIndex=0;QO.test(R);)++N;return N}function HV(R){return R.match(QO)||[]}function KV(R){return R.match(yV)||[]}var JV=function R(N){N=N==null?Kt:Ll.defaults(Kt.Object(),N,Ll.pick(Kt,SV));var D=N.Array,ee=N.Date,Oe=N.Error,Ve=N.Function,Mt=N.Math,je=N.Object,zO=N.RegExp,e5=N.String,Ei=N.TypeError,Df=D.prototype,t5=Ve.prototype,Vl=je.prototype,Mf=N["__core-js_shared__"],Nf=t5.toString,We=Vl.hasOwnProperty,n5=0,sT=function(){var a=/[^.]+$/.exec(Mf&&Mf.keys&&Mf.keys.IE_PROTO||"");return a?"Symbol(src)_1."+a:""}(),Lf=Vl.toString,i5=Nf.call(je),r5=Kt._,s5=zO("^"+Nf.call(We).replace(bO,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Vf=Bx?N.Buffer:t,As=N.Symbol,Zf=N.Uint8Array,oT=Vf?Vf.allocUnsafe:t,Uf=iT(je.getPrototypeOf,je),lT=je.create,aT=Vl.propertyIsEnumerable,Bf=Df.splice,uT=As?As.isConcatSpreadable:t,Iu=As?As.iterator:t,Mo=As?As.toStringTag:t,Wf=function(){try{var a=Uo(je,"defineProperty");return a({},"",{}),a}catch{}}(),o5=N.clearTimeout!==Kt.clearTimeout&&N.clearTimeout,l5=ee&&ee.now!==Kt.Date.now&&ee.now,a5=N.setTimeout!==Kt.setTimeout&&N.setTimeout,Yf=Mt.ceil,Ff=Mt.floor,XO=je.getOwnPropertySymbols,u5=Vf?Vf.isBuffer:t,cT=N.isFinite,c5=Df.join,h5=iT(je.keys,je),Nt=Mt.max,dn=Mt.min,f5=ee.now,d5=N.parseInt,hT=Mt.random,p5=Df.reverse,jO=Uo(N,"DataView"),Ru=Uo(N,"Map"),qO=Uo(N,"Promise"),Zl=Uo(N,"Set"),$u=Uo(N,"WeakMap"),Qu=Uo(je,"create"),zf=$u&&new $u,Ul={},g5=Bo(jO),m5=Bo(Ru),O5=Bo(qO),y5=Bo(Zl),v5=Bo($u),Xf=As?As.prototype:t,Du=Xf?Xf.valueOf:t,fT=Xf?Xf.toString:t;function S(a){if(vt(a)&&!we(a)&&!(a instanceof Ce)){if(a instanceof Pi)return a;if(We.call(a,"__wrapped__"))return dk(a)}return new Pi(a)}var Bl=function(){function a(){}return function(c){if(!ht(c))return{};if(lT)return lT(c);a.prototype=c;var d=new a;return a.prototype=t,d}}();function jf(){}function Pi(a,c){this.__wrapped__=a,this.__actions__=[],this.__chain__=!!c,this.__index__=0,this.__values__=t}S.templateSettings={escape:$L,evaluate:QL,interpolate:Sx,variable:"",imports:{_:S}},S.prototype=jf.prototype,S.prototype.constructor=S,Pi.prototype=Bl(jf.prototype),Pi.prototype.constructor=Pi;function Ce(a){this.__wrapped__=a,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=Te,this.__views__=[]}function w5(){var a=new Ce(this.__wrapped__);return a.__actions__=Un(this.__actions__),a.__dir__=this.__dir__,a.__filtered__=this.__filtered__,a.__iteratees__=Un(this.__iteratees__),a.__takeCount__=this.__takeCount__,a.__views__=Un(this.__views__),a}function S5(){if(this.__filtered__){var a=new Ce(this);a.__dir__=-1,a.__filtered__=!0}else a=this.clone(),a.__dir__*=-1;return a}function _5(){var a=this.__wrapped__.value(),c=this.__dir__,d=we(a),m=c<0,y=d?a.length:0,T=QZ(0,y,this.__views__),P=T.start,C=T.end,$=C-P,V=m?C:P-1,Z=this.__iteratees__,B=Z.length,G=0,ue=dn($,this.__takeCount__);if(!d||!m&&y==$&&ue==$)return MT(a,this.__actions__);var de=[];e:for(;$--&&G<ue;){V+=c;for(var ke=-1,pe=a[V];++ke<B;){var be=Z[ke],$e=be.iteratee,si=be.type,$n=$e(pe);if(si==_t)pe=$n;else if(!$n){if(si==bt)continue e;break e}}de[G++]=pe}return de}Ce.prototype=Bl(jf.prototype),Ce.prototype.constructor=Ce;function No(a){var c=-1,d=a==null?0:a.length;for(this.clear();++c<d;){var m=a[c];this.set(m[0],m[1])}}function x5(){this.__data__=Qu?Qu(null):{},this.size=0}function T5(a){var c=this.has(a)&&delete this.__data__[a];return this.size-=c?1:0,c}function k5(a){var c=this.__data__;if(Qu){var d=c[a];return d===u?t:d}return We.call(c,a)?c[a]:t}function E5(a){var c=this.__data__;return Qu?c[a]!==t:We.call(c,a)}function P5(a,c){var d=this.__data__;return this.size+=this.has(a)?0:1,d[a]=Qu&&c===t?u:c,this}No.prototype.clear=x5,No.prototype.delete=T5,No.prototype.get=k5,No.prototype.has=E5,No.prototype.set=P5;function Fr(a){var c=-1,d=a==null?0:a.length;for(this.clear();++c<d;){var m=a[c];this.set(m[0],m[1])}}function b5(){this.__data__=[],this.size=0}function C5(a){var c=this.__data__,d=qf(c,a);if(d<0)return!1;var m=c.length-1;return d==m?c.pop():Bf.call(c,d,1),--this.size,!0}function A5(a){var c=this.__data__,d=qf(c,a);return d<0?t:c[d][1]}function I5(a){return qf(this.__data__,a)>-1}function R5(a,c){var d=this.__data__,m=qf(d,a);return m<0?(++this.size,d.push([a,c])):d[m][1]=c,this}Fr.prototype.clear=b5,Fr.prototype.delete=C5,Fr.prototype.get=A5,Fr.prototype.has=I5,Fr.prototype.set=R5;function zr(a){var c=-1,d=a==null?0:a.length;for(this.clear();++c<d;){var m=a[c];this.set(m[0],m[1])}}function $5(){this.size=0,this.__data__={hash:new No,map:new(Ru||Fr),string:new No}}function Q5(a){var c=ld(this,a).delete(a);return this.size-=c?1:0,c}function D5(a){return ld(this,a).get(a)}function M5(a){return ld(this,a).has(a)}function N5(a,c){var d=ld(this,a),m=d.size;return d.set(a,c),this.size+=d.size==m?0:1,this}zr.prototype.clear=$5,zr.prototype.delete=Q5,zr.prototype.get=D5,zr.prototype.has=M5,zr.prototype.set=N5;function Lo(a){var c=-1,d=a==null?0:a.length;for(this.__data__=new zr;++c<d;)this.add(a[c])}function L5(a){return this.__data__.set(a,u),this}function V5(a){return this.__data__.has(a)}Lo.prototype.add=Lo.prototype.push=L5,Lo.prototype.has=V5;function qi(a){var c=this.__data__=new Fr(a);this.size=c.size}function Z5(){this.__data__=new Fr,this.size=0}function U5(a){var c=this.__data__,d=c.delete(a);return this.size=c.size,d}function B5(a){return this.__data__.get(a)}function W5(a){return this.__data__.has(a)}function Y5(a,c){var d=this.__data__;if(d instanceof Fr){var m=d.__data__;if(!Ru||m.length<r-1)return m.push([a,c]),this.size=++d.size,this;d=this.__data__=new zr(m)}return d.set(a,c),this.size=d.size,this}qi.prototype.clear=Z5,qi.prototype.delete=U5,qi.prototype.get=B5,qi.prototype.has=W5,qi.prototype.set=Y5;function dT(a,c){var d=we(a),m=!d&&Wo(a),y=!d&&!m&&Ds(a),T=!d&&!m&&!y&&zl(a),P=d||m||y||T,C=P?WO(a.length,e5):[],$=C.length;for(var V in a)(c||We.call(a,V))&&!(P&&(V=="length"||y&&(V=="offset"||V=="parent")||T&&(V=="buffer"||V=="byteLength"||V=="byteOffset")||Gr(V,$)))&&C.push(V);return C}function pT(a){var c=a.length;return c?a[o0(0,c-1)]:t}function F5(a,c){return ad(Un(a),Vo(c,0,a.length))}function z5(a){return ad(Un(a))}function GO(a,c,d){(d!==t&&!Gi(a[c],d)||d===t&&!(c in a))&&Xr(a,c,d)}function Mu(a,c,d){var m=a[c];(!(We.call(a,c)&&Gi(m,d))||d===t&&!(c in a))&&Xr(a,c,d)}function qf(a,c){for(var d=a.length;d--;)if(Gi(a[d][0],c))return d;return-1}function X5(a,c,d,m){return Is(a,function(y,T,P){c(m,y,d(y),P)}),m}function gT(a,c){return a&&pr(c,zt(c),a)}function j5(a,c){return a&&pr(c,Wn(c),a)}function Xr(a,c,d){c=="__proto__"&&Wf?Wf(a,c,{configurable:!0,enumerable:!0,value:d,writable:!0}):a[c]=d}function HO(a,c){for(var d=-1,m=c.length,y=D(m),T=a==null;++d<m;)y[d]=T?t:I0(a,c[d]);return y}function Vo(a,c,d){return a===a&&(d!==t&&(a=a<=d?a:d),c!==t&&(a=a>=c?a:c)),a}function bi(a,c,d,m,y,T){var P,C=c&p,$=c&g,V=c&O;if(d&&(P=y?d(a,m,y,T):d(a)),P!==t)return P;if(!ht(a))return a;var Z=we(a);if(Z){if(P=MZ(a),!C)return Un(a,P)}else{var B=pn(a),G=B==Pf||B==Ox;if(Ds(a))return VT(a,C);if(B==Yr||B==fr||G&&!y){if(P=$||G?{}:rk(a),!C)return $?kZ(a,j5(P,a)):TZ(a,gT(P,a))}else{if(!Ge[B])return y?a:{};P=NZ(a,B,C)}}T||(T=new qi);var ue=T.get(a);if(ue)return ue;T.set(a,P),$k(a)?a.forEach(function(pe){P.add(bi(pe,c,d,pe,a,T))}):Ik(a)&&a.forEach(function(pe,be){P.set(be,bi(pe,c,d,be,a,T))});var de=V?$?O0:m0:$?Wn:zt,ke=Z?t:de(a);return ki(ke||a,function(pe,be){ke&&(be=pe,pe=a[be]),Mu(P,be,bi(pe,c,d,be,a,T))}),P}function q5(a){var c=zt(a);return function(d){return mT(d,a,c)}}function mT(a,c,d){var m=d.length;if(a==null)return!m;for(a=je(a);m--;){var y=d[m],T=c[y],P=a[y];if(P===t&&!(y in a)||!T(P))return!1}return!0}function OT(a,c,d){if(typeof a!="function")throw new Ei(o);return Wu(function(){a.apply(t,d)},c)}function Nu(a,c,d,m){var y=-1,T=Rf,P=!0,C=a.length,$=[],V=c.length;if(!C)return $;d&&(c=at(c,ni(d))),m?(T=NO,P=!1):c.length>=r&&(T=Au,P=!1,c=new Lo(c));e:for(;++y<C;){var Z=a[y],B=d==null?Z:d(Z);if(Z=m||Z!==0?Z:0,P&&B===B){for(var G=V;G--;)if(c[G]===B)continue e;$.push(Z)}else T(c,B,m)||$.push(Z)}return $}var Is=YT(dr),yT=YT(JO,!0);function G5(a,c){var d=!0;return Is(a,function(m,y,T){return d=!!c(m,y,T),d}),d}function Gf(a,c,d){for(var m=-1,y=a.length;++m<y;){var T=a[m],P=c(T);if(P!=null&&(C===t?P===P&&!ri(P):d(P,C)))var C=P,$=T}return $}function H5(a,c,d,m){var y=a.length;for(d=xe(d),d<0&&(d=-d>y?0:y+d),m=m===t||m>y?y:xe(m),m<0&&(m+=y),m=d>m?0:Dk(m);d<m;)a[d++]=c;return a}function vT(a,c){var d=[];return Is(a,function(m,y,T){c(m,y,T)&&d.push(m)}),d}function Jt(a,c,d,m,y){var T=-1,P=a.length;for(d||(d=VZ),y||(y=[]);++T<P;){var C=a[T];c>0&&d(C)?c>1?Jt(C,c-1,d,m,y):bs(y,C):m||(y[y.length]=C)}return y}var KO=FT(),wT=FT(!0);function dr(a,c){return a&&KO(a,c,zt)}function JO(a,c){return a&&wT(a,c,zt)}function Hf(a,c){return Ps(c,function(d){return Hr(a[d])})}function Zo(a,c){c=$s(c,a);for(var d=0,m=c.length;a!=null&&d<m;)a=a[gr(c[d++])];return d&&d==m?a:t}function ST(a,c,d){var m=c(a);return we(a)?m:bs(m,d(a))}function In(a){return a==null?a===t?EL:TL:Mo&&Mo in je(a)?$Z(a):zZ(a)}function e0(a,c){return a>c}function K5(a,c){return a!=null&&We.call(a,c)}function J5(a,c){return a!=null&&c in je(a)}function eZ(a,c,d){return a>=dn(c,d)&&a<Nt(c,d)}function t0(a,c,d){for(var m=d?NO:Rf,y=a[0].length,T=a.length,P=T,C=D(T),$=1/0,V=[];P--;){var Z=a[P];P&&c&&(Z=at(Z,ni(c))),$=dn(Z.length,$),C[P]=!d&&(c||y>=120&&Z.length>=120)?new Lo(P&&Z):t}Z=a[0];var B=-1,G=C[0];e:for(;++B<y&&V.length<$;){var ue=Z[B],de=c?c(ue):ue;if(ue=d||ue!==0?ue:0,!(G?Au(G,de):m(V,de,d))){for(P=T;--P;){var ke=C[P];if(!(ke?Au(ke,de):m(a[P],de,d)))continue e}G&&G.push(de),V.push(ue)}}return V}function tZ(a,c,d,m){return dr(a,function(y,T,P){c(m,d(y),T,P)}),m}function Lu(a,c,d){c=$s(c,a),a=ak(a,c);var m=a==null?a:a[gr(Ai(c))];return m==null?t:ti(m,a,d)}function _T(a){return vt(a)&&In(a)==fr}function nZ(a){return vt(a)&&In(a)==Cu}function iZ(a){return vt(a)&&In(a)==Tu}function Vu(a,c,d,m,y){return a===c?!0:a==null||c==null||!vt(a)&&!vt(c)?a!==a&&c!==c:rZ(a,c,d,m,Vu,y)}function rZ(a,c,d,m,y,T){var P=we(a),C=we(c),$=P?xi:pn(a),V=C?xi:pn(c);$=$==fr?Yr:$,V=V==fr?Yr:V;var Z=$==Yr,B=V==Yr,G=$==V;if(G&&Ds(a)){if(!Ds(c))return!1;P=!0,Z=!1}if(G&&!Z)return T||(T=new qi),P||zl(a)?tk(a,c,d,m,y,T):IZ(a,c,$,d,m,y,T);if(!(d&v)){var ue=Z&&We.call(a,"__wrapped__"),de=B&&We.call(c,"__wrapped__");if(ue||de){var ke=ue?a.value():a,pe=de?c.value():c;return T||(T=new qi),y(ke,pe,d,m,T)}}return G?(T||(T=new qi),RZ(a,c,d,m,y,T)):!1}function sZ(a){return vt(a)&&pn(a)==zi}function n0(a,c,d,m){var y=d.length,T=y,P=!m;if(a==null)return!T;for(a=je(a);y--;){var C=d[y];if(P&&C[2]?C[1]!==a[C[0]]:!(C[0]in a))return!1}for(;++y<T;){C=d[y];var $=C[0],V=a[$],Z=C[1];if(P&&C[2]){if(V===t&&!($ in a))return!1}else{var B=new qi;if(m)var G=m(V,Z,$,a,c,B);if(!(G===t?Vu(Z,V,v|x,m,B):G))return!1}}return!0}function xT(a){if(!ht(a)||UZ(a))return!1;var c=Hr(a)?s5:qL;return c.test(Bo(a))}function oZ(a){return vt(a)&&In(a)==Eu}function lZ(a){return vt(a)&&pn(a)==Xi}function aZ(a){return vt(a)&&pd(a.length)&&!!Je[In(a)]}function TT(a){return typeof a=="function"?a:a==null?Yn:typeof a=="object"?we(a)?PT(a[0],a[1]):ET(a):zk(a)}function i0(a){if(!Bu(a))return h5(a);var c=[];for(var d in je(a))We.call(a,d)&&d!="constructor"&&c.push(d);return c}function uZ(a){if(!ht(a))return FZ(a);var c=Bu(a),d=[];for(var m in a)m=="constructor"&&(c||!We.call(a,m))||d.push(m);return d}function r0(a,c){return a<c}function kT(a,c){var d=-1,m=Bn(a)?D(a.length):[];return Is(a,function(y,T,P){m[++d]=c(y,T,P)}),m}function ET(a){var c=v0(a);return c.length==1&&c[0][2]?ok(c[0][0],c[0][1]):function(d){return d===a||n0(d,a,c)}}function PT(a,c){return S0(a)&&sk(c)?ok(gr(a),c):function(d){var m=I0(d,a);return m===t&&m===c?R0(d,a):Vu(c,m,v|x)}}function Kf(a,c,d,m,y){a!==c&&KO(c,function(T,P){if(y||(y=new qi),ht(T))cZ(a,c,P,d,Kf,m,y);else{var C=m?m(x0(a,P),T,P+"",a,c,y):t;C===t&&(C=T),GO(a,P,C)}},Wn)}function cZ(a,c,d,m,y,T,P){var C=x0(a,d),$=x0(c,d),V=P.get($);if(V){GO(a,d,V);return}var Z=T?T(C,$,d+"",a,c,P):t,B=Z===t;if(B){var G=we($),ue=!G&&Ds($),de=!G&&!ue&&zl($);Z=$,G||ue||de?we(C)?Z=C:xt(C)?Z=Un(C):ue?(B=!1,Z=VT($,!0)):de?(B=!1,Z=ZT($,!0)):Z=[]:Yu($)||Wo($)?(Z=C,Wo(C)?Z=Mk(C):(!ht(C)||Hr(C))&&(Z=rk($))):B=!1}B&&(P.set($,Z),y(Z,$,m,T,P),P.delete($)),GO(a,d,Z)}function bT(a,c){var d=a.length;if(d)return c+=c<0?d:0,Gr(c,d)?a[c]:t}function CT(a,c,d){c.length?c=at(c,function(T){return we(T)?function(P){return Zo(P,T.length===1?T[0]:T)}:T}):c=[Yn];var m=-1;c=at(c,ni(fe()));var y=kT(a,function(T,P,C){var $=at(c,function(V){return V(T)});return{criteria:$,index:++m,value:T}});return NV(y,function(T,P){return xZ(T,P,d)})}function hZ(a,c){return AT(a,c,function(d,m){return R0(a,m)})}function AT(a,c,d){for(var m=-1,y=c.length,T={};++m<y;){var P=c[m],C=Zo(a,P);d(C,P)&&Zu(T,$s(P,a),C)}return T}function fZ(a){return function(c){return Zo(c,a)}}function s0(a,c,d,m){var y=m?MV:Dl,T=-1,P=c.length,C=a;for(a===c&&(c=Un(c)),d&&(C=at(a,ni(d)));++T<P;)for(var $=0,V=c[T],Z=d?d(V):V;($=y(C,Z,$,m))>-1;)C!==a&&Bf.call(C,$,1),Bf.call(a,$,1);return a}function IT(a,c){for(var d=a?c.length:0,m=d-1;d--;){var y=c[d];if(d==m||y!==T){var T=y;Gr(y)?Bf.call(a,y,1):u0(a,y)}}return a}function o0(a,c){return a+Ff(hT()*(c-a+1))}function dZ(a,c,d,m){for(var y=-1,T=Nt(Yf((c-a)/(d||1)),0),P=D(T);T--;)P[m?T:++y]=a,a+=d;return P}function l0(a,c){var d="";if(!a||c<1||c>z)return d;do c%2&&(d+=a),c=Ff(c/2),c&&(a+=a);while(c);return d}function Pe(a,c){return T0(lk(a,c,Yn),a+"")}function pZ(a){return pT(Xl(a))}function gZ(a,c){var d=Xl(a);return ad(d,Vo(c,0,d.length))}function Zu(a,c,d,m){if(!ht(a))return a;c=$s(c,a);for(var y=-1,T=c.length,P=T-1,C=a;C!=null&&++y<T;){var $=gr(c[y]),V=d;if($==="__proto__"||$==="constructor"||$==="prototype")return a;if(y!=P){var Z=C[$];V=m?m(Z,$,C):t,V===t&&(V=ht(Z)?Z:Gr(c[y+1])?[]:{})}Mu(C,$,V),C=C[$]}return a}var RT=zf?function(a,c){return zf.set(a,c),a}:Yn,mZ=Wf?function(a,c){return Wf(a,"toString",{configurable:!0,enumerable:!1,value:Q0(c),writable:!0})}:Yn;function OZ(a){return ad(Xl(a))}function Ci(a,c,d){var m=-1,y=a.length;c<0&&(c=-c>y?0:y+c),d=d>y?y:d,d<0&&(d+=y),y=c>d?0:d-c>>>0,c>>>=0;for(var T=D(y);++m<y;)T[m]=a[m+c];return T}function yZ(a,c){var d;return Is(a,function(m,y,T){return d=c(m,y,T),!d}),!!d}function Jf(a,c,d){var m=0,y=a==null?m:a.length;if(typeof c=="number"&&c===c&&y<=Fi){for(;m<y;){var T=m+y>>>1,P=a[T];P!==null&&!ri(P)&&(d?P<=c:P<c)?m=T+1:y=T}return y}return a0(a,c,Yn,d)}function a0(a,c,d,m){var y=0,T=a==null?0:a.length;if(T===0)return 0;c=d(c);for(var P=c!==c,C=c===null,$=ri(c),V=c===t;y<T;){var Z=Ff((y+T)/2),B=d(a[Z]),G=B!==t,ue=B===null,de=B===B,ke=ri(B);if(P)var pe=m||de;else V?pe=de&&(m||G):C?pe=de&&G&&(m||!ue):$?pe=de&&G&&!ue&&(m||!ke):ue||ke?pe=!1:pe=m?B<=c:B<c;pe?y=Z+1:T=Z}return dn(T,Xe)}function $T(a,c){for(var d=-1,m=a.length,y=0,T=[];++d<m;){var P=a[d],C=c?c(P):P;if(!d||!Gi(C,$)){var $=C;T[y++]=P===0?0:P}}return T}function QT(a){return typeof a=="number"?a:ri(a)?oe:+a}function ii(a){if(typeof a=="string")return a;if(we(a))return at(a,ii)+"";if(ri(a))return fT?fT.call(a):"";var c=a+"";return c=="0"&&1/a==-yt?"-0":c}function Rs(a,c,d){var m=-1,y=Rf,T=a.length,P=!0,C=[],$=C;if(d)P=!1,y=NO;else if(T>=r){var V=c?null:CZ(a);if(V)return Qf(V);P=!1,y=Au,$=new Lo}else $=c?[]:C;e:for(;++m<T;){var Z=a[m],B=c?c(Z):Z;if(Z=d||Z!==0?Z:0,P&&B===B){for(var G=$.length;G--;)if($[G]===B)continue e;c&&$.push(B),C.push(Z)}else y($,B,d)||($!==C&&$.push(B),C.push(Z))}return C}function u0(a,c){return c=$s(c,a),a=ak(a,c),a==null||delete a[gr(Ai(c))]}function DT(a,c,d,m){return Zu(a,c,d(Zo(a,c)),m)}function ed(a,c,d,m){for(var y=a.length,T=m?y:-1;(m?T--:++T<y)&&c(a[T],T,a););return d?Ci(a,m?0:T,m?T+1:y):Ci(a,m?T+1:0,m?y:T)}function MT(a,c){var d=a;return d instanceof Ce&&(d=d.value()),LO(c,function(m,y){return y.func.apply(y.thisArg,bs([m],y.args))},d)}function c0(a,c,d){var m=a.length;if(m<2)return m?Rs(a[0]):[];for(var y=-1,T=D(m);++y<m;)for(var P=a[y],C=-1;++C<m;)C!=y&&(T[y]=Nu(T[y]||P,a[C],c,d));return Rs(Jt(T,1),c,d)}function NT(a,c,d){for(var m=-1,y=a.length,T=c.length,P={};++m<y;){var C=m<T?c[m]:t;d(P,a[m],C)}return P}function h0(a){return xt(a)?a:[]}function f0(a){return typeof a=="function"?a:Yn}function $s(a,c){return we(a)?a:S0(a,c)?[a]:fk(Ue(a))}var vZ=Pe;function Qs(a,c,d){var m=a.length;return d=d===t?m:d,!c&&d>=m?a:Ci(a,c,d)}var LT=o5||function(a){return Kt.clearTimeout(a)};function VT(a,c){if(c)return a.slice();var d=a.length,m=oT?oT(d):new a.constructor(d);return a.copy(m),m}function d0(a){var c=new a.constructor(a.byteLength);return new Zf(c).set(new Zf(a)),c}function wZ(a,c){var d=c?d0(a.buffer):a.buffer;return new a.constructor(d,a.byteOffset,a.byteLength)}function SZ(a){var c=new a.constructor(a.source,_x.exec(a));return c.lastIndex=a.lastIndex,c}function _Z(a){return Du?je(Du.call(a)):{}}function ZT(a,c){var d=c?d0(a.buffer):a.buffer;return new a.constructor(d,a.byteOffset,a.length)}function UT(a,c){if(a!==c){var d=a!==t,m=a===null,y=a===a,T=ri(a),P=c!==t,C=c===null,$=c===c,V=ri(c);if(!C&&!V&&!T&&a>c||T&&P&&$&&!C&&!V||m&&P&&$||!d&&$||!y)return 1;if(!m&&!T&&!V&&a<c||V&&d&&y&&!m&&!T||C&&d&&y||!P&&y||!$)return-1}return 0}function xZ(a,c,d){for(var m=-1,y=a.criteria,T=c.criteria,P=y.length,C=d.length;++m<P;){var $=UT(y[m],T[m]);if($){if(m>=C)return $;var V=d[m];return $*(V=="desc"?-1:1)}}return a.index-c.index}function BT(a,c,d,m){for(var y=-1,T=a.length,P=d.length,C=-1,$=c.length,V=Nt(T-P,0),Z=D($+V),B=!m;++C<$;)Z[C]=c[C];for(;++y<P;)(B||y<T)&&(Z[d[y]]=a[y]);for(;V--;)Z[C++]=a[y++];return Z}function WT(a,c,d,m){for(var y=-1,T=a.length,P=-1,C=d.length,$=-1,V=c.length,Z=Nt(T-C,0),B=D(Z+V),G=!m;++y<Z;)B[y]=a[y];for(var ue=y;++$<V;)B[ue+$]=c[$];for(;++P<C;)(G||y<T)&&(B[ue+d[P]]=a[y++]);return B}function Un(a,c){var d=-1,m=a.length;for(c||(c=D(m));++d<m;)c[d]=a[d];return c}function pr(a,c,d,m){var y=!d;d||(d={});for(var T=-1,P=c.length;++T<P;){var C=c[T],$=m?m(d[C],a[C],C,d,a):t;$===t&&($=a[C]),y?Xr(d,C,$):Mu(d,C,$)}return d}function TZ(a,c){return pr(a,w0(a),c)}function kZ(a,c){return pr(a,nk(a),c)}function td(a,c){return function(d,m){var y=we(d)?AV:X5,T=c?c():{};return y(d,a,fe(m,2),T)}}function Wl(a){return Pe(function(c,d){var m=-1,y=d.length,T=y>1?d[y-1]:t,P=y>2?d[2]:t;for(T=a.length>3&&typeof T=="function"?(y--,T):t,P&&Rn(d[0],d[1],P)&&(T=y<3?t:T,y=1),c=je(c);++m<y;){var C=d[m];C&&a(c,C,m,T)}return c})}function YT(a,c){return function(d,m){if(d==null)return d;if(!Bn(d))return a(d,m);for(var y=d.length,T=c?y:-1,P=je(d);(c?T--:++T<y)&&m(P[T],T,P)!==!1;);return d}}function FT(a){return function(c,d,m){for(var y=-1,T=je(c),P=m(c),C=P.length;C--;){var $=P[a?C:++y];if(d(T[$],$,T)===!1)break}return c}}function EZ(a,c,d){var m=c&k,y=Uu(a);function T(){var P=this&&this!==Kt&&this instanceof T?y:a;return P.apply(m?d:this,arguments)}return T}function zT(a){return function(c){c=Ue(c);var d=Ml(c)?ji(c):t,m=d?d[0]:c.charAt(0),y=d?Qs(d,1).join(""):c.slice(1);return m[a]()+y}}function Yl(a){return function(c){return LO(Yk(Wk(c).replace(mV,"")),a,"")}}function Uu(a){return function(){var c=arguments;switch(c.length){case 0:return new a;case 1:return new a(c[0]);case 2:return new a(c[0],c[1]);case 3:return new a(c[0],c[1],c[2]);case 4:return new a(c[0],c[1],c[2],c[3]);case 5:return new a(c[0],c[1],c[2],c[3],c[4]);case 6:return new a(c[0],c[1],c[2],c[3],c[4],c[5]);case 7:return new a(c[0],c[1],c[2],c[3],c[4],c[5],c[6])}var d=Bl(a.prototype),m=a.apply(d,c);return ht(m)?m:d}}function PZ(a,c,d){var m=Uu(a);function y(){for(var T=arguments.length,P=D(T),C=T,$=Fl(y);C--;)P[C]=arguments[C];var V=T<3&&P[0]!==$&&P[T-1]!==$?[]:Cs(P,$);if(T-=V.length,T<d)return HT(a,c,nd,y.placeholder,t,P,V,t,t,d-T);var Z=this&&this!==Kt&&this instanceof y?m:a;return ti(Z,this,P)}return y}function XT(a){return function(c,d,m){var y=je(c);if(!Bn(c)){var T=fe(d,3);c=zt(c),d=function(C){return T(y[C],C,y)}}var P=a(c,d,m);return P>-1?y[T?c[P]:P]:t}}function jT(a){return qr(function(c){var d=c.length,m=d,y=Pi.prototype.thru;for(a&&c.reverse();m--;){var T=c[m];if(typeof T!="function")throw new Ei(o);if(y&&!P&&od(T)=="wrapper")var P=new Pi([],!0)}for(m=P?m:d;++m<d;){T=c[m];var C=od(T),$=C=="wrapper"?y0(T):t;$&&_0($[0])&&$[1]==(M|E|I|W)&&!$[4].length&&$[9]==1?P=P[od($[0])].apply(P,$[3]):P=T.length==1&&_0(T)?P[C]():P.thru(T)}return function(){var V=arguments,Z=V[0];if(P&&V.length==1&&we(Z))return P.plant(Z).value();for(var B=0,G=d?c[B].apply(this,V):Z;++B<d;)G=c[B].call(this,G);return G}})}function nd(a,c,d,m,y,T,P,C,$,V){var Z=c&M,B=c&k,G=c&w,ue=c&(E|b),de=c&J,ke=G?t:Uu(a);function pe(){for(var be=arguments.length,$e=D(be),si=be;si--;)$e[si]=arguments[si];if(ue)var $n=Fl(pe),oi=VV($e,$n);if(m&&($e=BT($e,m,y,ue)),T&&($e=WT($e,T,P,ue)),be-=oi,ue&&be<V){var Tt=Cs($e,$n);return HT(a,c,nd,pe.placeholder,d,$e,Tt,C,$,V-be)}var Hi=B?d:this,Jr=G?Hi[a]:a;return be=$e.length,C?$e=XZ($e,C):de&&be>1&&$e.reverse(),Z&&$<be&&($e.length=$),this&&this!==Kt&&this instanceof pe&&(Jr=ke||Uu(Jr)),Jr.apply(Hi,$e)}return pe}function qT(a,c){return function(d,m){return tZ(d,a,c(m),{})}}function id(a,c){return function(d,m){var y;if(d===t&&m===t)return c;if(d!==t&&(y=d),m!==t){if(y===t)return m;typeof d=="string"||typeof m=="string"?(d=ii(d),m=ii(m)):(d=QT(d),m=QT(m)),y=a(d,m)}return y}}function p0(a){return qr(function(c){return c=at(c,ni(fe())),Pe(function(d){var m=this;return a(c,function(y){return ti(y,m,d)})})})}function rd(a,c){c=c===t?" ":ii(c);var d=c.length;if(d<2)return d?l0(c,a):c;var m=l0(c,Yf(a/Nl(c)));return Ml(c)?Qs(ji(m),0,a).join(""):m.slice(0,a)}function bZ(a,c,d,m){var y=c&k,T=Uu(a);function P(){for(var C=-1,$=arguments.length,V=-1,Z=m.length,B=D(Z+$),G=this&&this!==Kt&&this instanceof P?T:a;++V<Z;)B[V]=m[V];for(;$--;)B[V++]=arguments[++C];return ti(G,y?d:this,B)}return P}function GT(a){return function(c,d,m){return m&&typeof m!="number"&&Rn(c,d,m)&&(d=m=t),c=Kr(c),d===t?(d=c,c=0):d=Kr(d),m=m===t?c<d?1:-1:Kr(m),dZ(c,d,m,a)}}function sd(a){return function(c,d){return typeof c=="string"&&typeof d=="string"||(c=Ii(c),d=Ii(d)),a(c,d)}}function HT(a,c,d,m,y,T,P,C,$,V){var Z=c&E,B=Z?P:t,G=Z?t:P,ue=Z?T:t,de=Z?t:T;c|=Z?I:Q,c&=~(Z?Q:I),c&_||(c&=~(k|w));var ke=[a,c,y,ue,B,de,G,C,$,V],pe=d.apply(t,ke);return _0(a)&&uk(pe,ke),pe.placeholder=m,ck(pe,a,c)}function g0(a){var c=Mt[a];return function(d,m){if(d=Ii(d),m=m==null?0:dn(xe(m),292),m&&cT(d)){var y=(Ue(d)+"e").split("e"),T=c(y[0]+"e"+(+y[1]+m));return y=(Ue(T)+"e").split("e"),+(y[0]+"e"+(+y[1]-m))}return c(d)}}var CZ=Zl&&1/Qf(new Zl([,-0]))[1]==yt?function(a){return new Zl(a)}:N0;function KT(a){return function(c){var d=pn(c);return d==zi?FO(c):d==Xi?zV(c):LV(c,a(c))}}function jr(a,c,d,m,y,T,P,C){var $=c&w;if(!$&&typeof a!="function")throw new Ei(o);var V=m?m.length:0;if(V||(c&=~(I|Q),m=y=t),P=P===t?P:Nt(xe(P),0),C=C===t?C:xe(C),V-=y?y.length:0,c&Q){var Z=m,B=y;m=y=t}var G=$?t:y0(a),ue=[a,c,d,m,y,Z,B,T,P,C];if(G&&YZ(ue,G),a=ue[0],c=ue[1],d=ue[2],m=ue[3],y=ue[4],C=ue[9]=ue[9]===t?$?0:a.length:Nt(ue[9]-V,0),!C&&c&(E|b)&&(c&=~(E|b)),!c||c==k)var de=EZ(a,c,d);else c==E||c==b?de=PZ(a,c,C):(c==I||c==(k|I))&&!y.length?de=bZ(a,c,d,m):de=nd.apply(t,ue);var ke=G?RT:uk;return ck(ke(de,ue),a,c)}function JT(a,c,d,m){return a===t||Gi(a,Vl[d])&&!We.call(m,d)?c:a}function ek(a,c,d,m,y,T){return ht(a)&&ht(c)&&(T.set(c,a),Kf(a,c,t,ek,T),T.delete(c)),a}function AZ(a){return Yu(a)?t:a}function tk(a,c,d,m,y,T){var P=d&v,C=a.length,$=c.length;if(C!=$&&!(P&&$>C))return!1;var V=T.get(a),Z=T.get(c);if(V&&Z)return V==c&&Z==a;var B=-1,G=!0,ue=d&x?new Lo:t;for(T.set(a,c),T.set(c,a);++B<C;){var de=a[B],ke=c[B];if(m)var pe=P?m(ke,de,B,c,a,T):m(de,ke,B,a,c,T);if(pe!==t){if(pe)continue;G=!1;break}if(ue){if(!VO(c,function(be,$e){if(!Au(ue,$e)&&(de===be||y(de,be,d,m,T)))return ue.push($e)})){G=!1;break}}else if(!(de===ke||y(de,ke,d,m,T))){G=!1;break}}return T.delete(a),T.delete(c),G}function IZ(a,c,d,m,y,T,P){switch(d){case $l:if(a.byteLength!=c.byteLength||a.byteOffset!=c.byteOffset)return!1;a=a.buffer,c=c.buffer;case Cu:return!(a.byteLength!=c.byteLength||!T(new Zf(a),new Zf(c)));case xu:case Tu:case ku:return Gi(+a,+c);case Ef:return a.name==c.name&&a.message==c.message;case Eu:case Pu:return a==c+"";case zi:var C=FO;case Xi:var $=m&v;if(C||(C=Qf),a.size!=c.size&&!$)return!1;var V=P.get(a);if(V)return V==c;m|=x,P.set(a,c);var Z=tk(C(a),C(c),m,y,T,P);return P.delete(a),Z;case bf:if(Du)return Du.call(a)==Du.call(c)}return!1}function RZ(a,c,d,m,y,T){var P=d&v,C=m0(a),$=C.length,V=m0(c),Z=V.length;if($!=Z&&!P)return!1;for(var B=$;B--;){var G=C[B];if(!(P?G in c:We.call(c,G)))return!1}var ue=T.get(a),de=T.get(c);if(ue&&de)return ue==c&&de==a;var ke=!0;T.set(a,c),T.set(c,a);for(var pe=P;++B<$;){G=C[B];var be=a[G],$e=c[G];if(m)var si=P?m($e,be,G,c,a,T):m(be,$e,G,a,c,T);if(!(si===t?be===$e||y(be,$e,d,m,T):si)){ke=!1;break}pe||(pe=G=="constructor")}if(ke&&!pe){var $n=a.constructor,oi=c.constructor;$n!=oi&&"constructor"in a&&"constructor"in c&&!(typeof $n=="function"&&$n instanceof $n&&typeof oi=="function"&&oi instanceof oi)&&(ke=!1)}return T.delete(a),T.delete(c),ke}function qr(a){return T0(lk(a,t,mk),a+"")}function m0(a){return ST(a,zt,w0)}function O0(a){return ST(a,Wn,nk)}var y0=zf?function(a){return zf.get(a)}:N0;function od(a){for(var c=a.name+"",d=Ul[c],m=We.call(Ul,c)?d.length:0;m--;){var y=d[m],T=y.func;if(T==null||T==a)return y.name}return c}function Fl(a){var c=We.call(S,"placeholder")?S:a;return c.placeholder}function fe(){var a=S.iteratee||D0;return a=a===D0?TT:a,arguments.length?a(arguments[0],arguments[1]):a}function ld(a,c){var d=a.__data__;return ZZ(c)?d[typeof c=="string"?"string":"hash"]:d.map}function v0(a){for(var c=zt(a),d=c.length;d--;){var m=c[d],y=a[m];c[d]=[m,y,sk(y)]}return c}function Uo(a,c){var d=WV(a,c);return xT(d)?d:t}function $Z(a){var c=We.call(a,Mo),d=a[Mo];try{a[Mo]=t;var m=!0}catch{}var y=Lf.call(a);return m&&(c?a[Mo]=d:delete a[Mo]),y}var w0=XO?function(a){return a==null?[]:(a=je(a),Ps(XO(a),function(c){return aT.call(a,c)}))}:L0,nk=XO?function(a){for(var c=[];a;)bs(c,w0(a)),a=Uf(a);return c}:L0,pn=In;(jO&&pn(new jO(new ArrayBuffer(1)))!=$l||Ru&&pn(new Ru)!=zi||qO&&pn(qO.resolve())!=yx||Zl&&pn(new Zl)!=Xi||$u&&pn(new $u)!=bu)&&(pn=function(a){var c=In(a),d=c==Yr?a.constructor:t,m=d?Bo(d):"";if(m)switch(m){case g5:return $l;case m5:return zi;case O5:return yx;case y5:return Xi;case v5:return bu}return c});function QZ(a,c,d){for(var m=-1,y=d.length;++m<y;){var T=d[m],P=T.size;switch(T.type){case"drop":a+=P;break;case"dropRight":c-=P;break;case"take":c=dn(c,a+P);break;case"takeRight":a=Nt(a,c-P);break}}return{start:a,end:c}}function DZ(a){var c=a.match(UL);return c?c[1].split(BL):[]}function ik(a,c,d){c=$s(c,a);for(var m=-1,y=c.length,T=!1;++m<y;){var P=gr(c[m]);if(!(T=a!=null&&d(a,P)))break;a=a[P]}return T||++m!=y?T:(y=a==null?0:a.length,!!y&&pd(y)&&Gr(P,y)&&(we(a)||Wo(a)))}function MZ(a){var c=a.length,d=new a.constructor(c);return c&&typeof a[0]=="string"&&We.call(a,"index")&&(d.index=a.index,d.input=a.input),d}function rk(a){return typeof a.constructor=="function"&&!Bu(a)?Bl(Uf(a)):{}}function NZ(a,c,d){var m=a.constructor;switch(c){case Cu:return d0(a);case xu:case Tu:return new m(+a);case $l:return wZ(a,d);case vO:case wO:case SO:case _O:case xO:case TO:case kO:case EO:case PO:return ZT(a,d);case zi:return new m;case ku:case Pu:return new m(a);case Eu:return SZ(a);case Xi:return new m;case bf:return _Z(a)}}function LZ(a,c){var d=c.length;if(!d)return a;var m=d-1;return c[m]=(d>1?"& ":"")+c[m],c=c.join(d>2?", ":" "),a.replace(ZL,`{
/* [wrapped with `+c+`] */
`)}function VZ(a){return we(a)||Wo(a)||!!(uT&&a&&a[uT])}function Gr(a,c){var d=typeof a;return c=c??z,!!c&&(d=="number"||d!="symbol"&&HL.test(a))&&a>-1&&a%1==0&&a<c}function Rn(a,c,d){if(!ht(d))return!1;var m=typeof c;return(m=="number"?Bn(d)&&Gr(c,d.length):m=="string"&&c in d)?Gi(d[c],a):!1}function S0(a,c){if(we(a))return!1;var d=typeof a;return d=="number"||d=="symbol"||d=="boolean"||a==null||ri(a)?!0:ML.test(a)||!DL.test(a)||c!=null&&a in je(c)}function ZZ(a){var c=typeof a;return c=="string"||c=="number"||c=="symbol"||c=="boolean"?a!=="__proto__":a===null}function _0(a){var c=od(a),d=S[c];if(typeof d!="function"||!(c in Ce.prototype))return!1;if(a===d)return!0;var m=y0(d);return!!m&&a===m[0]}function UZ(a){return!!sT&&sT in a}var BZ=Mf?Hr:V0;function Bu(a){var c=a&&a.constructor,d=typeof c=="function"&&c.prototype||Vl;return a===d}function sk(a){return a===a&&!ht(a)}function ok(a,c){return function(d){return d==null?!1:d[a]===c&&(c!==t||a in je(d))}}function WZ(a){var c=fd(a,function(m){return d.size===h&&d.clear(),m}),d=c.cache;return c}function YZ(a,c){var d=a[1],m=c[1],y=d|m,T=y<(k|w|M),P=m==M&&d==E||m==M&&d==W&&a[7].length<=c[8]||m==(M|W)&&c[7].length<=c[8]&&d==E;if(!(T||P))return a;m&k&&(a[2]=c[2],y|=d&k?0:_);var C=c[3];if(C){var $=a[3];a[3]=$?BT($,C,c[4]):C,a[4]=$?Cs(a[3],f):c[4]}return C=c[5],C&&($=a[5],a[5]=$?WT($,C,c[6]):C,a[6]=$?Cs(a[5],f):c[6]),C=c[7],C&&(a[7]=C),m&M&&(a[8]=a[8]==null?c[8]:dn(a[8],c[8])),a[9]==null&&(a[9]=c[9]),a[0]=c[0],a[1]=y,a}function FZ(a){var c=[];if(a!=null)for(var d in je(a))c.push(d);return c}function zZ(a){return Lf.call(a)}function lk(a,c,d){return c=Nt(c===t?a.length-1:c,0),function(){for(var m=arguments,y=-1,T=Nt(m.length-c,0),P=D(T);++y<T;)P[y]=m[c+y];y=-1;for(var C=D(c+1);++y<c;)C[y]=m[y];return C[c]=d(P),ti(a,this,C)}}function ak(a,c){return c.length<2?a:Zo(a,Ci(c,0,-1))}function XZ(a,c){for(var d=a.length,m=dn(c.length,d),y=Un(a);m--;){var T=c[m];a[m]=Gr(T,d)?y[T]:t}return a}function x0(a,c){if(!(c==="constructor"&&typeof a[c]=="function")&&c!="__proto__")return a[c]}var uk=hk(RT),Wu=a5||function(a,c){return Kt.setTimeout(a,c)},T0=hk(mZ);function ck(a,c,d){var m=c+"";return T0(a,LZ(m,jZ(DZ(m),d)))}function hk(a){var c=0,d=0;return function(){var m=f5(),y=lt-(m-d);if(d=m,y>0){if(++c>=ze)return arguments[0]}else c=0;return a.apply(t,arguments)}}function ad(a,c){var d=-1,m=a.length,y=m-1;for(c=c===t?m:c;++d<c;){var T=o0(d,y),P=a[T];a[T]=a[d],a[d]=P}return a.length=c,a}var fk=WZ(function(a){var c=[];return a.charCodeAt(0)===46&&c.push(""),a.replace(NL,function(d,m,y,T){c.push(y?T.replace(FL,"$1"):m||d)}),c});function gr(a){if(typeof a=="string"||ri(a))return a;var c=a+"";return c=="0"&&1/a==-yt?"-0":c}function Bo(a){if(a!=null){try{return Nf.call(a)}catch{}try{return a+""}catch{}}return""}function jZ(a,c){return ki(_i,function(d){var m="_."+d[0];c&d[1]&&!Rf(a,m)&&a.push(m)}),a.sort()}function dk(a){if(a instanceof Ce)return a.clone();var c=new Pi(a.__wrapped__,a.__chain__);return c.__actions__=Un(a.__actions__),c.__index__=a.__index__,c.__values__=a.__values__,c}function qZ(a,c,d){(d?Rn(a,c,d):c===t)?c=1:c=Nt(xe(c),0);var m=a==null?0:a.length;if(!m||c<1)return[];for(var y=0,T=0,P=D(Yf(m/c));y<m;)P[T++]=Ci(a,y,y+=c);return P}function GZ(a){for(var c=-1,d=a==null?0:a.length,m=0,y=[];++c<d;){var T=a[c];T&&(y[m++]=T)}return y}function HZ(){var a=arguments.length;if(!a)return[];for(var c=D(a-1),d=arguments[0],m=a;m--;)c[m-1]=arguments[m];return bs(we(d)?Un(d):[d],Jt(c,1))}var KZ=Pe(function(a,c){return xt(a)?Nu(a,Jt(c,1,xt,!0)):[]}),JZ=Pe(function(a,c){var d=Ai(c);return xt(d)&&(d=t),xt(a)?Nu(a,Jt(c,1,xt,!0),fe(d,2)):[]}),e4=Pe(function(a,c){var d=Ai(c);return xt(d)&&(d=t),xt(a)?Nu(a,Jt(c,1,xt,!0),t,d):[]});function t4(a,c,d){var m=a==null?0:a.length;return m?(c=d||c===t?1:xe(c),Ci(a,c<0?0:c,m)):[]}function n4(a,c,d){var m=a==null?0:a.length;return m?(c=d||c===t?1:xe(c),c=m-c,Ci(a,0,c<0?0:c)):[]}function i4(a,c){return a&&a.length?ed(a,fe(c,3),!0,!0):[]}function r4(a,c){return a&&a.length?ed(a,fe(c,3),!0):[]}function s4(a,c,d,m){var y=a==null?0:a.length;return y?(d&&typeof d!="number"&&Rn(a,c,d)&&(d=0,m=y),H5(a,c,d,m)):[]}function pk(a,c,d){var m=a==null?0:a.length;if(!m)return-1;var y=d==null?0:xe(d);return y<0&&(y=Nt(m+y,0)),$f(a,fe(c,3),y)}function gk(a,c,d){var m=a==null?0:a.length;if(!m)return-1;var y=m-1;return d!==t&&(y=xe(d),y=d<0?Nt(m+y,0):dn(y,m-1)),$f(a,fe(c,3),y,!0)}function mk(a){var c=a==null?0:a.length;return c?Jt(a,1):[]}function o4(a){var c=a==null?0:a.length;return c?Jt(a,yt):[]}function l4(a,c){var d=a==null?0:a.length;return d?(c=c===t?1:xe(c),Jt(a,c)):[]}function a4(a){for(var c=-1,d=a==null?0:a.length,m={};++c<d;){var y=a[c];m[y[0]]=y[1]}return m}function Ok(a){return a&&a.length?a[0]:t}function u4(a,c,d){var m=a==null?0:a.length;if(!m)return-1;var y=d==null?0:xe(d);return y<0&&(y=Nt(m+y,0)),Dl(a,c,y)}function c4(a){var c=a==null?0:a.length;return c?Ci(a,0,-1):[]}var h4=Pe(function(a){var c=at(a,h0);return c.length&&c[0]===a[0]?t0(c):[]}),f4=Pe(function(a){var c=Ai(a),d=at(a,h0);return c===Ai(d)?c=t:d.pop(),d.length&&d[0]===a[0]?t0(d,fe(c,2)):[]}),d4=Pe(function(a){var c=Ai(a),d=at(a,h0);return c=typeof c=="function"?c:t,c&&d.pop(),d.length&&d[0]===a[0]?t0(d,t,c):[]});function p4(a,c){return a==null?"":c5.call(a,c)}function Ai(a){var c=a==null?0:a.length;return c?a[c-1]:t}function g4(a,c,d){var m=a==null?0:a.length;if(!m)return-1;var y=m;return d!==t&&(y=xe(d),y=y<0?Nt(m+y,0):dn(y,m-1)),c===c?jV(a,c,y):$f(a,Hx,y,!0)}function m4(a,c){return a&&a.length?bT(a,xe(c)):t}var O4=Pe(yk);function yk(a,c){return a&&a.length&&c&&c.length?s0(a,c):a}function y4(a,c,d){return a&&a.length&&c&&c.length?s0(a,c,fe(d,2)):a}function v4(a,c,d){return a&&a.length&&c&&c.length?s0(a,c,t,d):a}var w4=qr(function(a,c){var d=a==null?0:a.length,m=HO(a,c);return IT(a,at(c,function(y){return Gr(y,d)?+y:y}).sort(UT)),m});function S4(a,c){var d=[];if(!(a&&a.length))return d;var m=-1,y=[],T=a.length;for(c=fe(c,3);++m<T;){var P=a[m];c(P,m,a)&&(d.push(P),y.push(m))}return IT(a,y),d}function k0(a){return a==null?a:p5.call(a)}function _4(a,c,d){var m=a==null?0:a.length;return m?(d&&typeof d!="number"&&Rn(a,c,d)?(c=0,d=m):(c=c==null?0:xe(c),d=d===t?m:xe(d)),Ci(a,c,d)):[]}function x4(a,c){return Jf(a,c)}function T4(a,c,d){return a0(a,c,fe(d,2))}function k4(a,c){var d=a==null?0:a.length;if(d){var m=Jf(a,c);if(m<d&&Gi(a[m],c))return m}return-1}function E4(a,c){return Jf(a,c,!0)}function P4(a,c,d){return a0(a,c,fe(d,2),!0)}function b4(a,c){var d=a==null?0:a.length;if(d){var m=Jf(a,c,!0)-1;if(Gi(a[m],c))return m}return-1}function C4(a){return a&&a.length?$T(a):[]}function A4(a,c){return a&&a.length?$T(a,fe(c,2)):[]}function I4(a){var c=a==null?0:a.length;return c?Ci(a,1,c):[]}function R4(a,c,d){return a&&a.length?(c=d||c===t?1:xe(c),Ci(a,0,c<0?0:c)):[]}function $4(a,c,d){var m=a==null?0:a.length;return m?(c=d||c===t?1:xe(c),c=m-c,Ci(a,c<0?0:c,m)):[]}function Q4(a,c){return a&&a.length?ed(a,fe(c,3),!1,!0):[]}function D4(a,c){return a&&a.length?ed(a,fe(c,3)):[]}var M4=Pe(function(a){return Rs(Jt(a,1,xt,!0))}),N4=Pe(function(a){var c=Ai(a);return xt(c)&&(c=t),Rs(Jt(a,1,xt,!0),fe(c,2))}),L4=Pe(function(a){var c=Ai(a);return c=typeof c=="function"?c:t,Rs(Jt(a,1,xt,!0),t,c)});function V4(a){return a&&a.length?Rs(a):[]}function Z4(a,c){return a&&a.length?Rs(a,fe(c,2)):[]}function U4(a,c){return c=typeof c=="function"?c:t,a&&a.length?Rs(a,t,c):[]}function E0(a){if(!(a&&a.length))return[];var c=0;return a=Ps(a,function(d){if(xt(d))return c=Nt(d.length,c),!0}),WO(c,function(d){return at(a,ZO(d))})}function vk(a,c){if(!(a&&a.length))return[];var d=E0(a);return c==null?d:at(d,function(m){return ti(c,t,m)})}var B4=Pe(function(a,c){return xt(a)?Nu(a,c):[]}),W4=Pe(function(a){return c0(Ps(a,xt))}),Y4=Pe(function(a){var c=Ai(a);return xt(c)&&(c=t),c0(Ps(a,xt),fe(c,2))}),F4=Pe(function(a){var c=Ai(a);return c=typeof c=="function"?c:t,c0(Ps(a,xt),t,c)}),z4=Pe(E0);function X4(a,c){return NT(a||[],c||[],Mu)}function j4(a,c){return NT(a||[],c||[],Zu)}var q4=Pe(function(a){var c=a.length,d=c>1?a[c-1]:t;return d=typeof d=="function"?(a.pop(),d):t,vk(a,d)});function wk(a){var c=S(a);return c.__chain__=!0,c}function G4(a,c){return c(a),a}function ud(a,c){return c(a)}var H4=qr(function(a){var c=a.length,d=c?a[0]:0,m=this.__wrapped__,y=function(T){return HO(T,a)};return c>1||this.__actions__.length||!(m instanceof Ce)||!Gr(d)?this.thru(y):(m=m.slice(d,+d+(c?1:0)),m.__actions__.push({func:ud,args:[y],thisArg:t}),new Pi(m,this.__chain__).thru(function(T){return c&&!T.length&&T.push(t),T}))});function K4(){return wk(this)}function J4(){return new Pi(this.value(),this.__chain__)}function eU(){this.__values__===t&&(this.__values__=Qk(this.value()));var a=this.__index__>=this.__values__.length,c=a?t:this.__values__[this.__index__++];return{done:a,value:c}}function tU(){return this}function nU(a){for(var c,d=this;d instanceof jf;){var m=dk(d);m.__index__=0,m.__values__=t,c?y.__wrapped__=m:c=m;var y=m;d=d.__wrapped__}return y.__wrapped__=a,c}function iU(){var a=this.__wrapped__;if(a instanceof Ce){var c=a;return this.__actions__.length&&(c=new Ce(this)),c=c.reverse(),c.__actions__.push({func:ud,args:[k0],thisArg:t}),new Pi(c,this.__chain__)}return this.thru(k0)}function rU(){return MT(this.__wrapped__,this.__actions__)}var sU=td(function(a,c,d){We.call(a,d)?++a[d]:Xr(a,d,1)});function oU(a,c,d){var m=we(a)?qx:G5;return d&&Rn(a,c,d)&&(c=t),m(a,fe(c,3))}function lU(a,c){var d=we(a)?Ps:vT;return d(a,fe(c,3))}var aU=XT(pk),uU=XT(gk);function cU(a,c){return Jt(cd(a,c),1)}function hU(a,c){return Jt(cd(a,c),yt)}function fU(a,c,d){return d=d===t?1:xe(d),Jt(cd(a,c),d)}function Sk(a,c){var d=we(a)?ki:Is;return d(a,fe(c,3))}function _k(a,c){var d=we(a)?IV:yT;return d(a,fe(c,3))}var dU=td(function(a,c,d){We.call(a,d)?a[d].push(c):Xr(a,d,[c])});function pU(a,c,d,m){a=Bn(a)?a:Xl(a),d=d&&!m?xe(d):0;var y=a.length;return d<0&&(d=Nt(y+d,0)),gd(a)?d<=y&&a.indexOf(c,d)>-1:!!y&&Dl(a,c,d)>-1}var gU=Pe(function(a,c,d){var m=-1,y=typeof c=="function",T=Bn(a)?D(a.length):[];return Is(a,function(P){T[++m]=y?ti(c,P,d):Lu(P,c,d)}),T}),mU=td(function(a,c,d){Xr(a,d,c)});function cd(a,c){var d=we(a)?at:kT;return d(a,fe(c,3))}function OU(a,c,d,m){return a==null?[]:(we(c)||(c=c==null?[]:[c]),d=m?t:d,we(d)||(d=d==null?[]:[d]),CT(a,c,d))}var yU=td(function(a,c,d){a[d?0:1].push(c)},function(){return[[],[]]});function vU(a,c,d){var m=we(a)?LO:Jx,y=arguments.length<3;return m(a,fe(c,4),d,y,Is)}function wU(a,c,d){var m=we(a)?RV:Jx,y=arguments.length<3;return m(a,fe(c,4),d,y,yT)}function SU(a,c){var d=we(a)?Ps:vT;return d(a,dd(fe(c,3)))}function _U(a){var c=we(a)?pT:pZ;return c(a)}function xU(a,c,d){(d?Rn(a,c,d):c===t)?c=1:c=xe(c);var m=we(a)?F5:gZ;return m(a,c)}function TU(a){var c=we(a)?z5:OZ;return c(a)}function kU(a){if(a==null)return 0;if(Bn(a))return gd(a)?Nl(a):a.length;var c=pn(a);return c==zi||c==Xi?a.size:i0(a).length}function EU(a,c,d){var m=we(a)?VO:yZ;return d&&Rn(a,c,d)&&(c=t),m(a,fe(c,3))}var PU=Pe(function(a,c){if(a==null)return[];var d=c.length;return d>1&&Rn(a,c[0],c[1])?c=[]:d>2&&Rn(c[0],c[1],c[2])&&(c=[c[0]]),CT(a,Jt(c,1),[])}),hd=l5||function(){return Kt.Date.now()};function bU(a,c){if(typeof c!="function")throw new Ei(o);return a=xe(a),function(){if(--a<1)return c.apply(this,arguments)}}function xk(a,c,d){return c=d?t:c,c=a&&c==null?a.length:c,jr(a,M,t,t,t,t,c)}function Tk(a,c){var d;if(typeof c!="function")throw new Ei(o);return a=xe(a),function(){return--a>0&&(d=c.apply(this,arguments)),a<=1&&(c=t),d}}var P0=Pe(function(a,c,d){var m=k;if(d.length){var y=Cs(d,Fl(P0));m|=I}return jr(a,m,c,d,y)}),kk=Pe(function(a,c,d){var m=k|w;if(d.length){var y=Cs(d,Fl(kk));m|=I}return jr(c,m,a,d,y)});function Ek(a,c,d){c=d?t:c;var m=jr(a,E,t,t,t,t,t,c);return m.placeholder=Ek.placeholder,m}function Pk(a,c,d){c=d?t:c;var m=jr(a,b,t,t,t,t,t,c);return m.placeholder=Pk.placeholder,m}function bk(a,c,d){var m,y,T,P,C,$,V=0,Z=!1,B=!1,G=!0;if(typeof a!="function")throw new Ei(o);c=Ii(c)||0,ht(d)&&(Z=!!d.leading,B="maxWait"in d,T=B?Nt(Ii(d.maxWait)||0,c):T,G="trailing"in d?!!d.trailing:G);function ue(Tt){var Hi=m,Jr=y;return m=y=t,V=Tt,P=a.apply(Jr,Hi),P}function de(Tt){return V=Tt,C=Wu(be,c),Z?ue(Tt):P}function ke(Tt){var Hi=Tt-$,Jr=Tt-V,Xk=c-Hi;return B?dn(Xk,T-Jr):Xk}function pe(Tt){var Hi=Tt-$,Jr=Tt-V;return $===t||Hi>=c||Hi<0||B&&Jr>=T}function be(){var Tt=hd();if(pe(Tt))return $e(Tt);C=Wu(be,ke(Tt))}function $e(Tt){return C=t,G&&m?ue(Tt):(m=y=t,P)}function si(){C!==t&&LT(C),V=0,m=$=y=C=t}function $n(){return C===t?P:$e(hd())}function oi(){var Tt=hd(),Hi=pe(Tt);if(m=arguments,y=this,$=Tt,Hi){if(C===t)return de($);if(B)return LT(C),C=Wu(be,c),ue($)}return C===t&&(C=Wu(be,c)),P}return oi.cancel=si,oi.flush=$n,oi}var CU=Pe(function(a,c){return OT(a,1,c)}),AU=Pe(function(a,c,d){return OT(a,Ii(c)||0,d)});function IU(a){return jr(a,J)}function fd(a,c){if(typeof a!="function"||c!=null&&typeof c!="function")throw new Ei(o);var d=function(){var m=arguments,y=c?c.apply(this,m):m[0],T=d.cache;if(T.has(y))return T.get(y);var P=a.apply(this,m);return d.cache=T.set(y,P)||T,P};return d.cache=new(fd.Cache||zr),d}fd.Cache=zr;function dd(a){if(typeof a!="function")throw new Ei(o);return function(){var c=arguments;switch(c.length){case 0:return!a.call(this);case 1:return!a.call(this,c[0]);case 2:return!a.call(this,c[0],c[1]);case 3:return!a.call(this,c[0],c[1],c[2])}return!a.apply(this,c)}}function RU(a){return Tk(2,a)}var $U=vZ(function(a,c){c=c.length==1&&we(c[0])?at(c[0],ni(fe())):at(Jt(c,1),ni(fe()));var d=c.length;return Pe(function(m){for(var y=-1,T=dn(m.length,d);++y<T;)m[y]=c[y].call(this,m[y]);return ti(a,this,m)})}),b0=Pe(function(a,c){var d=Cs(c,Fl(b0));return jr(a,I,t,c,d)}),Ck=Pe(function(a,c){var d=Cs(c,Fl(Ck));return jr(a,Q,t,c,d)}),QU=qr(function(a,c){return jr(a,W,t,t,t,c)});function DU(a,c){if(typeof a!="function")throw new Ei(o);return c=c===t?c:xe(c),Pe(a,c)}function MU(a,c){if(typeof a!="function")throw new Ei(o);return c=c==null?0:Nt(xe(c),0),Pe(function(d){var m=d[c],y=Qs(d,0,c);return m&&bs(y,m),ti(a,this,y)})}function NU(a,c,d){var m=!0,y=!0;if(typeof a!="function")throw new Ei(o);return ht(d)&&(m="leading"in d?!!d.leading:m,y="trailing"in d?!!d.trailing:y),bk(a,c,{leading:m,maxWait:c,trailing:y})}function LU(a){return xk(a,1)}function VU(a,c){return b0(f0(c),a)}function ZU(){if(!arguments.length)return[];var a=arguments[0];return we(a)?a:[a]}function UU(a){return bi(a,O)}function BU(a,c){return c=typeof c=="function"?c:t,bi(a,O,c)}function WU(a){return bi(a,p|O)}function YU(a,c){return c=typeof c=="function"?c:t,bi(a,p|O,c)}function FU(a,c){return c==null||mT(a,c,zt(c))}function Gi(a,c){return a===c||a!==a&&c!==c}var zU=sd(e0),XU=sd(function(a,c){return a>=c}),Wo=_T(function(){return arguments}())?_T:function(a){return vt(a)&&We.call(a,"callee")&&!aT.call(a,"callee")},we=D.isArray,jU=Wx?ni(Wx):nZ;function Bn(a){return a!=null&&pd(a.length)&&!Hr(a)}function xt(a){return vt(a)&&Bn(a)}function qU(a){return a===!0||a===!1||vt(a)&&In(a)==xu}var Ds=u5||V0,GU=Yx?ni(Yx):iZ;function HU(a){return vt(a)&&a.nodeType===1&&!Yu(a)}function KU(a){if(a==null)return!0;if(Bn(a)&&(we(a)||typeof a=="string"||typeof a.splice=="function"||Ds(a)||zl(a)||Wo(a)))return!a.length;var c=pn(a);if(c==zi||c==Xi)return!a.size;if(Bu(a))return!i0(a).length;for(var d in a)if(We.call(a,d))return!1;return!0}function JU(a,c){return Vu(a,c)}function e9(a,c,d){d=typeof d=="function"?d:t;var m=d?d(a,c):t;return m===t?Vu(a,c,t,d):!!m}function C0(a){if(!vt(a))return!1;var c=In(a);return c==Ef||c==xL||typeof a.message=="string"&&typeof a.name=="string"&&!Yu(a)}function t9(a){return typeof a=="number"&&cT(a)}function Hr(a){if(!ht(a))return!1;var c=In(a);return c==Pf||c==Ox||c==Rl||c==kL}function Ak(a){return typeof a=="number"&&a==xe(a)}function pd(a){return typeof a=="number"&&a>-1&&a%1==0&&a<=z}function ht(a){var c=typeof a;return a!=null&&(c=="object"||c=="function")}function vt(a){return a!=null&&typeof a=="object"}var Ik=Fx?ni(Fx):sZ;function n9(a,c){return a===c||n0(a,c,v0(c))}function i9(a,c,d){return d=typeof d=="function"?d:t,n0(a,c,v0(c),d)}function r9(a){return Rk(a)&&a!=+a}function s9(a){if(BZ(a))throw new Oe(s);return xT(a)}function o9(a){return a===null}function l9(a){return a==null}function Rk(a){return typeof a=="number"||vt(a)&&In(a)==ku}function Yu(a){if(!vt(a)||In(a)!=Yr)return!1;var c=Uf(a);if(c===null)return!0;var d=We.call(c,"constructor")&&c.constructor;return typeof d=="function"&&d instanceof d&&Nf.call(d)==i5}var A0=zx?ni(zx):oZ;function a9(a){return Ak(a)&&a>=-z&&a<=z}var $k=Xx?ni(Xx):lZ;function gd(a){return typeof a=="string"||!we(a)&&vt(a)&&In(a)==Pu}function ri(a){return typeof a=="symbol"||vt(a)&&In(a)==bf}var zl=jx?ni(jx):aZ;function u9(a){return a===t}function c9(a){return vt(a)&&pn(a)==bu}function h9(a){return vt(a)&&In(a)==PL}var f9=sd(r0),d9=sd(function(a,c){return a<=c});function Qk(a){if(!a)return[];if(Bn(a))return gd(a)?ji(a):Un(a);if(Iu&&a[Iu])return FV(a[Iu]());var c=pn(a),d=c==zi?FO:c==Xi?Qf:Xl;return d(a)}function Kr(a){if(!a)return a===0?a:0;if(a=Ii(a),a===yt||a===-yt){var c=a<0?-1:1;return c*ie}return a===a?a:0}function xe(a){var c=Kr(a),d=c%1;return c===c?d?c-d:c:0}function Dk(a){return a?Vo(xe(a),0,Te):0}function Ii(a){if(typeof a=="number")return a;if(ri(a))return oe;if(ht(a)){var c=typeof a.valueOf=="function"?a.valueOf():a;a=ht(c)?c+"":c}if(typeof a!="string")return a===0?a:+a;a=eT(a);var d=jL.test(a);return d||GL.test(a)?bV(a.slice(2),d?2:8):XL.test(a)?oe:+a}function Mk(a){return pr(a,Wn(a))}function p9(a){return a?Vo(xe(a),-z,z):a===0?a:0}function Ue(a){return a==null?"":ii(a)}var g9=Wl(function(a,c){if(Bu(c)||Bn(c)){pr(c,zt(c),a);return}for(var d in c)We.call(c,d)&&Mu(a,d,c[d])}),Nk=Wl(function(a,c){pr(c,Wn(c),a)}),md=Wl(function(a,c,d,m){pr(c,Wn(c),a,m)}),m9=Wl(function(a,c,d,m){pr(c,zt(c),a,m)}),O9=qr(HO);function y9(a,c){var d=Bl(a);return c==null?d:gT(d,c)}var v9=Pe(function(a,c){a=je(a);var d=-1,m=c.length,y=m>2?c[2]:t;for(y&&Rn(c[0],c[1],y)&&(m=1);++d<m;)for(var T=c[d],P=Wn(T),C=-1,$=P.length;++C<$;){var V=P[C],Z=a[V];(Z===t||Gi(Z,Vl[V])&&!We.call(a,V))&&(a[V]=T[V])}return a}),w9=Pe(function(a){return a.push(t,ek),ti(Lk,t,a)});function S9(a,c){return Gx(a,fe(c,3),dr)}function _9(a,c){return Gx(a,fe(c,3),JO)}function x9(a,c){return a==null?a:KO(a,fe(c,3),Wn)}function T9(a,c){return a==null?a:wT(a,fe(c,3),Wn)}function k9(a,c){return a&&dr(a,fe(c,3))}function E9(a,c){return a&&JO(a,fe(c,3))}function P9(a){return a==null?[]:Hf(a,zt(a))}function b9(a){return a==null?[]:Hf(a,Wn(a))}function I0(a,c,d){var m=a==null?t:Zo(a,c);return m===t?d:m}function C9(a,c){return a!=null&&ik(a,c,K5)}function R0(a,c){return a!=null&&ik(a,c,J5)}var A9=qT(function(a,c,d){c!=null&&typeof c.toString!="function"&&(c=Lf.call(c)),a[c]=d},Q0(Yn)),I9=qT(function(a,c,d){c!=null&&typeof c.toString!="function"&&(c=Lf.call(c)),We.call(a,c)?a[c].push(d):a[c]=[d]},fe),R9=Pe(Lu);function zt(a){return Bn(a)?dT(a):i0(a)}function Wn(a){return Bn(a)?dT(a,!0):uZ(a)}function $9(a,c){var d={};return c=fe(c,3),dr(a,function(m,y,T){Xr(d,c(m,y,T),m)}),d}function Q9(a,c){var d={};return c=fe(c,3),dr(a,function(m,y,T){Xr(d,y,c(m,y,T))}),d}var D9=Wl(function(a,c,d){Kf(a,c,d)}),Lk=Wl(function(a,c,d,m){Kf(a,c,d,m)}),M9=qr(function(a,c){var d={};if(a==null)return d;var m=!1;c=at(c,function(T){return T=$s(T,a),m||(m=T.length>1),T}),pr(a,O0(a),d),m&&(d=bi(d,p|g|O,AZ));for(var y=c.length;y--;)u0(d,c[y]);return d});function N9(a,c){return Vk(a,dd(fe(c)))}var L9=qr(function(a,c){return a==null?{}:hZ(a,c)});function Vk(a,c){if(a==null)return{};var d=at(O0(a),function(m){return[m]});return c=fe(c),AT(a,d,function(m,y){return c(m,y[0])})}function V9(a,c,d){c=$s(c,a);var m=-1,y=c.length;for(y||(y=1,a=t);++m<y;){var T=a==null?t:a[gr(c[m])];T===t&&(m=y,T=d),a=Hr(T)?T.call(a):T}return a}function Z9(a,c,d){return a==null?a:Zu(a,c,d)}function U9(a,c,d,m){return m=typeof m=="function"?m:t,a==null?a:Zu(a,c,d,m)}var Zk=KT(zt),Uk=KT(Wn);function B9(a,c,d){var m=we(a),y=m||Ds(a)||zl(a);if(c=fe(c,4),d==null){var T=a&&a.constructor;y?d=m?new T:[]:ht(a)?d=Hr(T)?Bl(Uf(a)):{}:d={}}return(y?ki:dr)(a,function(P,C,$){return c(d,P,C,$)}),d}function W9(a,c){return a==null?!0:u0(a,c)}function Y9(a,c,d){return a==null?a:DT(a,c,f0(d))}function F9(a,c,d,m){return m=typeof m=="function"?m:t,a==null?a:DT(a,c,f0(d),m)}function Xl(a){return a==null?[]:YO(a,zt(a))}function z9(a){return a==null?[]:YO(a,Wn(a))}function X9(a,c,d){return d===t&&(d=c,c=t),d!==t&&(d=Ii(d),d=d===d?d:0),c!==t&&(c=Ii(c),c=c===c?c:0),Vo(Ii(a),c,d)}function j9(a,c,d){return c=Kr(c),d===t?(d=c,c=0):d=Kr(d),a=Ii(a),eZ(a,c,d)}function q9(a,c,d){if(d&&typeof d!="boolean"&&Rn(a,c,d)&&(c=d=t),d===t&&(typeof c=="boolean"?(d=c,c=t):typeof a=="boolean"&&(d=a,a=t)),a===t&&c===t?(a=0,c=1):(a=Kr(a),c===t?(c=a,a=0):c=Kr(c)),a>c){var m=a;a=c,c=m}if(d||a%1||c%1){var y=hT();return dn(a+y*(c-a+PV("1e-"+((y+"").length-1))),c)}return o0(a,c)}var G9=Yl(function(a,c,d){return c=c.toLowerCase(),a+(d?Bk(c):c)});function Bk(a){return $0(Ue(a).toLowerCase())}function Wk(a){return a=Ue(a),a&&a.replace(KL,ZV).replace(OV,"")}function H9(a,c,d){a=Ue(a),c=ii(c);var m=a.length;d=d===t?m:Vo(xe(d),0,m);var y=d;return d-=c.length,d>=0&&a.slice(d,y)==c}function K9(a){return a=Ue(a),a&&RL.test(a)?a.replace(wx,UV):a}function J9(a){return a=Ue(a),a&&LL.test(a)?a.replace(bO,"\\$&"):a}var e3=Yl(function(a,c,d){return a+(d?"-":"")+c.toLowerCase()}),t3=Yl(function(a,c,d){return a+(d?" ":"")+c.toLowerCase()}),n3=zT("toLowerCase");function i3(a,c,d){a=Ue(a),c=xe(c);var m=c?Nl(a):0;if(!c||m>=c)return a;var y=(c-m)/2;return rd(Ff(y),d)+a+rd(Yf(y),d)}function r3(a,c,d){a=Ue(a),c=xe(c);var m=c?Nl(a):0;return c&&m<c?a+rd(c-m,d):a}function s3(a,c,d){a=Ue(a),c=xe(c);var m=c?Nl(a):0;return c&&m<c?rd(c-m,d)+a:a}function o3(a,c,d){return d||c==null?c=0:c&&(c=+c),d5(Ue(a).replace(CO,""),c||0)}function l3(a,c,d){return(d?Rn(a,c,d):c===t)?c=1:c=xe(c),l0(Ue(a),c)}function a3(){var a=arguments,c=Ue(a[0]);return a.length<3?c:c.replace(a[1],a[2])}var u3=Yl(function(a,c,d){return a+(d?"_":"")+c.toLowerCase()});function c3(a,c,d){return d&&typeof d!="number"&&Rn(a,c,d)&&(c=d=t),d=d===t?Te:d>>>0,d?(a=Ue(a),a&&(typeof c=="string"||c!=null&&!A0(c))&&(c=ii(c),!c&&Ml(a))?Qs(ji(a),0,d):a.split(c,d)):[]}var h3=Yl(function(a,c,d){return a+(d?" ":"")+$0(c)});function f3(a,c,d){return a=Ue(a),d=d==null?0:Vo(xe(d),0,a.length),c=ii(c),a.slice(d,d+c.length)==c}function d3(a,c,d){var m=S.templateSettings;d&&Rn(a,c,d)&&(c=t),a=Ue(a),c=md({},c,m,JT);var y=md({},c.imports,m.imports,JT),T=zt(y),P=YO(y,T),C,$,V=0,Z=c.interpolate||Cf,B="__p += '",G=zO((c.escape||Cf).source+"|"+Z.source+"|"+(Z===Sx?zL:Cf).source+"|"+(c.evaluate||Cf).source+"|$","g"),ue="//# sourceURL="+(We.call(c,"sourceURL")?(c.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++_V+"]")+`
`;a.replace(G,function(pe,be,$e,si,$n,oi){return $e||($e=si),B+=a.slice(V,oi).replace(JL,BV),be&&(C=!0,B+=`' +
__e(`+be+`) +
'`),$n&&($=!0,B+=`';
`+$n+`;
__p += '`),$e&&(B+=`' +
((__t = (`+$e+`)) == null ? '' : __t) +
'`),V=oi+pe.length,pe}),B+=`';
`;var de=We.call(c,"variable")&&c.variable;if(!de)B=`with (obj) {
`+B+`
}
`;else if(YL.test(de))throw new Oe(l);B=($?B.replace(bL,""):B).replace(CL,"$1").replace(AL,"$1;"),B="function("+(de||"obj")+`) {
`+(de?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(C?", __e = _.escape":"")+($?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+B+`return __p
}`;var ke=Fk(function(){return Ve(T,ue+"return "+B).apply(t,P)});if(ke.source=B,C0(ke))throw ke;return ke}function p3(a){return Ue(a).toLowerCase()}function g3(a){return Ue(a).toUpperCase()}function m3(a,c,d){if(a=Ue(a),a&&(d||c===t))return eT(a);if(!a||!(c=ii(c)))return a;var m=ji(a),y=ji(c),T=tT(m,y),P=nT(m,y)+1;return Qs(m,T,P).join("")}function O3(a,c,d){if(a=Ue(a),a&&(d||c===t))return a.slice(0,rT(a)+1);if(!a||!(c=ii(c)))return a;var m=ji(a),y=nT(m,ji(c))+1;return Qs(m,0,y).join("")}function y3(a,c,d){if(a=Ue(a),a&&(d||c===t))return a.replace(CO,"");if(!a||!(c=ii(c)))return a;var m=ji(a),y=tT(m,ji(c));return Qs(m,y).join("")}function v3(a,c){var d=j,m=Ee;if(ht(c)){var y="separator"in c?c.separator:y;d="length"in c?xe(c.length):d,m="omission"in c?ii(c.omission):m}a=Ue(a);var T=a.length;if(Ml(a)){var P=ji(a);T=P.length}if(d>=T)return a;var C=d-Nl(m);if(C<1)return m;var $=P?Qs(P,0,C).join(""):a.slice(0,C);if(y===t)return $+m;if(P&&(C+=$.length-C),A0(y)){if(a.slice(C).search(y)){var V,Z=$;for(y.global||(y=zO(y.source,Ue(_x.exec(y))+"g")),y.lastIndex=0;V=y.exec(Z);)var B=V.index;$=$.slice(0,B===t?C:B)}}else if(a.indexOf(ii(y),C)!=C){var G=$.lastIndexOf(y);G>-1&&($=$.slice(0,G))}return $+m}function w3(a){return a=Ue(a),a&&IL.test(a)?a.replace(vx,qV):a}var S3=Yl(function(a,c,d){return a+(d?" ":"")+c.toUpperCase()}),$0=zT("toUpperCase");function Yk(a,c,d){return a=Ue(a),c=d?t:c,c===t?YV(a)?KV(a):DV(a):a.match(c)||[]}var Fk=Pe(function(a,c){try{return ti(a,t,c)}catch(d){return C0(d)?d:new Oe(d)}}),_3=qr(function(a,c){return ki(c,function(d){d=gr(d),Xr(a,d,P0(a[d],a))}),a});function x3(a){var c=a==null?0:a.length,d=fe();return a=c?at(a,function(m){if(typeof m[1]!="function")throw new Ei(o);return[d(m[0]),m[1]]}):[],Pe(function(m){for(var y=-1;++y<c;){var T=a[y];if(ti(T[0],this,m))return ti(T[1],this,m)}})}function T3(a){return q5(bi(a,p))}function Q0(a){return function(){return a}}function k3(a,c){return a==null||a!==a?c:a}var E3=jT(),P3=jT(!0);function Yn(a){return a}function D0(a){return TT(typeof a=="function"?a:bi(a,p))}function b3(a){return ET(bi(a,p))}function C3(a,c){return PT(a,bi(c,p))}var A3=Pe(function(a,c){return function(d){return Lu(d,a,c)}}),I3=Pe(function(a,c){return function(d){return Lu(a,d,c)}});function M0(a,c,d){var m=zt(c),y=Hf(c,m);d==null&&!(ht(c)&&(y.length||!m.length))&&(d=c,c=a,a=this,y=Hf(c,zt(c)));var T=!(ht(d)&&"chain"in d)||!!d.chain,P=Hr(a);return ki(y,function(C){var $=c[C];a[C]=$,P&&(a.prototype[C]=function(){var V=this.__chain__;if(T||V){var Z=a(this.__wrapped__),B=Z.__actions__=Un(this.__actions__);return B.push({func:$,args:arguments,thisArg:a}),Z.__chain__=V,Z}return $.apply(a,bs([this.value()],arguments))})}),a}function R3(){return Kt._===this&&(Kt._=r5),this}function N0(){}function $3(a){return a=xe(a),Pe(function(c){return bT(c,a)})}var Q3=p0(at),D3=p0(qx),M3=p0(VO);function zk(a){return S0(a)?ZO(gr(a)):fZ(a)}function N3(a){return function(c){return a==null?t:Zo(a,c)}}var L3=GT(),V3=GT(!0);function L0(){return[]}function V0(){return!1}function Z3(){return{}}function U3(){return""}function B3(){return!0}function W3(a,c){if(a=xe(a),a<1||a>z)return[];var d=Te,m=dn(a,Te);c=fe(c),a-=Te;for(var y=WO(m,c);++d<a;)c(d);return y}function Y3(a){return we(a)?at(a,gr):ri(a)?[a]:Un(fk(Ue(a)))}function F3(a){var c=++n5;return Ue(a)+c}var z3=id(function(a,c){return a+c},0),X3=g0("ceil"),j3=id(function(a,c){return a/c},1),q3=g0("floor");function G3(a){return a&&a.length?Gf(a,Yn,e0):t}function H3(a,c){return a&&a.length?Gf(a,fe(c,2),e0):t}function K3(a){return Kx(a,Yn)}function J3(a,c){return Kx(a,fe(c,2))}function eB(a){return a&&a.length?Gf(a,Yn,r0):t}function tB(a,c){return a&&a.length?Gf(a,fe(c,2),r0):t}var nB=id(function(a,c){return a*c},1),iB=g0("round"),rB=id(function(a,c){return a-c},0);function sB(a){return a&&a.length?BO(a,Yn):0}function oB(a,c){return a&&a.length?BO(a,fe(c,2)):0}return S.after=bU,S.ary=xk,S.assign=g9,S.assignIn=Nk,S.assignInWith=md,S.assignWith=m9,S.at=O9,S.before=Tk,S.bind=P0,S.bindAll=_3,S.bindKey=kk,S.castArray=ZU,S.chain=wk,S.chunk=qZ,S.compact=GZ,S.concat=HZ,S.cond=x3,S.conforms=T3,S.constant=Q0,S.countBy=sU,S.create=y9,S.curry=Ek,S.curryRight=Pk,S.debounce=bk,S.defaults=v9,S.defaultsDeep=w9,S.defer=CU,S.delay=AU,S.difference=KZ,S.differenceBy=JZ,S.differenceWith=e4,S.drop=t4,S.dropRight=n4,S.dropRightWhile=i4,S.dropWhile=r4,S.fill=s4,S.filter=lU,S.flatMap=cU,S.flatMapDeep=hU,S.flatMapDepth=fU,S.flatten=mk,S.flattenDeep=o4,S.flattenDepth=l4,S.flip=IU,S.flow=E3,S.flowRight=P3,S.fromPairs=a4,S.functions=P9,S.functionsIn=b9,S.groupBy=dU,S.initial=c4,S.intersection=h4,S.intersectionBy=f4,S.intersectionWith=d4,S.invert=A9,S.invertBy=I9,S.invokeMap=gU,S.iteratee=D0,S.keyBy=mU,S.keys=zt,S.keysIn=Wn,S.map=cd,S.mapKeys=$9,S.mapValues=Q9,S.matches=b3,S.matchesProperty=C3,S.memoize=fd,S.merge=D9,S.mergeWith=Lk,S.method=A3,S.methodOf=I3,S.mixin=M0,S.negate=dd,S.nthArg=$3,S.omit=M9,S.omitBy=N9,S.once=RU,S.orderBy=OU,S.over=Q3,S.overArgs=$U,S.overEvery=D3,S.overSome=M3,S.partial=b0,S.partialRight=Ck,S.partition=yU,S.pick=L9,S.pickBy=Vk,S.property=zk,S.propertyOf=N3,S.pull=O4,S.pullAll=yk,S.pullAllBy=y4,S.pullAllWith=v4,S.pullAt=w4,S.range=L3,S.rangeRight=V3,S.rearg=QU,S.reject=SU,S.remove=S4,S.rest=DU,S.reverse=k0,S.sampleSize=xU,S.set=Z9,S.setWith=U9,S.shuffle=TU,S.slice=_4,S.sortBy=PU,S.sortedUniq=C4,S.sortedUniqBy=A4,S.split=c3,S.spread=MU,S.tail=I4,S.take=R4,S.takeRight=$4,S.takeRightWhile=Q4,S.takeWhile=D4,S.tap=G4,S.throttle=NU,S.thru=ud,S.toArray=Qk,S.toPairs=Zk,S.toPairsIn=Uk,S.toPath=Y3,S.toPlainObject=Mk,S.transform=B9,S.unary=LU,S.union=M4,S.unionBy=N4,S.unionWith=L4,S.uniq=V4,S.uniqBy=Z4,S.uniqWith=U4,S.unset=W9,S.unzip=E0,S.unzipWith=vk,S.update=Y9,S.updateWith=F9,S.values=Xl,S.valuesIn=z9,S.without=B4,S.words=Yk,S.wrap=VU,S.xor=W4,S.xorBy=Y4,S.xorWith=F4,S.zip=z4,S.zipObject=X4,S.zipObjectDeep=j4,S.zipWith=q4,S.entries=Zk,S.entriesIn=Uk,S.extend=Nk,S.extendWith=md,M0(S,S),S.add=z3,S.attempt=Fk,S.camelCase=G9,S.capitalize=Bk,S.ceil=X3,S.clamp=X9,S.clone=UU,S.cloneDeep=WU,S.cloneDeepWith=YU,S.cloneWith=BU,S.conformsTo=FU,S.deburr=Wk,S.defaultTo=k3,S.divide=j3,S.endsWith=H9,S.eq=Gi,S.escape=K9,S.escapeRegExp=J9,S.every=oU,S.find=aU,S.findIndex=pk,S.findKey=S9,S.findLast=uU,S.findLastIndex=gk,S.findLastKey=_9,S.floor=q3,S.forEach=Sk,S.forEachRight=_k,S.forIn=x9,S.forInRight=T9,S.forOwn=k9,S.forOwnRight=E9,S.get=I0,S.gt=zU,S.gte=XU,S.has=C9,S.hasIn=R0,S.head=Ok,S.identity=Yn,S.includes=pU,S.indexOf=u4,S.inRange=j9,S.invoke=R9,S.isArguments=Wo,S.isArray=we,S.isArrayBuffer=jU,S.isArrayLike=Bn,S.isArrayLikeObject=xt,S.isBoolean=qU,S.isBuffer=Ds,S.isDate=GU,S.isElement=HU,S.isEmpty=KU,S.isEqual=JU,S.isEqualWith=e9,S.isError=C0,S.isFinite=t9,S.isFunction=Hr,S.isInteger=Ak,S.isLength=pd,S.isMap=Ik,S.isMatch=n9,S.isMatchWith=i9,S.isNaN=r9,S.isNative=s9,S.isNil=l9,S.isNull=o9,S.isNumber=Rk,S.isObject=ht,S.isObjectLike=vt,S.isPlainObject=Yu,S.isRegExp=A0,S.isSafeInteger=a9,S.isSet=$k,S.isString=gd,S.isSymbol=ri,S.isTypedArray=zl,S.isUndefined=u9,S.isWeakMap=c9,S.isWeakSet=h9,S.join=p4,S.kebabCase=e3,S.last=Ai,S.lastIndexOf=g4,S.lowerCase=t3,S.lowerFirst=n3,S.lt=f9,S.lte=d9,S.max=G3,S.maxBy=H3,S.mean=K3,S.meanBy=J3,S.min=eB,S.minBy=tB,S.stubArray=L0,S.stubFalse=V0,S.stubObject=Z3,S.stubString=U3,S.stubTrue=B3,S.multiply=nB,S.nth=m4,S.noConflict=R3,S.noop=N0,S.now=hd,S.pad=i3,S.padEnd=r3,S.padStart=s3,S.parseInt=o3,S.random=q9,S.reduce=vU,S.reduceRight=wU,S.repeat=l3,S.replace=a3,S.result=V9,S.round=iB,S.runInContext=R,S.sample=_U,S.size=kU,S.snakeCase=u3,S.some=EU,S.sortedIndex=x4,S.sortedIndexBy=T4,S.sortedIndexOf=k4,S.sortedLastIndex=E4,S.sortedLastIndexBy=P4,S.sortedLastIndexOf=b4,S.startCase=h3,S.startsWith=f3,S.subtract=rB,S.sum=sB,S.sumBy=oB,S.template=d3,S.times=W3,S.toFinite=Kr,S.toInteger=xe,S.toLength=Dk,S.toLower=p3,S.toNumber=Ii,S.toSafeInteger=p9,S.toString=Ue,S.toUpper=g3,S.trim=m3,S.trimEnd=O3,S.trimStart=y3,S.truncate=v3,S.unescape=w3,S.uniqueId=F3,S.upperCase=S3,S.upperFirst=$0,S.each=Sk,S.eachRight=_k,S.first=Ok,M0(S,function(){var a={};return dr(S,function(c,d){We.call(S.prototype,d)||(a[d]=c)}),a}(),{chain:!1}),S.VERSION=i,ki(["bind","bindKey","curry","curryRight","partial","partialRight"],function(a){S[a].placeholder=S}),ki(["drop","take"],function(a,c){Ce.prototype[a]=function(d){d=d===t?1:Nt(xe(d),0);var m=this.__filtered__&&!c?new Ce(this):this.clone();return m.__filtered__?m.__takeCount__=dn(d,m.__takeCount__):m.__views__.push({size:dn(d,Te),type:a+(m.__dir__<0?"Right":"")}),m},Ce.prototype[a+"Right"]=function(d){return this.reverse()[a](d).reverse()}}),ki(["filter","map","takeWhile"],function(a,c){var d=c+1,m=d==bt||d==Ot;Ce.prototype[a]=function(y){var T=this.clone();return T.__iteratees__.push({iteratee:fe(y,3),type:d}),T.__filtered__=T.__filtered__||m,T}}),ki(["head","last"],function(a,c){var d="take"+(c?"Right":"");Ce.prototype[a]=function(){return this[d](1).value()[0]}}),ki(["initial","tail"],function(a,c){var d="drop"+(c?"":"Right");Ce.prototype[a]=function(){return this.__filtered__?new Ce(this):this[d](1)}}),Ce.prototype.compact=function(){return this.filter(Yn)},Ce.prototype.find=function(a){return this.filter(a).head()},Ce.prototype.findLast=function(a){return this.reverse().find(a)},Ce.prototype.invokeMap=Pe(function(a,c){return typeof a=="function"?new Ce(this):this.map(function(d){return Lu(d,a,c)})}),Ce.prototype.reject=function(a){return this.filter(dd(fe(a)))},Ce.prototype.slice=function(a,c){a=xe(a);var d=this;return d.__filtered__&&(a>0||c<0)?new Ce(d):(a<0?d=d.takeRight(-a):a&&(d=d.drop(a)),c!==t&&(c=xe(c),d=c<0?d.dropRight(-c):d.take(c-a)),d)},Ce.prototype.takeRightWhile=function(a){return this.reverse().takeWhile(a).reverse()},Ce.prototype.toArray=function(){return this.take(Te)},dr(Ce.prototype,function(a,c){var d=/^(?:filter|find|map|reject)|While$/.test(c),m=/^(?:head|last)$/.test(c),y=S[m?"take"+(c=="last"?"Right":""):c],T=m||/^find/.test(c);y&&(S.prototype[c]=function(){var P=this.__wrapped__,C=m?[1]:arguments,$=P instanceof Ce,V=C[0],Z=$||we(P),B=function(be){var $e=y.apply(S,bs([be],C));return m&&G?$e[0]:$e};Z&&d&&typeof V=="function"&&V.length!=1&&($=Z=!1);var G=this.__chain__,ue=!!this.__actions__.length,de=T&&!G,ke=$&&!ue;if(!T&&Z){P=ke?P:new Ce(this);var pe=a.apply(P,C);return pe.__actions__.push({func:ud,args:[B],thisArg:t}),new Pi(pe,G)}return de&&ke?a.apply(this,C):(pe=this.thru(B),de?m?pe.value()[0]:pe.value():pe)})}),ki(["pop","push","shift","sort","splice","unshift"],function(a){var c=Df[a],d=/^(?:push|sort|unshift)$/.test(a)?"tap":"thru",m=/^(?:pop|shift)$/.test(a);S.prototype[a]=function(){var y=arguments;if(m&&!this.__chain__){var T=this.value();return c.apply(we(T)?T:[],y)}return this[d](function(P){return c.apply(we(P)?P:[],y)})}}),dr(Ce.prototype,function(a,c){var d=S[c];if(d){var m=d.name+"";We.call(Ul,m)||(Ul[m]=[]),Ul[m].push({name:c,func:d})}}),Ul[nd(t,w).name]=[{name:"wrapper",func:t}],Ce.prototype.clone=w5,Ce.prototype.reverse=S5,Ce.prototype.value=_5,S.prototype.at=H4,S.prototype.chain=K4,S.prototype.commit=J4,S.prototype.next=eU,S.prototype.plant=nU,S.prototype.reverse=iU,S.prototype.toJSON=S.prototype.valueOf=S.prototype.value=rU,S.prototype.first=S.prototype.head,Iu&&(S.prototype[Iu]=tU),S},Ll=JV();Do?((Do.exports=Ll)._=Ll,DO._=Ll):Kt._=Ll}).call(Fu)})(cm,cm.exports);var cre=cm.exports;const hre=({initialCode:n})=>{const[e,t]=X.useState(!1),[i,r]=X.useState(""),s=X.useRef(),o=cre.debounce(h=>{localStorage.setItem("code",h),t(!1)},1e3),l=Ft.define({create:()=>null,update(h,f){if(f.docChanged){const p=f.state.doc.toString();o(p),t(!0),console.log(p)}return h}}),u=yo.data.of({autocomplete:Yie(window)});return X.useEffect(()=>{e?r("Saving..."):localStorage.getItem("code")&&localStorage.getItem("code").length>0?r("Saved"):r("")},[e]),X.useEffect(()=>{if(!s.current)return;const h=Me.create({doc:"",extensions:[lie,vf.of([...MN,{key:"Tab",run:QN},{key:"Shift-Tab",run:DN},{key:"Ctrl-Space",run:tL}]),ure,l,u,qie(),aL(),ZK("Type your code here...")]}),f=new ne({state:h,parent:s.current}),p=localStorage.getItem("code");return console.log("saved code, ",p),n?f.dispatch({changes:{from:0,to:f.state.doc.length,insert:n}}):p&&f.dispatch({changes:{from:0,to:f.state.doc.length,insert:p}}),f.focus(),()=>{f.destroy()}},[n]),K.createElement("div",null,K.createElement("div",{ref:s,className:"cm-container"}),i)},fre=({heading:n,setHeading:e})=>{const[t,i]=X.useState(!1),r=()=>{i(!0)},s=h=>{e(h.target.value)},o=()=>{i(!1)},l=h=>{h.target.select()},u={display:"inline-block",fontSize:"1em",fontWeight:"bold",outline:"none",backgroundColor:"transparent",border:"solid black 1px"};return t?K.createElement("h1",null,K.createElement("input",{value:n,onChange:s,onBlur:o,onFocus:l,autoFocus:!0,style:u})):K.createElement("h1",{onClick:r},n)},dre=({description:n,setDescription:e})=>{const[t,i]=X.useState(!1),r=()=>{i(!0)},s=h=>{e(h.target.value)},o=()=>{i(!1)},l=h=>{h.target.select()},u={display:"inline-block",fontWeight:"normal",outline:"none",backgroundColor:"transparent",padding:"0",margin:"1em 0",border:"solid black 1px"};return t?K.createElement("p",null,K.createElement("input",{value:n,onChange:s,onBlur:o,onFocus:l,autoFocus:!0,placeholder:"Click to add a description",style:u})):K.createElement("div",null,K.createElement("img",{className:"glyph-icon",src:"https://img.icons8.com/ios-glyphs/20/000000/pencil.png",alt:"Edit"}),K.createElement("p",{className:"editable-description",onClick:r},n.length===0?"Click to add a description":n))};const pre=({selectedTags:n,setSelectedTags:e})=>{const t=["arrays","lists","loops","functions","selection","recursion","strings","dictionaries","classes","objects","math"],[i,r]=X.useState(""),[s,o]=X.useState([]);X.useEffect(()=>{o(t.filter(f=>f.includes(i)&&!n.includes(f)))},[i,n]);const l=f=>{const p=f.target.value;r(p),s.includes(p)&&(e(g=>[...g,p]),r(""))},u=f=>{e(p=>p.filter(g=>g!==f))},h=f=>{f.key==="Tab"&&s.includes(i)&&(f.preventDefault(),e(p=>[...p,i]),r(""))};return K.createElement("div",{id:"tag-editor-container"},n.map(f=>K.createElement("span",{className:"tag-item",key:f},K.createElement("span",{className:"pointer",onClick:()=>u(f)},"✖"),f)),K.createElement("input",{list:"tag-list",type:"text",value:i,onChange:l,onKeyDown:h}),K.createElement("datalist",{id:"tag-list"},s.map(f=>K.createElement("option",{key:f,value:f}))))};const gre=()=>{const n=Xh(),e=new URLSearchParams(n.search),[t,i]=X.useState(e.get("id")||""),{userID:r}=sO(),[s,o]=X.useState(""),{addProblem:l}=vG(),[u,h]=X.useState("Untitled Problem"),[f,p]=X.useState(""),[g,O]=X.useState([]),v=async()=>{const k={code:localStorage.getItem("code"),title:u,description:f,tags:g},w=await l(k);console.log(w)};return X.useEffect(()=>{const x=k=>{(k.metaKey||k.ctrlKey)&&k.key.toLowerCase()==="s"&&(k.preventDefault(),console.log("default save prevented"))};return window.addEventListener("keydown",x),()=>{window.removeEventListener("keydown",x)}},[]),X.useEffect(()=>{r&&t&&(async()=>{const k=yQ(M_,"problems",t),w=await a8(k);w.exists()?(h(w.data().title),p(w.data().description),O(w.data().tags),o(w.data().code)):console.log("No such document!")})()},[r,t]),K.createElement("div",{id:"home"},K.createElement(fre,{heading:u,setHeading:h}),K.createElement(dre,{description:f,setDescription:p}),K.createElement(pre,{selectedTags:g,setSelectedTags:O}),K.createElement(hre,{initialCode:s}),K.createElement("button",{onClick:v},"Submit"))};const mre=()=>{const{signInGoogle:n,signOutGoogle:e,userID:t,name:i,profilePhoto:r,isAuth:s}=sO(),[o,l]=X.useState(!1);return K.createElement("div",{className:"flex middle right"},s?K.createElement("div",{className:"profile-container",onClick:()=>l(!o)},K.createElement("img",{className:"profile-photo",src:r,alt:"Profile"}),o&&K.createElement("div",{className:"profile-details"},K.createElement("p",{className:"username"},i),K.createElement("button",{className:"logout-button",onClick:e},"Logout"))):K.createElement("button",{className:"gsi-material-button",onClick:n},K.createElement("div",{className:"gsi-material-button-state"}),K.createElement("div",{className:"gsi-material-button-content-wrapper"},K.createElement("div",{className:"gsi-material-button-icon"},K.createElement("svg",{version:"1.1",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 48 48",xmlnsXlink:"http://www.w3.org/1999/xlink",style:{display:"block"}},K.createElement("path",{fill:"#EA4335",d:"M24 9.5c3.54 0 6.71 1.22 9.21 3.6l6.85-6.85C35.9 2.38 30.47 0 24 0 14.62 0 6.51 5.38 2.56 13.22l7.98 6.19C12.43 13.72 17.74 9.5 24 9.5z"}),K.createElement("path",{fill:"#4285F4",d:"M46.98 24.55c0-1.57-.15-3.09-.38-4.55H24v9.02h12.94c-.58 2.96-2.26 5.48-4.78 7.18l7.73 6c4.51-4.18 7.09-10.36 7.09-17.65z"}),K.createElement("path",{fill:"#FBBC05",d:"M10.53 28.59c-.48-1.45-.76-2.99-.76-4.59s.27-3.14.76-4.59l-7.98-6.19C.92 16.46 0 20.12 0 24c0 3.88.92 7.54 2.56 10.78l7.97-6.19z"}),K.createElement("path",{fill:"#34A853",d:"M24 48c6.48 0 11.93-2.13 15.89-5.81l-7.73-6c-2.15 1.45-4.92 2.3-8.16 2.3-6.26 0-11.57-4.22-13.47-9.91l-7.98 6.19C6.51 42.62 14.62 48 24 48z"}),K.createElement("path",{fill:"none",d:"M0 0h48v48H0z"}))),K.createElement("span",{className:"gsi-material-button-contents"},"Sign in with Google"),K.createElement("span",{style:{display:"none"}},"Sign in with Google"))))},Ore=()=>K.createElement("div",null,K.createElement("h1",null,"Home"));const yre=()=>{const{userID:n}=sO(),[e,t]=X.useState(null);return X.useEffect(()=>{n&&(async()=>{const r=n8(OQ(M_,"problems"),i8("userID","==",n)),o=(await u8(r)).docs.map(l=>({id:l.id,...l.data()}));t(o)})()},[n]),K.createElement("div",{id:"dash"},K.createElement("h1",null,"Dashboard"),K.createElement("div",{className:"break"},K.createElement(Ta,{to:"/editor",className:"new-problem-button"},"+ New Problem"),localStorage.getItem("code")&&K.createElement(Ta,{to:"/editor",className:"continue-button"},"Continue Working")),e&&e.length>0&&K.createElement("hr",null),K.createElement("div",{className:"flex"},e&&e.map((i,r)=>K.createElement("div",{className:"problem-list-item",key:r},K.createElement(Ta,{className:"problem-list-item-link",to:`/editor?id=${i.id}`},i.title)))))},vre=()=>K.createElement(_F,null,K.createElement("div",null,K.createElement("nav",null,K.createElement("ul",{className:"flex"},K.createElement("li",{className:"x1 center"},K.createElement(Ta,{className:"nav-item flex middle center",to:"/"},"Home")),K.createElement("li",{className:"x1 center"},K.createElement(Ta,{className:"nav-item flex middle center",to:"/editor"},"Editor")),K.createElement("li",{className:"x1 center"},K.createElement(Ta,{className:"nav-item flex middle center",to:"/dash"},"Dash")),K.createElement("li",{className:"x1 center"},K.createElement(mre,null)))),K.createElement(mF,null,K.createElement(_p,{path:"/",element:K.createElement(Ore,null)}),K.createElement(_p,{path:"/dash",element:K.createElement(yre,null)}),K.createElement(_p,{path:"/editor",element:K.createElement(gre,null)})))),wre=()=>K.createElement(vre,null);VR(document.getElementById("root")).render(K.createElement(wre,null));
